var FS=Object.defineProperty,VS=Object.defineProperties;var US=Object.getOwnPropertyDescriptors;var Dv=Object.getOwnPropertySymbols,jS=Object.getPrototypeOf,BS=Object.prototype.hasOwnProperty,$S=Object.prototype.propertyIsEnumerable,HS=Reflect.get;var bv=(t,e,n)=>e in t?FS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})BS.call(e,n)&&bv(t,n,e[n]);if(Dv)for(var n of Dv(e))$S.call(e,n)&&bv(t,n,e[n]);return t},_e=(t,e)=>VS(t,US(e));var Gn=(t,e,n)=>HS(jS(t),n,e);var b=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});var yd=null;var md=1,Sv=Symbol("SIGNAL");function ne(t){let e=yd;return yd=t,e}function Av(){return yd}var vd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qS(t){if(!(Td(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===md)){if(!t.producerMustRecompute(t)&&!wd(t)){t.dirty=!1,t.lastCleanEpoch=md;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=md}}function _d(t){return t&&(t.nextProducerIndex=0),ne(t)}function Rv(t,e){if(ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Td(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ed(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wd(t){Cd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(qS(n),r!==n.version))return!0}return!1}function Id(t){if(Cd(t),Td(t))for(let e=0;e<t.producerNode.length;e++)Ed(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ed(t,e){if(zS(t),t.liveConsumerNode.length===1&&GS(t))for(let r=0;r<t.producerNode.length;r++)Ed(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Cd(i),i.producerIndexOfThis[r]=e}}function Td(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Cd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function zS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function GS(t){return t.producerNode!==void 0}function WS(){throw new Error}var KS=WS;function Nv(t){KS=t}function B(t){return typeof t=="function"}function yi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ja=yi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function br(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(s){e=s instanceof Ja?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{xv(s)}catch(o){e=e??[],o instanceof Ja?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ja(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&br(n,e)}remove(e){let{_finalizers:n}=this;n&&br(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var Dd=Te.EMPTY;function Za(t){return t instanceof Te||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function xv(t){B(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vi={setTimeout(t,e,...n){let{delegate:r}=vi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=vi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xa(t){vi.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function ro(){}var Mv=bd("C",void 0,void 0);function Pv(t){return bd("E",void 0,t)}function kv(t){return bd("N",t,void 0)}function bd(t,e,n){return{kind:t,value:e,error:n}}var Sr=null;function _i(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!Sr;if(e&&(Sr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Sr;if(Sr=null,n)throw r}}else t()}function Ov(t){Ft.useDeprecatedSynchronousErrorHandling&&Sr&&(Sr.errorThrown=!0,Sr.error=t)}var Ar=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Za(e)&&e.add(this)):this.destination=JS}static create(e,n,r){return new wi(e,n,r)}next(e){this.isStopped?Ad(kv(e),this):this._next(e)}error(e){this.isStopped?Ad(Pv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ad(Mv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QS=Function.prototype.bind;function Sd(t,e){return QS.call(t,e)}var Rd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ec(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ec(r)}else ec(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ec(n)}}},wi=class extends Ar{constructor(e,n,r){super();let i;if(B(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sd(e.next,s),error:e.error&&Sd(e.error,s),complete:e.complete&&Sd(e.complete,s)}):i=e}this.destination=new Rd(i)}};function ec(t){Ft.useDeprecatedSynchronousErrorHandling?Ov(t):Xa(t)}function YS(t){throw t}function Ad(t,e){let{onStoppedNotification:n}=Ft;n&&vi.setTimeout(()=>n(t,e))}var JS={closed:!0,next:ro,error:YS,complete:ro};var Ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(t){return t}function Nd(...t){return xd(t)}function xd(t){return t.length===0?ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=XS(n)?n:new wi(n,r,i);return _i(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Lv(r),new r((i,s)=>{let o=new wi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ii](){return this}pipe(...n){return xd(n)(this)}toPromise(n){return n=Lv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Lv(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function ZS(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function XS(t){return t&&t instanceof Ar||ZS(t)&&Za(t)}function Md(t){return B(t?.lift)}function J(t){return e=>{if(Md(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(t,e,n,r,i){return new Pd(t,e,n,r,i)}var Pd=class extends Ar{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ei(){return J((t,e)=>{let n=null;t._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ti=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Md(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(Z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return Ei()(this)}};var Fv=yi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new tc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Fv}next(n){_i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){_i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Dd:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,br(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new tc(e,n),t})(),tc=class extends Me{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Dd}};var Ue=class extends Me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var kd={now(){return(kd.delegate||Date).now()},delegate:void 0};var nc=class extends Te{constructor(e,n){super()}schedule(e,n=0){return this}};var io={setInterval(t,e,...n){let{delegate:r}=io;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=io;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ci=class extends nc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return io.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&io.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,br(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Di=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Di.now=kd.now;var bi=class extends Di{constructor(e,n=Di.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Od=new bi(Ci);var rc=class extends Ci{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ic=class extends bi{};var Ld=new ic(rc);var pt=new se(t=>t.complete());function Vv(t){return t&&B(t.schedule)}function Uv(t){return t[t.length-1]}function jv(t){return B(Uv(t))?t.pop():void 0}function Wn(t){return Vv(Uv(t))?t.pop():void 0}function sc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $v(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function Bv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rr(t){return this instanceof Rr?(this.v=t,this):new Rr(t)}function Hv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,p)}}function c(I,A){r[I]&&(i[I]=function(R){return new Promise(function(P,W){s.push([I,R,P,W])>1||u(I,R)})},A&&(i[I]=A(i[I])))}function u(I,A){try{l(r[I](A))}catch(R){y(s[0][3],R)}}function l(I){I.value instanceof Rr?Promise.resolve(I.value.v).then(f,p):y(s[0][2],I)}function f(I){u("next",I)}function p(I){u("throw",I)}function y(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function qv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bv=="function"?Bv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var oc=t=>t&&typeof t.length=="number"&&typeof t!="function";function ac(t){return B(t?.then)}function cc(t){return B(t[Ii])}function uc(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function lc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function e0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dc=e0();function hc(t){return B(t?.[dc])}function fc(t){return Hv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Rr(n.read());if(i)return yield Rr(void 0);yield yield Rr(r)}}finally{n.releaseLock()}})}function pc(t){return B(t?.getReader)}function Pe(t){if(t instanceof se)return t;if(t!=null){if(cc(t))return t0(t);if(oc(t))return n0(t);if(ac(t))return r0(t);if(uc(t))return zv(t);if(hc(t))return i0(t);if(pc(t))return s0(t)}throw lc(t)}function t0(t){return new se(e=>{let n=t[Ii]();if(B(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function n0(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function r0(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xa)})}function i0(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function zv(t){return new se(e=>{o0(t,e).catch(n=>e.error(n))})}function s0(t){return zv(fc(t))}function o0(t,e){var n,r,i,s;return $v(this,void 0,void 0,function*(){try{for(n=qv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function rt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Kn(t,e=0){return J((n,r)=>{n.subscribe(Z(r,i=>rt(r,t,()=>r.next(i),e),()=>rt(r,t,()=>r.complete(),e),i=>rt(r,t,()=>r.error(i),e)))})}function Qn(t,e=0){return J((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Gv(t,e){return Pe(t).pipe(Qn(e),Kn(e))}function Wv(t,e){return Pe(t).pipe(Qn(e),Kn(e))}function Kv(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Qv(t,e){return new se(n=>{let r;return rt(n,e,()=>{r=t[dc](),rt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function gc(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{rt(n,e,()=>{let r=t[Symbol.asyncIterator]();rt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Yv(t,e){return gc(fc(t),e)}function Jv(t,e){if(t!=null){if(cc(t))return Gv(t,e);if(oc(t))return Kv(t,e);if(ac(t))return Wv(t,e);if(uc(t))return gc(t,e);if(hc(t))return Qv(t,e);if(pc(t))return Yv(t,e)}throw lc(t)}function be(t,e){return e?Jv(t,e):Pe(t)}function $(...t){let e=Wn(t);return be(t,e)}function Si(t,e){let n=B(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Fd(t){return!!t&&(t instanceof se||B(t.lift)&&B(t.subscribe))}var En=yi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Q(t,e){return J((n,r)=>{let i=0;n.subscribe(Z(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:a0}=Array;function c0(t,e){return a0(e)?t(...e):t(e)}function Zv(t){return Q(e=>c0(t,e))}var{isArray:u0}=Array,{getPrototypeOf:l0,prototype:d0,keys:h0}=Object;function Xv(t){if(t.length===1){let e=t[0];if(u0(e))return{args:e,keys:null};if(f0(e)){let n=h0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function f0(t){return t&&typeof t=="object"&&l0(t)===d0}function e_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function mc(...t){let e=Wn(t),n=jv(t),{args:r,keys:i}=Xv(t);if(r.length===0)return be([],e);let s=new se(p0(r,e,i?o=>e_(i,o):ft));return n?s.pipe(Zv(n)):s}function p0(t,e,n=ft){return r=>{t_(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)t_(e,()=>{let l=be(t[u],e),f=!1;l.subscribe(Z(r,p=>{s[u]=p,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function t_(t,e,n){t?rt(n,t,e):e()}function n_(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},I=R=>l<r?A(R):u.push(R),A=R=>{s&&e.next(R),l++;let P=!1;Pe(n(R,f++)).subscribe(Z(e,W=>{i?.(W),s?I(W):e.next(W)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let W=u.shift();o?rt(e,o,()=>A(W)):A(W)}y()}catch(W){e.error(W)}}))};return t.subscribe(Z(e,I,()=>{p=!0,y()})),()=>{c?.()}}function Se(t,e,n=1/0){return B(e)?Se((r,i)=>Q((s,o)=>e(r,s,i,o))(Pe(t(r,i))),n):(typeof e=="number"&&(n=e),J((r,i)=>n_(r,i,t,n)))}function Vd(t=1/0){return Se(ft,t)}function r_(){return Vd(1)}function Ai(...t){return r_()(be(t,Wn(t)))}function yc(t){return new se(e=>{Pe(t()).subscribe(e)})}function Vt(t,e){return J((n,r)=>{let i=0;n.subscribe(Z(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Yn(t){return J((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Z(n,void 0,void 0,o=>{s=Pe(t(o,Yn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function i_(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(Z(o,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Ri(t,e){return B(e)?Se(t,e,1):Se(t,1)}function Jn(t){return J((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tn(t){return t<=0?()=>pt:J((e,n)=>{let r=0;e.subscribe(Z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ud(t){return Q(()=>t)}function vc(t=g0){return J((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function g0(){return new En}function so(t){return J((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,s)=>t(i,s,r)):ft,Tn(1),n?Jn(e):vc(()=>new En))}function Ni(t){return t<=0?()=>pt:J((e,n)=>{let r=[];e.subscribe(Z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function jd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,s)=>t(i,s,r)):ft,Ni(1),n?Jn(e):vc(()=>new En))}function Bd(t,e){return J(i_(t,e,arguments.length>=2,!0))}function $d(...t){let e=Wn(t);return J((n,r)=>{(e?Ai(t,n,e):Ai(t,n)).subscribe(r)})}function Ut(t,e){return J((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(Z(r,u=>{i?.unsubscribe();let l=0,f=s++;Pe(t(u,f)).subscribe(i=Z(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Hd(t){return J((e,n)=>{Pe(t).subscribe(Z(n,()=>n.complete(),ro)),!n.closed&&e.subscribe(n)})}function Ae(t,e,n){let r=B(t)||e||n?{next:t,error:e,complete:n}:t;return r?J((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(Z(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ft}var V_="https://g.co/ng/security#xss",F=class extends Error{constructor(e,n){super(Uh(e,n)),this.code=e}};function Uh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Wc(t){return{toString:t}.toString()}var _c="__parameters__";function m0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function y0(t,e,n){return Wc(()=>{let r=m0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let p=u.hasOwnProperty(_c)?u[_c]:Object.defineProperty(u,_c,{value:[]})[_c];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ao=globalThis;function he(t){for(let e in t)if(t[e]===he)return e;throw Error("Could not find renamed property on target object.")}function Xe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Xe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function nh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var v0=he({__forward_ref__:he});function U_(t){return t.__forward_ref__=U_,t.toString=function(){return Xe(this())},t}function Et(t){return j_(t)?t():t}function j_(t){return typeof t=="function"&&t.hasOwnProperty(v0)&&t.__forward_ref__===U_}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kc(t){return s_(t,$_)||s_(t,H_)}function B_(t){return Kc(t)!==null}function s_(t,e){return t.hasOwnProperty(e)?t[e]:null}function _0(t){let e=t&&(t[$_]||t[H_]);return e||null}function o_(t){return t&&(t.hasOwnProperty(a_)||t.hasOwnProperty(w0))?t[a_]:null}var $_=he({\u0275prov:he}),a_=he({\u0275inj:he}),H_=he({ngInjectableDef:he}),w0=he({ngInjectorDef:he}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=O({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function q_(t){return t&&!!t.\u0275providers}var I0=he({\u0275cmp:he}),E0=he({\u0275dir:he}),T0=he({\u0275pipe:he}),C0=he({\u0275mod:he}),Sc=he({\u0275fac:he}),oo=he({__NG_ELEMENT_ID__:he}),c_=he({__NG_ENV_ID__:he});function Li(t){return typeof t=="string"?t:t==null?"":String(t)}function D0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Li(t)}function b0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new F(-200,t)}function jh(t,e){throw new F(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),rh;function z_(){return rh}function it(t){let e=rh;return rh=t,e}function G_(t,e,n){let r=Kc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;jh(t,"Injector")}var S0={},co=S0,ih="__NG_DI_FLAG__",Ac="ngTempTokenPath",A0="ngTokenPath",R0=/\n/gm,N0="\u0275",u_="__source",ki;function x0(){return ki}function Zn(t){let e=ki;return ki=t,e}function M0(t,e=z.Default){if(ki===void 0)throw new F(-203,!1);return ki===null?G_(t,void 0,e):ki.get(t,e&z.Optional?null:void 0,e)}function j(t,e=z.Default){return(z_()||M0)(Et(t),e)}function M(t,e=z.Default){return j(t,Qc(e))}function Qc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sh(t){let e=[];for(let n=0;n<t.length;n++){let r=Et(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){let c=r[o],u=k0(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(j(i,s))}else e.push(j(r))}return e}function P0(t,e){return t[ih]=e,t.prototype[ih]=e,t}function k0(t){return t[ih]}function O0(t,e,n,r){let i=t[Ac];throw e[u_]&&i.unshift(e[u_]),t.message=L0(`
`+t.message,i,n,r),t[A0]=i,t[Ac]=null,t}function L0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==N0?t.slice(2):t;let i=Xe(e);if(Array.isArray(e))i=e.map(Xe).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):Xe(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(R0,`
  `)}`}var Re=P0(y0("Optional"),8);function Mr(t,e){let n=t.hasOwnProperty(Sc);return n?t[Sc]:null}function Bh(t,e){t.forEach(n=>Array.isArray(n)?Bh(n,e):e(n))}function W_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function F0(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function V0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function $h(t,e,n){let r=Io(t,e);return r>=0?t[r|1]=n:(r=~r,V0(t,r,e,n)),r}function qd(t,e){let n=Io(t,e);if(n>=0)return t[n|1]}function Io(t,e){return U0(t,e,1)}function U0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var uo={},Cn=[],Fi=new L(""),K_=new L("",-1),Q_=new L(""),Nc=class{get(e,n=co){if(n===co){let r=new Error(`NullInjectorError: No provider for ${Xe(e)}!`);throw r.name="NullInjectorError",r}return n}},Y_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Y_||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),Vi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Vi||{});function j0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function oh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];B0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function J_(t){return t===3||t===4||t===6}function B0(t){return t.charCodeAt(0)===64}function Hh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?l_(t,n,i,null,e[++r]):l_(t,n,i,null,null))}}return t}function l_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Z_="ng-template";function $0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&j0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(qh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function qh(t){return t.type===4&&t.value!==Z_}function H0(t,e,n){let r=t.type===4&&!n?Z_:t.value;return e===r}function q0(t,e,n){let r=4,i=t.attrs,s=i!==null?W0(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!jt(r)&&!jt(u))return!1;if(o&&jt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!H0(t,u,n)||u===""&&e.length===1){if(jt(r))return!1;o=!0}}else if(r&8){if(i===null||!$0(t,i,u,n)){if(jt(r))return!1;o=!0}}else{let l=e[++c],f=z0(u,i,qh(t),n);if(f===-1){if(jt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(jt(r))return!1;o=!0}}}}return jt(r)||o}function jt(t){return(t&1)===0}function z0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return K0(e,t)}function X_(t,e,n=!1){for(let r=0;r<e.length;r++)if(q0(t,e[r],n))return!0;return!1}function G0(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function W0(t){for(let e=0;e<t.length;e++){let n=t[e];if(J_(n))return e}return t.length}function K0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Q0(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function d_(t,e){return t?":not("+e.trim()+")":e}function Y0(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!jt(o)&&(e+=d_(s,i),i=""),r=o,s=s||!jt(r);n++}return i!==""&&(e+=d_(s,i)),e}function J0(t){return t.map(Y0).join(",")}function Z0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!jt(i))break;i=s}r++}return{attrs:e,classes:n}}function St(t){return Wc(()=>{let e=iw(t),n=_e(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Y_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||Cn,_:null,schemas:t.schemas||null,tView:null,id:""});sw(n);let r=t.dependencies;return n.directiveDefs=f_(r,!1),n.pipeDefs=f_(r,!0),n.id=tA(n),n})}function X0(t){return Pr(t)||ew(t)}function eA(t){return t!==null}function h_(t,e){if(t==null)return uo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Vi.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Vi.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Gi(t){return Wc(()=>{let e=iw(t);return sw(e),e})}function Yc(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pr(t){return t[I0]||null}function ew(t){return t[E0]||null}function tw(t){return t[T0]||null}function nw(t){let e=Pr(t)||ew(t)||tw(t);return e!==null?e.standalone:!1}function rw(t,e){let n=t[C0]||null;if(!n&&e===!0)throw new Error(`Type ${Xe(t)} does not have '\u0275mod' property.`);return n}function iw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||uo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Cn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h_(t.inputs,e),outputs:h_(t.outputs),debugInfo:null}}function sw(t){t.features?.forEach(e=>e(t))}function f_(t,e){if(!t)return null;let n=e?tw:X0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(eA)}function tA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function At(t){return{\u0275providers:t}}function nA(...t){return{\u0275providers:ow(!0,t),\u0275fromNgModule:!0}}function ow(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Bh(e,o=>{let c=o;ah(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&aw(i,s),n}function aw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];zh(i,s=>{e(s,r)})}}function ah(t,e,n,r){if(t=Et(t),!t)return!1;let i=null,s=o_(t),o=!s&&Pr(t);if(!s&&!o){let u=t.ngModule;if(s=o_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)ah(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{Bh(s.imports,f=>{ah(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&aw(l,e)}if(!c){let l=Mr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Cn},i),e({provide:Q_,useValue:i,multi:!0},i),e({provide:Fi,useValue:()=>j(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;zh(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function zh(t,e){for(let n of t)q_(n)&&(n=n.\u0275providers),Array.isArray(n)?zh(n,e):e(n)}var rA=he({provide:String,useValue:he});function cw(t){return t!==null&&typeof t=="object"&&rA in t}function iA(t){return!!(t&&t.useExisting)}function sA(t){return!!(t&&t.useFactory)}function ch(t){return typeof t=="function"}var Jc=new L(""),Ec={},oA={},zd;function Gh(){return zd===void 0&&(zd=new Nc),zd}var Dt=class{},lo=class extends Dt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lh(e,o=>this.processProvider(o)),this.records.set(K_,xi(void 0,this)),i.has("environment")&&this.records.set(Dt,xi(void 0,this));let s=this.records.get(Jc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Q_,Cn,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Zn(this),r=it(void 0),i;try{return e()}finally{Zn(n),it(r)}}get(e,n=co,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(c_))return e[c_](this);r=Qc(r);let i,s=Zn(this),o=it(void 0);try{if(!(r&z.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=hA(e)&&Kc(e);l&&this.injectableDefInScope(l)?u=xi(uh(e),Ec):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&z.Self?Gh():this.parent;return n=r&z.Optional&&n===co?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Ac]=c[Ac]||[]).unshift(Xe(e)),s)throw c;return O0(c,e,"R3InjectorError",this.source)}else throw c}finally{it(o),Zn(s)}}resolveInjectorInitializers(){let e=ne(null),n=Zn(this),r=it(void 0),i;try{let s=this.get(Fi,Cn,z.Self);for(let o of s)o()}finally{Zn(n),it(r),ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Xe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){e=Et(e);let n=ch(e)?e:Et(e&&e.provide),r=cA(e);if(!ch(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xi(void 0,Ec,!0),i.factory=()=>sh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ne(null);try{return n.value===Ec&&(n.value=oA,n.value=n.factory()),typeof n.value=="object"&&n.value&&dA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Et(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function uh(t){let e=Kc(t),n=e!==null?e.factory:Mr(t);if(n!==null)return n;if(t instanceof L)throw new F(204,!1);if(t instanceof Function)return aA(t);throw new F(204,!1)}function aA(t){if(t.length>0)throw new F(204,!1);let n=_0(t);return n!==null?()=>n.factory(t):()=>new t}function cA(t){if(cw(t))return xi(void 0,t.useValue);{let e=uA(t);return xi(e,Ec)}}function uA(t,e,n){let r;if(ch(t)){let i=Et(t);return Mr(i)||uh(i)}else if(cw(t))r=()=>Et(t.useValue);else if(sA(t))r=()=>t.useFactory(...sh(t.deps||[]));else if(iA(t))r=()=>j(Et(t.useExisting));else{let i=Et(t&&(t.useClass||t.provide));if(lA(t))r=()=>new i(...sh(t.deps));else return Mr(i)||uh(i)}return r}function xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lA(t){return!!t.deps}function dA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function hA(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function lh(t,e){for(let n of t)Array.isArray(n)?lh(n,e):n&&q_(n)?lh(n.\u0275providers,e):e(n)}function Sn(t,e){t instanceof lo&&t.assertNotDestroyed();let n,r=Zn(t),i=it(void 0);try{return e()}finally{Zn(r),it(i)}}function fA(){return z_()!==void 0||x0()!=null}function pA(t){return typeof t=="function"}var An=0,K=1,U=2,et=3,$t=4,ot=5,ho=6,xc=7,Ht=8,Ui=9,tn=10,Ce=11,fo=12,p_=13,Wi=14,bt=15,ji=16,Mi=17,Bi=18,Zc=19,uw=20,Xn=21,Gd=22,Tt=23,st=25,lw=1;var kr=7,Mc=8,Pc=9,Ct=10,kc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(kc||{});function er(t){return Array.isArray(t)&&typeof t[lw]=="object"}function Rn(t){return Array.isArray(t)&&t[lw]===!0}function Wh(t){return(t.flags&4)!==0}function Xc(t){return t.componentOffset>-1}function eu(t){return(t.flags&1)===1}function Eo(t){return!!t.template}function dh(t){return(t[U]&512)!==0}var hh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function dw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ki(){return hw}function hw(t){return t.type.prototype.ngOnChanges&&(t.setInput=mA),gA}Ki.ngInherit=!0;function gA(){let t=pw(this),e=t?.current;if(e){let n=t.previous;if(n===uo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mA(t,e,n,r,i){let s=this.declaredInputs[r],o=pw(t)||yA(t,{previous:uo,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new hh(l&&l.currentValue,n,u===uo),dw(t,e,i,n)}var fw="__ngSimpleChanges__";function pw(t){return t[fw]||null}function yA(t,e){return t[fw]=e}var g_=null;var Zt=function(t,e,n){g_?.(t,e,n)},vA="svg",_A="math";function nn(t){for(;Array.isArray(t);)t=t[An];return t}function gw(t,e){return nn(e[t])}function Rt(t,e){return nn(e[t.index])}function mw(t,e){return t.data[e]}function yw(t,e){return t[e]}function sr(t,e){let n=e[t];return er(n)?n:n[An]}function Kh(t){return(t[U]&128)===128}function wA(t){return Rn(t[et])}function $i(t,e){return e==null?null:t[e]}function vw(t){t[Mi]=0}function _w(t){t[U]&1024||(t[U]|=1024,Kh(t)&&tu(t))}function IA(t,e){for(;t>0;)e=e[Wi],t--;return e}function po(t){return!!(t[U]&9216||t[Tt]?.dirty)}function fh(t){t[tn].changeDetectionScheduler?.notify(7),t[U]&64&&(t[U]|=1024),po(t)&&tu(t)}function tu(t){t[tn].changeDetectionScheduler?.notify(0);let e=Or(t);for(;e!==null&&!(e[U]&8192||(e[U]|=8192,!Kh(e)));)e=Or(e)}function ww(t,e){if((t[U]&256)===256)throw new F(911,!1);t[Xn]===null&&(t[Xn]=[]),t[Xn].push(e)}function EA(t,e){if(t[Xn]===null)return;let n=t[Xn].indexOf(e);n!==-1&&t[Xn].splice(n,1)}function Or(t){let e=t[et];return Rn(e)?e[et]:e}var G={lFrame:xw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Iw=!1;function TA(){return G.lFrame.elementDepthCount}function CA(){G.lFrame.elementDepthCount++}function DA(){G.lFrame.elementDepthCount--}function Ew(){return G.bindingsEnabled}function Tw(){return G.skipHydrationRootTNode!==null}function bA(t){return G.skipHydrationRootTNode===t}function SA(){G.skipHydrationRootTNode=null}function ue(){return G.lFrame.lView}function at(){return G.lFrame.tView}function Cw(t){return G.lFrame.contextLView=t,t[Ht]}function Dw(t){return G.lFrame.contextLView=null,t}function ct(){let t=bw();for(;t!==null&&t.type===64;)t=t.parent;return t}function bw(){return G.lFrame.currentTNode}function AA(){let t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ur(t,e){let n=G.lFrame;n.currentTNode=t,n.isParent=e}function Qh(){return G.lFrame.isParent}function Yh(){G.lFrame.isParent=!1}function RA(){return G.lFrame.contextLView}function Sw(){return Iw}function m_(t){Iw=t}function NA(){let t=G.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xA(){return G.lFrame.bindingIndex}function MA(t){return G.lFrame.bindingIndex=t}function Jh(){return G.lFrame.bindingIndex++}function Zh(t){let e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function PA(){return G.lFrame.inI18n}function kA(t,e){let n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,ph(e)}function OA(){return G.lFrame.currentDirectiveIndex}function ph(t){G.lFrame.currentDirectiveIndex=t}function LA(t){let e=G.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Aw(t){G.lFrame.currentQueryIndex=t}function FA(t){let e=t[K];return e.type===2?e.declTNode:e.type===1?t[ot]:null}function Rw(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=FA(s),i===null||(s=s[Wi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=G.lFrame=Nw();return r.currentTNode=e,r.lView=t,!0}function Xh(t){let e=Nw(),n=t[K];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Nw(){let t=G.lFrame,e=t===null?null:t.child;return e===null?xw(t):e}function xw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Mw(){let t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Pw=Mw;function ef(){let t=Mw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function VA(t){return(G.lFrame.contextLView=IA(t,G.lFrame.contextLView))[Ht]}function jr(){return G.lFrame.selectedIndex}function Lr(t){G.lFrame.selectedIndex=t}function kw(){let t=G.lFrame;return mw(t.tView,t.selectedIndex)}function UA(){return G.lFrame.currentNamespace}var Ow=!0;function nu(){return Ow}function ru(t){Ow=t}function jA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=hw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function iu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Tc(t,e,n){Lw(t,e,3,n)}function Cc(t,e,n,r){(t[U]&3)===n&&Lw(t,e,n,r)}function Wd(t,e){let n=t[U];(n&3)===e&&(n&=16383,n+=1,t[U]=n)}function Lw(t,e,n,r){let i=r!==void 0?t[Mi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Mi]+=65536),(c<s||s==-1)&&(BA(t,n,e,u),t[Mi]=(t[Mi]&4294901760)+u+2),u++}function y_(t,e){Zt(4,t,e);let n=ne(null);try{e.call(t)}finally{ne(n),Zt(5,t,e)}}function BA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[U]>>14<t[Mi]>>16&&(t[U]&3)===e&&(t[U]+=16384,y_(c,s)):y_(c,s)}var Oi=-1,go=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function $A(t){return t instanceof go}function HA(t){return(t.flags&8)!==0}function qA(t){return(t.flags&16)!==0}var Kd={},gh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Qc(r);let i=this.injector.get(e,Kd,r);return i!==Kd||n===Kd?i:this.parentInjector.get(e,n,r)}};function Fw(t){return t!==Oi}function Oc(t){return t&32767}function zA(t){return t>>16}function Lc(t,e){let n=zA(t),r=e;for(;n>0;)r=r[Wi],n--;return r}var mh=!0;function Fc(t){let e=mh;return mh=t,e}var GA=256,Vw=GA-1,Uw=5,WA=0,Xt={};function KA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(oo)&&(r=n[oo]),r==null&&(r=n[oo]=WA++);let i=r&Vw,s=1<<i;e.data[t+(i>>Uw)]|=s}function jw(t,e){let n=Bw(t,e);if(n!==-1)return n;let r=e[K];r.firstCreatePass&&(t.injectorIndex=e.length,Qd(r.data,t),Qd(e,null),Qd(r.blueprint,null));let i=tf(t,e),s=t.injectorIndex;if(Fw(i)){let o=Oc(i),c=Lc(i,e),u=c[K].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Qd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Bw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function tf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Gw(i),r===null)return Oi;if(n++,i=i[Wi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Oi}function QA(t,e,n){KA(t,e,n)}function YA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(J_(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function $w(t,e,n){if(n&z.Optional||t!==void 0)return t;jh(e,"NodeInjector")}function Hw(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[Ui],s=it(void 0);try{return i?i.get(e,r,n&z.Optional):G_(e,r,n&z.Optional)}finally{it(s)}}return $w(r,e,n)}function qw(t,e,n,r=z.Default,i){if(t!==null){if(e[U]&2048&&!(r&z.Self)){let o=tR(t,e,n,r,Xt);if(o!==Xt)return o}let s=zw(t,e,n,r,Xt);if(s!==Xt)return s}return Hw(e,n,r,i)}function zw(t,e,n,r,i){let s=XA(n);if(typeof s=="function"){if(!Rw(e,t,r))return r&z.Host?$w(i,n,r):Hw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&z.Optional))jh(n);else return o}finally{Pw()}}else if(typeof s=="number"){let o=null,c=Bw(t,e),u=Oi,l=r&z.Host?e[bt][ot]:null;for((c===-1||r&z.SkipSelf)&&(u=c===-1?tf(t,e):e[c+8],u===Oi||!__(r,!1)?c=-1:(o=e[K],c=Oc(u),e=Lc(u,e)));c!==-1;){let f=e[K];if(v_(s,c,f.data)){let p=JA(c,e,n,o,r,l);if(p!==Xt)return p}u=e[c+8],u!==Oi&&__(r,e[K].data[c+8]===l)&&v_(s,c,e)?(o=f,c=Oc(u),e=Lc(u,e)):c=-1}}return i}function JA(t,e,n,r,i,s){let o=e[K],c=o.data[t+8],u=r==null?Xc(c)&&mh:r!=o&&(c.type&3)!==0,l=i&z.Host&&s===c,f=ZA(c,o,n,u,l);return f!==null?mo(e,o,f,c):Xt}function ZA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?c:c+f,y=i?c+f:l;for(let I=p;I<y;I++){let A=o[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=o[u];if(I&&Eo(I)&&I.type===n)return u}return null}function mo(t,e,n,r){let i=t[n],s=e.data;if($A(i)){let o=i;o.resolving&&b0(D0(s[n]));let c=Fc(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?it(o.injectImpl):null,f=Rw(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&jA(n,s[n],e)}finally{l!==null&&it(l),Fc(c),o.resolving=!1,Pw()}}return i}function XA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(oo)?t[oo]:void 0;return typeof e=="number"?e>=0?e&Vw:eR:e}function v_(t,e,n){let r=1<<t;return!!(n[e+(t>>Uw)]&r)}function __(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var xr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qw(this._tNode,this._lView,e,Qc(r),n)}};function eR(){return new xr(ct(),ue())}function nf(t){return Wc(()=>{let e=t.prototype.constructor,n=e[Sc]||yh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Sc]||yh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function yh(t){return j_(t)?()=>{let e=yh(Et(t));return e&&e()}:Mr(t)}function tR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[U]&2048&&!(o[U]&512);){let c=zw(s,o,n,r|z.Self,Xt);if(c!==Xt)return c;let u=s.parent;if(!u){let l=o[uw];if(l){let f=l.get(n,Xt,r);if(f!==Xt)return f}u=Gw(o),o=o[Wi]}s=u}return i}function Gw(t){let e=t[K],n=e.type;return n===2?e.declTNode:n===1?t[ot]:null}function rf(t){return YA(ct(),t)}function w_(t,e=null,n=null,r){let i=Ww(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ww(t,e=null,n=null,r,i=new Set){let s=[n||Cn,nA(t)];return r=r||(typeof t=="object"?void 0:Xe(t)),new lo(s,e||Gh(),r||null,i)}var Nr=class Nr{static create(e,n){if(Array.isArray(e))return w_({name:""},n,e,"");{let r=e.name??"";return w_({name:r},e.parent,e.providers,r)}}};Nr.THROW_IF_NOT_FOUND=co,Nr.NULL=new Nc,Nr.\u0275prov=O({token:Nr,providedIn:"any",factory:()=>j(K_)}),Nr.__NG_ELEMENT_ID__=-1;var tt=Nr;var nR=new L("");nR.__NG_ELEMENT_ID__=t=>{let e=ct();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(t&z.Optional)return null;throw new F(204,!1)};var rR="ngOriginalError";function Yd(t){return t[rR]}var Dn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Yd(e);for(;n&&Yd(n);)n=Yd(n);return n||null}},Kw=new L("",{providedIn:"root",factory:()=>M(Dn).handleError.bind(void 0)}),Qw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),vh=class extends Qw{constructor(e){super(),this._lView=e}onDestroy(e){return ww(this._lView,e),()=>EA(this._lView,e)}};function iR(){return new vh(ue())}function sR(){return su(ct(),ue())}function su(t,e){return new To(Rt(t,e))}var To=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=sR;let t=e;return t})();var Qi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ue(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=O({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var _h=class extends Me{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,fA()&&(this.destroyRef=M(Qw,{optional:!0})??void 0,this.pendingTasks=M(Qi,{optional:!0})??void 0)}emit(e){let n=ne(null);try{super.next(e)}finally{ne(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ze=_h;function Yw(t){return(t.flags&128)===128}var Jw=new Map,oR=0;function aR(){return oR++}function cR(t){Jw.set(t[Zc],t)}function uR(t){Jw.delete(t[Zc])}var I_="__ngContext__";function tr(t,e){er(e)?(t[I_]=e[Zc],cR(e)):t[I_]=e}function Zw(t){return eI(t[fo])}function Xw(t){return eI(t[$t])}function eI(t){for(;t!==null&&!Rn(t);)t=t[$t];return t}var wh;function tI(t){wh=t}function lR(){if(wh!==void 0)return wh;if(typeof document<"u")return document;throw new F(210,!1)}var sf=new L("",{providedIn:"root",factory:()=>dR}),dR="ng",of=new L(""),or=new L("",{providedIn:"platform",factory:()=>"unknown"});var af=new L("",{providedIn:"root",factory:()=>lR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hR="h",fR="b";var pR=()=>null;function cf(t,e,n=!1){return pR(t,e,n)}var nI=!1,gR=new L("",{providedIn:"root",factory:()=>nI});var wc;function mR(){if(wc===void 0&&(wc=null,ao.trustedTypes))try{wc=ao.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wc}function E_(t){return mR()?.createScriptURL(t)||t}var Vc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${V_})`}};function Yi(t){return t instanceof Vc?t.changingThisBreaksApplicationSecurity:t}function uf(t,e){let n=yR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${V_})`)}return n===e}function yR(t){return t instanceof Vc&&t.getTypeName()||null}var vR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rI(t){return t=String(t),t.match(vR)?t:"unsafe:"+t}var ou=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ou||{});function _R(t){let e=sI();return e?e.sanitize(ou.URL,t)||"":uf(t,"URL")?Yi(t):rI(Li(t))}function wR(t){let e=sI();if(e)return E_(e.sanitize(ou.RESOURCE_URL,t)||"");if(uf(t,"ResourceURL"))return E_(Yi(t));throw new F(904,!1)}function IR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?wR:_R}function iI(t,e,n){return IR(e,n)(t)}function sI(){let t=ue();return t&&t[tn].sanitizer}var ER=/^>|^->|<!--|-->|--!>|<!-$/g,TR=/(<|>)/g,CR="\u200B$1\u200B";function DR(t){return t.replace(ER,e=>e.replace(TR,CR))}function oI(t){return t instanceof Function?t():t}var bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bn||{}),bR;function lf(t,e){return bR(t,e)}function Pi(t,e,n,r,i){if(r!=null){let s,o=!1;Rn(r)?s=r:er(r)&&(o=!0,r=r[An]);let c=nn(r);t===0&&n!==null?i==null?hI(e,n,c):Uc(e,n,c,i||null,!0):t===1&&n!==null?Uc(e,n,c,i||null,!0):t===2?BR(e,c,o):t===3&&e.destroyNode(c),s!=null&&HR(e,t,s,n,i)}}function SR(t,e){return t.createText(e)}function AR(t,e,n){t.setValue(e,n)}function RR(t,e){return t.createComment(DR(e))}function aI(t,e,n){return t.createElement(e,n)}function NR(t,e){cI(t,e),e[An]=null,e[ot]=null}function xR(t,e,n,r,i,s){r[An]=i,r[ot]=e,cu(t,r,n,1,i,s)}function cI(t,e){e[tn].changeDetectionScheduler?.notify(8),cu(t,e,e[Ce],2,null,null)}function MR(t){let e=t[fo];if(!e)return Jd(t[K],t);for(;e;){let n=null;if(er(e))n=e[fo];else{let r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[$t]&&e!==t;)er(e)&&Jd(e[K],e),e=e[et];e===null&&(e=t),er(e)&&Jd(e[K],e),n=e&&e[$t]}e=n}}function PR(t,e,n,r){let i=Ct+r,s=n.length;r>0&&(n[i-1][$t]=e),r<s-Ct?(e[$t]=n[i],W_(n,Ct+r,e)):(n.push(e),e[$t]=null),e[et]=n;let o=e[ji];o!==null&&n!==o&&uI(o,e);let c=e[Bi];c!==null&&c.insertView(t),fh(e),e[U]|=128}function uI(t,e){let n=t[Pc],r=e[et];if(er(r))t[U]|=kc.HasTransplantedViews;else{let i=r[et][bt];e[bt]!==i&&(t[U]|=kc.HasTransplantedViews)}n===null?t[Pc]=[e]:n.push(e)}function df(t,e){let n=t[Pc],r=n.indexOf(e);n.splice(r,1)}function Ih(t,e){if(t.length<=Ct)return;let n=Ct+e,r=t[n];if(r){let i=r[ji];i!==null&&i!==t&&df(i,r),e>0&&(t[n-1][$t]=r[$t]);let s=Rc(t,Ct+e);NR(r[K],r);let o=s[Bi];o!==null&&o.detachView(s[K]),r[et]=null,r[$t]=null,r[U]&=-129}return r}function lI(t,e){if(!(e[U]&256)){let n=e[Ce];n.destroyNode&&cu(t,e,n,3,null,null),MR(e)}}function Jd(t,e){if(e[U]&256)return;let n=ne(null);try{e[U]&=-129,e[U]|=256,e[Tt]&&Id(e[Tt]),OR(t,e),kR(t,e),e[K].type===1&&e[Ce].destroy();let r=e[ji];if(r!==null&&Rn(e[et])){r!==e[et]&&df(r,e);let i=e[Bi];i!==null&&i.detachView(t)}uR(e)}finally{ne(n)}}function kR(t,e){let n=t.cleanup,r=e[xc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[xc]=null);let i=e[Xn];if(i!==null){e[Xn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function OR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof go)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Zt(4,c,u);try{u.call(c)}finally{Zt(5,c,u)}}else{Zt(4,i,s);try{s.call(i)}finally{Zt(5,i,s)}}}}}function dI(t,e,n){return LR(t,e.parent,n)}function LR(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===en.None||s===en.Emulated)return null}return Rt(r,n)}}function Uc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function hI(t,e,n){t.appendChild(e,n)}function T_(t,e,n,r,i){r!==null?Uc(t,e,n,r,i):hI(t,e,n)}function FR(t,e,n,r){t.removeChild(e,n,r)}function hf(t,e){return t.parentNode(e)}function VR(t,e){return t.nextSibling(e)}function fI(t,e,n){return jR(t,e,n)}function UR(t,e,n){return t.type&40?Rt(t,n):null}var jR=UR,C_;function au(t,e,n,r){let i=dI(t,r,e),s=e[Ce],o=r.parent||e[ot],c=fI(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)T_(s,i,n[u],c,!1);else T_(s,i,n,c,!1);C_!==void 0&&C_(s,r,e,n,i)}function Dc(t,e){if(e!==null){let n=e.type;if(n&3)return Rt(e,t);if(n&4)return Eh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Dc(t,r);{let i=t[e.index];return Rn(i)?Eh(-1,i):nn(i)}}else{if(n&32)return lf(e,t)()||nn(t[e.index]);{let r=pI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Or(t[bt]);return Dc(i,r)}else return Dc(t,e.next)}}}return null}function pI(t,e){if(e!==null){let r=t[bt][ot],i=e.projection;return r.projection[i]}return null}function Eh(t,e){let n=Ct+t+1;if(n<e.length){let r=e[n],i=r[K].firstChild;if(i!==null)return Dc(r,i)}return e[kr]}function BR(t,e,n){let r=hf(t,e);r&&FR(t,r,e,n)}function ff(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&tr(nn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)ff(t,e,n.child,r,i,s,!1),Pi(e,t,i,c,s);else if(u&32){let l=lf(n,r),f;for(;f=l();)Pi(e,t,i,f,s);Pi(e,t,i,c,s)}else u&16?gI(t,e,r,n,i,s):Pi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function cu(t,e,n,r,i,s){ff(n,r,t.firstChild,e,i,s,!1)}function $R(t,e,n){let r=e[Ce],i=dI(t,n,e),s=n.parent||e[ot],o=fI(s,n,e);gI(r,0,e,n,i,o)}function gI(t,e,n,r,i,s){let o=n[bt],u=o[ot].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Pi(e,t,i,f,s)}else{let l=u,f=o[et];Yw(r)&&(l.flags|=128),ff(t,e,l,f,i,s,!0)}}function HR(t,e,n,r,i){let s=n[kr],o=nn(n);s!==o&&Pi(e,t,r,s,i);for(let c=Ct;c<n.length;c++){let u=n[c];cu(u[K],u,t,e,r,s)}}function qR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:bn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bn.Important),t.setStyle(n,r,i,s))}}function zR(t,e,n){t.setAttribute(e,"style",n)}function mI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function yI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&oh(t,e,r),i!==null&&mI(t,e,i),s!==null&&zR(t,e,s)}var rn={};function ar(t=1){vI(at(),ue(),jr()+t,!1)}function vI(t,e,n,r){if(!r)if((e[U]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Tc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Cc(e,s,0,n)}Lr(n)}function Ne(t,e=z.Default){let n=ue();if(n===null)return j(t,e);let r=ct();return qw(r,n,Et(t),e)}function _I(t,e,n,r,i,s){let o=ne(null);try{let c=null;i&Vi.SignalBased&&(c=e[r][Sv]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Vi.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):dw(e,c,r,s)}finally{ne(o)}}function GR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Lr(~i);else{let s=i,o=n[++r],c=n[++r];kA(o,s);let u=e[s];c(2,u)}}}finally{Lr(-1)}}function uu(t,e,n,r,i,s,o,c,u,l,f){let p=e.blueprint.slice();return p[An]=i,p[U]=r|4|128|8|64,(l!==null||t&&t[U]&2048)&&(p[U]|=2048),vw(p),p[et]=p[Wi]=t,p[Ht]=n,p[tn]=o||t&&t[tn],p[Ce]=c||t&&t[Ce],p[Ui]=u||t&&t[Ui]||null,p[ot]=s,p[Zc]=aR(),p[ho]=f,p[uw]=l,p[bt]=e.type==2?t[bt]:p,p}function Ji(t,e,n,r,i){let s=t.data[e];if(s===null)s=WR(t,e,n,r,i),PA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=AA();s.injectorIndex=o===null?-1:o.injectorIndex}return Ur(s,!0),s}function WR(t,e,n,r,i){let s=bw(),o=Qh(),c=o?s:s&&s.parent,u=t.data[e]=ZR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function wI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function II(t,e,n,r,i){let s=jr(),o=r&2;try{Lr(-1),o&&e.length>st&&vI(t,e,st,!1),Zt(o?2:0,i),n(r,i)}finally{Lr(s),Zt(o?3:1,i)}}function pf(t,e,n){if(Wh(e)){let r=ne(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{ne(r)}}}function gf(t,e,n){Ew()&&(sN(t,e,n,Rt(n,e)),(n.flags&64)===64&&CI(t,e,n))}function mf(t,e,n=Rt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function EI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=yf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function yf(t,e,n,r,i,s,o,c,u,l,f){let p=st+r,y=p+i,I=KR(p,y),A=typeof l=="function"?l():l;return I[K]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function KR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:rn);return n}function QR(t,e,n,r){let s=r.get(gR,nI)||n===en.ShadowDom,o=t.selectRootElement(e,s);return YR(o),o}function YR(t){JR(t)}var JR=()=>null;function ZR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return Tw()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function D_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Vi.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?b_(r,n,l,c,u):b_(r,n,l,c)}return r}function b_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function XR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],y=n?n.get(p):null,I=y?y.inputs:null,A=y?y.outputs:null;u=D_(0,p.inputs,f,u,I),l=D_(1,p.outputs,f,l,A);let R=u!==null&&o!==null&&!qh(e)?mN(u,f,o):null;c.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function eN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function tN(t,e,n,r,i,s,o,c){let u=Rt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(_f(t,n,f,r,i),Xc(e)&&nN(n,e.index)):e.type&3?(r=eN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function nN(t,e){let n=sr(e,t);n[U]&16||(n[U]|=64)}function vf(t,e,n,r){if(Ew()){let i=r===null?null:{"":-1},s=aN(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&TI(t,e,n,o,i,c),i&&cN(n,r,i)}n.mergedAttrs=Hh(n.mergedAttrs,n.attrs)}function TI(t,e,n,r,i,s){for(let l=0;l<r.length;l++)QA(jw(n,e),t,r[l].type);lN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=wI(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Hh(n.mergedAttrs,f.hostAttrs),dN(t,n,e,u,f),uN(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}XR(t,n,s)}function rN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;iN(o)!=c&&o.push(c),o.push(n,r,s)}}function iN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Xc(n)&&hN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||jw(n,e),tr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=mo(e,t,c,n);if(tr(l,e),o!==null&&gN(e,c-i,l,u,n,o),Eo(u)){let f=sr(n.index,e);f[Ht]=mo(e,t,c,n)}}}function CI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=OA();try{Lr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];ph(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&oN(u,l)}}finally{Lr(-1),ph(o)}}function oN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function aN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(X_(e,o.selectors,!1))if(r||(r=[]),Eo(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Th(t,e,u)}else r.unshift(o),Th(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Th(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function cN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new F(-301,!1);r.push(e[i],s)}}}function uN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Eo(e)&&(n[""]=t)}}function lN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Mr(i.type,!0)),o=new go(s,Eo(i),Ne);t.blueprint[r]=o,n[r]=o,rN(t,e,r,wI(t,n,i.hostVars,rn),i)}function hN(t,e,n){let r=Rt(e,t),i=EI(n),s=t[tn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=lu(t,uu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function fN(t,e,n,r,i,s){let o=Rt(t,e);pN(e[Ce],o,s,t.value,n,r,i)}function pN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Li(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function gN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],p=o[c++];_I(r,n,u,l,f,p)}}function mN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function DI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function bI(t,e){let n=t.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Aw(s),c.contentQueries(2,e[o],o)}}}finally{ne(r)}}}function lu(t,e){return t[fo]?t[p_][$t]=e:t[fo]=e,t[p_]=e,e}function Ch(t,e,n){Aw(0);let r=ne(null);try{e(t,n)}finally{ne(r)}}function yN(t){return t[xc]??=[]}function vN(t){return t.cleanup??=[]}function SI(t,e){let n=t[Ui],r=n?n.get(Dn,null):null;r&&r.handleError(e)}function _f(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];_I(f,l,r,c,u,i)}}function _N(t,e,n){let r=gw(e,t);AR(t[Ce],r,n)}function wN(t,e){let n=sr(e,t),r=n[K];IN(r,n);let i=n[An];i!==null&&n[ho]===null&&(n[ho]=cf(i,n[Ui])),wf(r,n,n[Ht])}function IN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wf(t,e,n){Xh(e);try{let r=t.viewQuery;r!==null&&Ch(1,r,n);let i=t.template;i!==null&&II(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Bi]?.finishViewCreation(t),t.staticContentQueries&&bI(t,e),t.staticViewQueries&&Ch(2,t.viewQuery,n);let s=t.components;s!==null&&EN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[U]&=-5,ef()}}function EN(t,e){for(let n=0;n<e.length;n++)wN(t,e[n])}function AI(t,e,n,r){let i=ne(null);try{let s=e.tView,c=t[U]&4096?4096:16,u=uu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ji]=l;let f=t[Bi];return f!==null&&(u[Bi]=f.createEmbeddedView(s)),wf(s,u,n),u}finally{ne(i)}}function Dh(t,e){return!e||e.firstChild===null||Yw(t)}function RI(t,e,n,r=!0){let i=e[K];if(PR(i,e,t,n),r){let o=Eh(n,t),c=e[Ce],u=hf(c,t[kr]);u!==null&&xR(i,t[ot],c,e,u,o)}let s=e[ho];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function jc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(nn(s)),Rn(s)&&TN(s,r);let o=n.type;if(o&8)jc(t,e,n.child,r);else if(o&32){let c=lf(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=pI(e,n);if(Array.isArray(c))r.push(...c);else{let u=Or(e[bt]);jc(u[K],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function TN(t,e){for(let n=Ct;n<t.length;n++){let r=t[n],i=r[K].firstChild;i!==null&&jc(r[K],r,i,e)}t[kr]!==t[An]&&e.push(t[kr])}var NI=[];function CN(t){return t[Tt]??DN(t)}function DN(t){let e=NI.pop()??Object.create(SN);return e.lView=t,e}function bN(t){t.lView[Tt]!==t&&(t.lView=null,NI.push(t))}var SN=_e(k({},vd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{tu(t.lView)},consumerOnSignalRead(){this.lView[Tt]=this}});function AN(t){let e=t[Tt]??Object.create(RN);return e.lView=t,e}var RN=_e(k({},vd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Or(t.lView);for(;e&&!xI(e[K]);)e=Or(e);e&&_w(e)},consumerOnSignalRead(){this.lView[Tt]=this}});function xI(t){return t.type!==2}var NN=100;function MI(t,e=!0,n=0){let r=t[tn],i=r.rendererFactory,s=!1;s||i.begin?.();try{xN(t,n)}catch(o){throw e&&SI(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function xN(t,e){let n=Sw();try{m_(!0),bh(t,e);let r=0;for(;po(t);){if(r===NN)throw new F(103,!1);r++,bh(t,1)}}finally{m_(n)}}function MN(t,e,n,r){let i=e[U];if((i&256)===256)return;let s=!1,o=!1;!s&&e[tn].inlineEffectRunner?.flush(),Xh(e);let c=!0,u=null,l=null;s||(xI(t)?(l=CN(e),u=_d(l)):Av()===null?(c=!1,l=AN(e),u=_d(l)):e[Tt]&&(Id(e[Tt]),e[Tt]=null));try{vw(e),MA(t.bindingStartIndex),n!==null&&II(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&Tc(e,I,null)}else{let I=t.preOrderHooks;I!==null&&Cc(e,I,0,null),Wd(e,0)}if(o||PN(e),PI(e,0),t.contentQueries!==null&&bI(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&Tc(e,I)}else{let I=t.contentHooks;I!==null&&Cc(e,I,1),Wd(e,1)}GR(t,e);let p=t.components;p!==null&&OI(e,p,0);let y=t.viewQuery;if(y!==null&&Ch(2,y,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&Tc(e,I)}else{let I=t.viewHooks;I!==null&&Cc(e,I,2),Wd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gd]){for(let I of e[Gd])I();e[Gd]=null}s||(e[U]&=-73)}catch(f){throw s||tu(e),f}finally{l!==null&&(Rv(l,u),c&&bN(l)),ef()}}function PI(t,e){for(let n=Zw(t);n!==null;n=Xw(n))for(let r=Ct;r<n.length;r++){let i=n[r];kI(i,e)}}function PN(t){for(let e=Zw(t);e!==null;e=Xw(e)){if(!(e[U]&kc.HasTransplantedViews))continue;let n=e[Pc];for(let r=0;r<n.length;r++){let i=n[r];_w(i)}}}function kN(t,e,n){let r=sr(e,t);kI(r,n)}function kI(t,e){Kh(t)&&bh(t,e)}function bh(t,e){let r=t[K],i=t[U],s=t[Tt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&wd(s)),o||=!1,s&&(s.dirty=!1),t[U]&=-9217,o)MN(r,t,r.template,t[Ht]);else if(i&8192){PI(t,1);let c=r.components;c!==null&&OI(t,c,1)}}function OI(t,e,n){for(let r=0;r<e.length;r++)kN(t,e[r],n)}function If(t,e){let n=Sw()?64:1088;for(t[tn].changeDetectionScheduler?.notify(e);t;){t[U]|=n;let r=Or(t);if(dh(t)&&!r)return t;t=r}return null}var Fr=class{get rootNodes(){let e=this._lView,n=e[K];return jc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ht]}set context(e){this._lView[Ht]=e}get destroyed(){return(this._lView[U]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(Rn(e)){let n=e[Mc],r=n?n.indexOf(this):-1;r>-1&&(Ih(e,r),Rc(n,r))}this._attachedToViewContainer=!1}lI(this._lView[K],this._lView)}onDestroy(e){ww(this._lView,e)}markForCheck(){If(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[U]&=-129}reattach(){fh(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,MI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=dh(this._lView),n=this._lView[ji];n!==null&&!e&&df(n,this._lView),cI(this._lView[K],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let n=dh(this._lView),r=this._lView[ji];r!==null&&!n&&uI(r,this._lView),fh(this._lView)}},Ef=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FN;let t=e;return t})(),ON=Ef,LN=class extends ON{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=AI(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Fr(i)}};function FN(){return LI(ct(),ue())}function LI(t,e){return t.type&4?new LN(e,t,su(t,e)):null}var Gz=new RegExp(`^(\\d+)*(${fR}|${hR})*(.*)`);var VN=()=>null;function Sh(t,e){return VN(t,e)}var yo=class{},Tf=new L("",{providedIn:"root",factory:()=>!1});var FI=new L(""),Ah=class{},Bc=class{};function UN(t){let e=Error(`No component factory found for ${Xe(t)}.`);return e[jN]=t,e}var jN="ngComponent";var Rh=class{resolveComponentFactory(e){throw UN(e)}},Vf=class Vf{};Vf.NULL=new Rh;var Hi=Vf,qi=class{},du=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>BN();let t=e;return t})();function BN(){let t=ue(),e=ct(),n=sr(e.index,t);return(er(n)?n:t)[Ce]}var $N=(()=>{let e=class e{};e.\u0275prov=O({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var S_=new Set;function Cf(t){S_.has(t)||(S_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function VI(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof ao.requestAnimationFrame=="function"&&ao.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function A_(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function R_(...t){}var ae=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,zN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,HN,R_,R_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},HN={};function Df(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qN(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{VI(()=>{t.callbackScheduled=!1,Nh(t),t.isCheckStableRunning=!0,Df(t),t.isCheckStableRunning=!1})}),Nh(t))}function zN(t){let e=()=>{qN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,c)=>{if(GN(c))return n.invokeTask(i,s,o,c);try{return N_(t),n.invokeTask(i,s,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),x_(t)}},onInvoke:(n,r,i,s,o,c,u)=>{try{return N_(t),n.invoke(i,s,o,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!WN(c)&&e(),x_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Nh(t),Df(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Nh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function N_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function x_(t){t._nesting--,Df(t)}var xh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ze,this.onMicrotaskEmpty=new Ze,this.onStable=new Ze,this.onError=new Ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function GN(t){return UI(t,"__ignore_ng_zone__")}function WN(t){return UI(t,"__scheduler_tick__")}function UI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var jI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=O({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function $c(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=nh(i,c);else if(s==2){let u=c,l=e[++o];r=nh(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Hc=class extends Hi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pr(e);return new vo(n,this.ngModule)}};function M_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function KN(t){let e=t.toLowerCase();return e==="svg"?vA:e==="math"?_A:null}var vo=class extends Bc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=M_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return M_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=J0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ne(null);try{i=i||this.ngModule;let o=i instanceof Dt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new gh(e,o):e,u=c.get(qi,null);if(u===null)throw new F(407,!1);let l=c.get($N,null),f=c.get(jI,null),p=c.get(yo,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=r?QR(I,r,this.componentDef.encapsulation,c):aI(I,A,KN(A)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let W=null;R!==null&&(W=cf(R,c,!0));let oe=yf(0,null,null,1,0,null,null,null,null,null,null),q=uu(null,oe,null,P,null,null,y,I,c,null,W);Xh(q);let ve,nt;try{let pe=this.componentDef,E,m=null;pe.findHostDirectiveDefs?(E=[],m=new Map,pe.findHostDirectiveDefs(pe,E,m),E.push(pe)):E=[pe];let _=QN(q,R),w=YN(_,R,pe,E,q,y,I);nt=mw(oe,st),R&&XN(I,pe,R,r),n!==void 0&&ex(nt,this.ngContentSelectors,n),ve=ZN(w,pe,E,m,q,[tx]),wf(oe,q,null)}finally{ef()}return new Mh(this.componentType,ve,su(nt,q),q,nt)}finally{ne(s)}}},Mh=class extends Ah{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;_f(s[K],s,i,e,n),this.previousInputValues.set(e,n);let o=sr(this._tNode.index,s);If(o,1)}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function QN(t,e){let n=t[K],r=st;return t[r]=e,Ji(n,r,2,"#host",null)}function YN(t,e,n,r,i,s,o){let c=i[K];JN(r,t,e,o);let u=null;e!==null&&(u=cf(e,i[Ui]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=uu(i,EI(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Th(c,t,r.length-1),lu(i,p),i[t.index]=p}function JN(t,e,n,r){for(let i of t)e.mergedAttrs=Hh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&($c(e,e.mergedAttrs,!0),n!==null&&yI(r,n,e))}function ZN(t,e,n,r,i,s){let o=ct(),c=i[K],u=Rt(o,i);TI(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,y=mo(i,c,p,o);tr(y,i)}CI(c,i,o),u&&tr(u,i);let l=mo(i,c,o.directiveStart+o.componentOffset,o);if(t[Ht]=i[Ht]=l,s!==null)for(let f of s)f(l,e);return pf(c,o,i),l}function XN(t,e,n,r){if(r)oh(t,n,["ng-version","18.0.6"]);else{let{attrs:i,classes:s}=Z0(e.selectors[0]);i&&oh(t,n,i),s&&s.length>0&&mI(t,n,s.join(" "))}}function ex(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function tx(){let t=ct();iu(ue()[K],t)}var Zi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nx;let t=e;return t})();function nx(){let t=ct();return ix(t,ue())}var rx=Zi,BI=class extends rx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return su(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){let e=tf(this._hostTNode,this._hostLView);if(Fw(e)){let n=Lc(e,this._hostLView),r=Oc(e),i=n[K].data[r+8];return new xr(i,n)}else return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=P_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Sh(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Dh(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!pA(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new vo(Pr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(Dt,null);R&&(s=R)}let f=Pr(u.componentType??{}),p=Sh(this._lContainer,f?.id??null),y=p?.firstChild??null,I=u.create(l,i,y,s);return this.insertImpl(I.hostView,c,Dh(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(wA(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[et],l=new BI(u,u[ot],u[et]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return RI(o,i,s,r),e.attachToViewContainerRef(),W_(Zd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=P_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ih(this._lContainer,n);r&&(Rc(Zd(this._lContainer),n),lI(r[K],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ih(this._lContainer,n);return r&&Rc(Zd(this._lContainer),n)!=null?new Fr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function P_(t){return t[Mc]}function Zd(t){return t[Mc]||(t[Mc]=[])}function ix(t,e){let n,r=e[t.index];return Rn(r)?n=r:(n=DI(r,e,null,t),e[t.index]=n,lu(e,n)),ox(n,e,t,r),new BI(n,t,e)}function sx(t,e){let n=t[Ce],r=n.createComment(""),i=Rt(e,t),s=hf(n,i);return Uc(n,s,r,VR(n,i),!1),r}var ox=ux,ax=()=>!1;function cx(t,e,n){return ax(t,e,n)}function ux(t,e,n,r){if(t[kr])return;let i;n.type&8?i=nn(r):i=sx(e,n),t[kr]=i}function bf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var nr=class{},_o=class{};var Ph=class extends nr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hc(this);let i=rw(e);this._bootstrapComponents=oI(i.bootstrap),this._r3Injector=Ww(e,n,[{provide:nr,useValue:this},{provide:Hi,useValue:this.componentFactoryResolver},...r],Xe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},kh=class extends _o{constructor(e){super(),this.moduleType=e}create(e){return new Ph(this.moduleType,e,[])}};var qc=class extends nr{constructor(e){super(),this.componentFactoryResolver=new Hc(this),this.instance=null;let n=new lo([...e.providers,{provide:nr,useValue:this},{provide:Hi,useValue:this.componentFactoryResolver}],e.parent||Gh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sf(t,e,n=null){return new qc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function lx(t,e,n){return t[e]=n}function rr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function dx(t,e,n,r){let i=rr(t,e,n);return rr(t,e+1,r)||i}function hx(t){return(t.flags&32)===32}function fx(t,e,n,r,i,s,o,c,u){let l=e.consts,f=Ji(e,t,4,o||null,c||null);vf(e,n,f,$i(l,u)),iu(e,f);let p=f.tView=yf(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function $I(t,e,n,r,i,s,o,c,u,l){let f=n+st,p=e.firstCreatePass?fx(f,e,t,r,i,s,o,c,u):e.data[f];Ur(p,!1);let y=px(e,t,p,n);nu()&&au(e,t,y,p),tr(y,t);let I=DI(y,t,y,p);return t[f]=I,lu(t,I),cx(I,p,t),eu(p)&&gf(e,t,p),u!=null&&mf(t,p,l),p}function Xi(t,e,n,r,i,s,o,c){let u=ue(),l=at(),f=$i(l.consts,s);return $I(u,l,t,e,n,r,i,f,o,c),Xi}var px=gx;function gx(t,e,n,r){return ru(!0),e[Ce].createComment("")}function Af(t,e,n,r){let i=ue(),s=Jh();if(rr(i,s,e)){let o=at(),c=kw();fN(c,i,t,e,n,r)}return Af}function mx(t,e,n,r){return rr(t,Jh(),n)?e+Li(n)+r:rn}function yx(t,e,n,r,i,s){let o=xA(),c=dx(t,o,n,i);return Zh(2),c?e+Li(n)+r+Li(i)+s:rn}function Ic(t,e){return t<<17|e<<2}function Vr(t){return t>>17&32767}function vx(t){return(t&2)==2}function _x(t,e){return t&131071|e<<17}function Oh(t){return t|2}function zi(t){return(t&131068)>>2}function Xd(t,e){return t&-131069|e<<2}function wx(t){return(t&1)===1}function Lh(t){return t|1}function Ix(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Vr(o),u=zi(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Io(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=Vr(t[c+1]);t[r+1]=Ic(y,c),y!==0&&(t[y+1]=Xd(t[y+1],r)),t[c+1]=_x(t[c+1],r)}else t[r+1]=Ic(c,0),c!==0&&(t[c+1]=Xd(t[c+1],r)),c=r;else t[r+1]=Ic(u,0),c===0?c=r:t[u+1]=Xd(t[u+1],r),u=r;l&&(t[r+1]=Oh(t[r+1])),k_(t,f,r,!0),k_(t,f,r,!1),Ex(e,f,t,r,s),o=Ic(c,u),s?e.classBindings=o:e.styleBindings=o}function Ex(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Io(s,e)>=0&&(n[r+1]=Lh(n[r+1]))}function k_(t,e,n,r){let i=t[n+1],s=e===null,o=r?Vr(i):zi(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];Tx(u,e)&&(c=!0,t[o+1]=r?Lh(l):Oh(l)),o=r?Vr(l):zi(l)}c&&(t[n+1]=r?Oh(i):Lh(i))}function Tx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Io(t,e)>=0:!1}var Bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Cx(t){return t.substring(Bt.key,Bt.keyEnd)}function Dx(t){return bx(t),HI(t,qI(t,0,Bt.textEnd))}function HI(t,e){let n=Bt.textEnd;return n===e?-1:(e=Bt.keyEnd=Sx(t,Bt.key=e,n),qI(t,e,n))}function bx(t){Bt.key=0,Bt.keyEnd=0,Bt.value=0,Bt.valueEnd=0,Bt.textEnd=t.length}function qI(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Sx(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function sn(t,e,n){let r=ue(),i=Jh();if(rr(r,i,e)){let s=at(),o=kw();tN(s,o,r,t,e,r[Ce],n,!1)}return sn}function Fh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";_f(t,n,s[o],o,r)}function Rf(t,e){return Rx(t,e,null,!0),Rf}function Ax(t,e){for(let n=Dx(e);n>=0;n=HI(e,n))$h(t,Cx(e),!0)}function Rx(t,e,n,r){let i=ue(),s=at(),o=Zh(2);if(s.firstUpdatePass&&GI(s,t,o,r),e!==rn&&rr(i,o,e)){let c=s.data[jr()];WI(s,c,i,i[Ce],t,i[o+1]=Fx(e,n),r,o)}}function Nx(t,e,n,r){let i=at(),s=Zh(2);i.firstUpdatePass&&GI(i,null,s,r);let o=ue();if(n!==rn&&rr(o,s,n)){let c=i.data[jr()];if(KI(c,r)&&!zI(i,s)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=nh(u,n||"")),Fh(i,c,o,n,r)}else Lx(i,c,o,o[Ce],o[s+1],o[s+1]=Ox(t,e,n),r,s)}}function zI(t,e){return e>=t.expandoStartIndex}function GI(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[jr()],o=zI(t,n);KI(s,r)&&e===null&&!o&&(e=!1),e=xx(i,s,e,r),Ix(i,s,e,n,o,r)}}function xx(t,e,n,r){let i=LA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=eh(null,t,e,n,r),n=wo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=eh(i,t,e,n,r),s===null){let u=Mx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=eh(null,t,e,u[1],r),u=wo(u,e.attrs,r),Px(t,e,r,u))}else s=kx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Mx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(zi(r)!==0)return t[Vr(r)]}function Px(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Vr(i)]=r}function kx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=wo(r,o,n)}return wo(r,e.attrs,n)}function eh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=wo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function wo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),$h(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Ox(t,e,n){if(n==null||n==="")return Cn;let r=[],i=Yi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function Lx(t,e,n,r,i,s,o,c){i===rn&&(i=Cn);let u=0,l=0,f=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;f!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,I=l<s.length?s[l+1]:void 0,A=null,R;f===p?(u+=2,l+=2,y!==I&&(A=p,R=I)):p===null||f!==null&&f<p?(u+=2,A=f):(l+=2,A=p,R=I),A!==null&&WI(t,e,n,r,A,R,o,c),f=u<i.length?i[u]:null,p=l<s.length?s[l]:null}}function WI(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=wx(l)?O_(u,e,n,i,zi(l),o):void 0;if(!zc(f)){zc(s)||vx(l)&&(s=O_(u,null,n,i,c,o));let p=gw(jr(),n);qR(r,o,p,i,s)}}function O_(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===rn&&(y=p?Cn:void 0);let I=p?qd(y,r):f===r?y:void 0;if(l&&!zc(I)&&(I=qd(u,r)),zc(I)&&(c=I,o))return c;let A=t[i+1];i=o?Vr(A):zi(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=qd(u,r))}return c}function zc(t){return t!==void 0}function Fx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Xe(Yi(t)))),t}function KI(t,e){return(t.flags&(e?8:16))!==0}function QI(t,e,n,r,i){let s=ue(),o=yx(s,t,e,n,r,i);Nx($h,Ax,o,!0)}function Vx(t,e,n,r,i,s){let o=e.consts,c=$i(o,i),u=Ji(e,t,2,r,c);return vf(e,n,u,$i(o,s)),u.attrs!==null&&$c(u,u.attrs,!1),u.mergedAttrs!==null&&$c(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function we(t,e,n,r){let i=ue(),s=at(),o=st+t,c=i[Ce],u=s.firstCreatePass?Vx(o,s,i,e,n,r):s.data[o],l=Ux(s,i,u,c,e,t);i[o]=l;let f=eu(u);return Ur(u,!0),yI(c,l,u),!hx(u)&&nu()&&au(s,i,l,u),TA()===0&&tr(l,i),CA(),f&&(gf(s,i,u),pf(s,u,i)),r!==null&&mf(i,u),we}function De(){let t=ct();Qh()?Yh():(t=t.parent,Ur(t,!1));let e=t;bA(e)&&SA(),DA();let n=at();return n.firstCreatePass&&(iu(n,t),Wh(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&HA(e)&&Fh(n,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&qA(e)&&Fh(n,e,ue(),e.stylesWithoutHost,!1),De}function on(t,e,n,r){return we(t,e,n,r),De(),on}var Ux=(t,e,n,r,i,s)=>(ru(!0),aI(r,i,UA()));function jx(t,e,n,r,i){let s=e.consts,o=$i(s,r),c=Ji(e,t,8,"ng-container",o);o!==null&&$c(c,o,!0);let u=$i(s,i);return vf(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function YI(t,e,n){let r=ue(),i=at(),s=t+st,o=i.firstCreatePass?jx(s,i,r,e,n):i.data[s];Ur(o,!0);let c=Bx(i,r,o,t);return r[s]=c,nu()&&au(i,r,c,o),tr(c,r),eu(o)&&(gf(i,r,o),pf(i,o,r)),n!=null&&mf(r,o),YI}function JI(){let t=ct(),e=at();return Qh()?Yh():(t=t.parent,Ur(t,!1)),e.firstCreatePass&&(iu(e,t),Wh(t)&&e.queries.elementEnd(t)),JI}function hu(t,e,n){return YI(t,e,n),JI(),hu}var Bx=(t,e,n,r)=>(ru(!0),RR(e[Ce],""));function ZI(){return ue()}var Gc="en-US";var $x=Gc;function Hx(t){typeof t=="string"&&($x=t.toLowerCase().replace(/_/g,"-"))}var qx=(t,e,n)=>{};function Br(t,e,n,r){let i=ue(),s=at(),o=ct();return Gx(s,i,i[Ce],o,t,e,r),Br}function zx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[xc],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function Gx(t,e,n,r,i,s,o){let c=eu(r),l=t.firstCreatePass&&vN(t),f=e[Ht],p=yN(e),y=!0;if(r.type&3||o){let R=Rt(r,e),P=o?o(R):R,W=p.length,oe=o?ve=>o(nn(ve[r.index])):r.index,q=null;if(!o&&c&&(q=zx(t,e,i,r.index)),q!==null){let ve=q.__ngLastListenerFn__||q;ve.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,y=!1}else{s=F_(r,e,f,s),qx(R,i,s);let ve=n.listen(P,i,s);p.push(s,ve),l&&l.push(i,oe,W,W+1)}}else s=F_(r,e,f,s);let I=r.outputs,A;if(y&&I!==null&&(A=I[i])){let R=A.length;if(R)for(let P=0;P<R;P+=2){let W=A[P],oe=A[P+1],nt=e[W][oe].subscribe(s),pe=p.length;p.push(s,nt),l&&l.push(i,r.index,pe,-(pe+1))}}}function L_(t,e,n,r){let i=ne(null);try{return Zt(6,e,n),n(r)!==!1}catch(s){return SI(t,s),!1}finally{Zt(7,e,n),ne(i)}}function F_(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?sr(t.index,e):e;If(o,5);let c=L_(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=L_(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function Co(t=1){return VA(t)}function Wx(t,e){let n=null,r=G0(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?X_(t,s,!0):Q0(r,s))return i}return n}function fu(t){let e=ue()[bt][ot];if(!e.projection){let n=t?t.length:1,r=e.projection=F0(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?Wx(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function pu(t,e=0,n,r,i,s){let o=ue(),c=at(),u=r?t+1:null;u!==null&&$I(o,c,u,r,i,s,null,n);let l=Ji(c,st+t,16,null,n||null);l.projection===null&&(l.projection=e),Yh();let p=!o[ho]||Tw();o[bt][ot].projection[l.projection]===null&&u!==null?Kx(o,c,u):p&&(l.flags&32)!==32&&$R(c,o,l)}function Kx(t,e,n){let r=st+n,i=e.data[r],s=t[r],o=Sh(s,i.tView.ssrId),c=AI(t,i,void 0,{dehydratedView:o});RI(s,c,0,Dh(i,o))}function Qx(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function gu(t){let e=RA();return yw(e,st+t)}function Ge(t,e=""){let n=ue(),r=at(),i=t+st,s=r.firstCreatePass?Ji(r,i,1,e,null):r.data[i],o=Yx(r,n,s,e,t);n[i]=o,nu()&&au(r,n,o,s),Ur(s,!1)}var Yx=(t,e,n,r,i)=>(ru(!0),SR(e[Ce],r));function mu(t){return XI("",t,""),mu}function XI(t,e,n){let r=ue(),i=mx(r,t,e,n);return i!==rn&&_N(r,jr(),i),XI}var Jx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=ow(!1,r.type),s=i.length>0?Sf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=O({token:e,providedIn:"environment",factory:()=>new e(j(Dt))});let t=e;return t})();function Nt(t){Cf("NgStandalone"),t.getStandaloneInjector=e=>e.get(Jx).getOrCreateStandaloneInjector(t)}function Zx(t,e){let n=t[e];return n===rn?void 0:n}function Xx(t,e,n,r,i,s){let o=e+n;return rr(t,o,i)?lx(t,o+1,s?r.call(s,i):r(i)):Zx(t,o+1)}function Nf(t,e){let n=at(),r,i=t+st;n.firstCreatePass?(r=eM(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Mr(r.type,!0)),o,c=it(Ne);try{let u=Fc(!1),l=s();return Fc(u),Qx(n,ue(),i,l),l}finally{it(c)}}function eM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function xf(t,e,n){let r=t+st,i=ue(),s=yw(i,r);return tM(i,r)?Xx(i,NA(),e,s.transform,n,s):s.transform(n)}function tM(t,e){return t[K].data[e].pure}function Mf(t,e){return LI(t,e)}var ir=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eE=new ir("18.0.6");var yu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var tE=new L("");function es(t){return!!t&&typeof t.then=="function"}function Pf(t){return!!t&&typeof t.subscribe=="function"}var nE=new L(""),rE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=M(nE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(es(o))r.push(o);else if(Pf(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kf=new L("");function nM(){Nv(()=>{throw new F(600,!1)})}function rM(t){return t.isBoundToModule}var iM=10;function sM(t,e,n){try{let r=n();return es(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ts=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(Kw),this.afterRenderEffectManager=M(jI),this.zonelessEnabled=M(Tf),this.externalTestViews=new Set,this.beforeRender=new Me,this.afterTick=new Me,this.componentTypes=[],this.components=[],this.isStable=M(Qi).hasPendingTasks.pipe(Q(r=>!r)),this._injector=M(Dt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Bc;if(!this._injector.get(rE).done){let I=!s&&nw(r),A=!1;throw new F(405,A)}let c;s?c=r:c=this._injector.get(Hi).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=rM(c)?void 0:this._injector.get(nr),l=i||c.selector,f=c.create(tt.NULL,[],l,u),p=f.location.nativeElement,y=f.injector.get(tE,null);return y?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),th(this.components,f),y?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new F(101,!1);let i=ne(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ne(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(qi,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<iM;){let c=s===0;if(r||!c){this.beforeRender.next(c);for(let{_lView:u,notifyErrorHandler:l}of this._views)oM(u,l,c,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>po(u))&&(o.execute(),!this.allViews.some(({_lView:u})=>po(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;th(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(kf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>th(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new F(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function th(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oM(t,e,n,r){if(!n&&!po(t))return;MI(t,e,n&&!r?0:1)}var Vh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Of=(()=>{let e=class e{compileModuleSync(r){return new kh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=rw(r),o=oI(s.declarations).reduce((c,u)=>{let l=Pr(u);return l&&c.push(new vo(l)),c},[]);return new Vh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aM=(()=>{let e=class e{constructor(){this.zone=M(ae),this.changeDetectionScheduler=M(yo),this.applicationRef=M(ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cM=new L("",{factory:()=>!1});function iE({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new ae(oE()),[{provide:ae,useFactory:t},{provide:Fi,multi:!0,useFactory:()=>{let n=M(aM,{optional:!0});return()=>n.initialize()}},{provide:Fi,multi:!0,useFactory:()=>{let n=M(lM);return()=>{n.initialize()}}},{provide:Kw,useFactory:uM},e===!0?{provide:FI,useValue:!0}:[]]}function uM(){let t=M(ae),e=M(Dn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function sE(t){let e=t?.ignoreChangesOutsideZone,n=iE({ngZoneFactory:()=>{let r=oE(t);return r.shouldCoalesceEventChangeDetection&&Cf("NgZone_CoalesceEvent"),new ae(r)},ignoreChangesOutsideZone:e});return At([{provide:cM,useValue:!0},{provide:Tf,useValue:!1},n])}function oE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var lM=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=M(ae),this.pendingTasks=M(Qi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dM=(()=>{let e=class e{constructor(){this.appRef=M(ts),this.taskService=M(Qi),this.ngZone=M(ae),this.zonelessEnabled=M(Tf),this.disableScheduling=M(FI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Te,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?A_:VI;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ae.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,A_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hM(){return typeof $localize<"u"&&$localize.locale||Gc}var Lf=new L("",{providedIn:"root",factory:()=>M(Lf,z.Optional|z.SkipSelf)||hM()});var aE=new L("");var bc=null;function fM(t=[],e){return tt.create({name:e,providers:[{provide:Jc,useValue:"platform"},{provide:aE,useValue:new Set([()=>bc=null])},...t]})}function pM(t=[]){if(bc)return bc;let e=fM(t);return bc=e,nM(),gM(e),e}function gM(t){t.get(of,null)?.forEach(n=>n())}var ns=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mM;let t=e;return t})();function mM(t){return yM(ct(),ue(),(t&16)===16)}function yM(t,e,n){if(Xc(t)&&!n){let r=sr(t.index,e);return new Fr(r,r)}else if(t.type&175){let r=e[bt];return new Fr(r,e)}return null}function cE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=pM(r),s=[iE({}),{provide:yo,useExisting:dM},...n||[]],c=new qc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(ae);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(Dn,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>c.destroy(),y=i.get(aE);return y.add(p),c.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),sM(l,u,()=>{let I=c.get(rE);return I.runInitializers(),I.donePromise.then(()=>{let A=c.get(Lf,Gc);Hx(A||Gc);let R=c.get(ts);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}var uE=new L("");function Do(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ff(t){let e=ne(null);try{return t()}finally{ne(e)}}var gE=null;function rs(){return gE}function mE(t){gE??=t}var vu=class{};var gt=new L(""),yE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:()=>M(vM),providedIn:"platform"});let t=e;return t})();var vM=(()=>{let e=class e extends yE{constructor(){super(),this._doc=M(gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rs().getBaseHref(this._doc)}onPopState(r){let i=rs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=rs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function vE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function lE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function $r(t){return t&&t[0]!=="?"?"?"+t:t}var is=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:()=>M(_E),providedIn:"root"});let t=e;return t})(),_M=new L(""),_E=(()=>{let e=class e extends is{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??M(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return vE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+$r(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+$r(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+$r(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(j(yE),j(_M,8))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bo=(()=>{let e=class e{constructor(r){this._subject=new Ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=EM(lE(dE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+$r(i))}normalize(r){return e.stripTrailingSlash(IM(this._basePath,dE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$r(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$r(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=$r,e.joinWithSlash=vE,e.stripTrailingSlash=lE,e.\u0275fac=function(i){return new(i||e)(j(is))},e.\u0275prov=O({token:e,factory:()=>wM(),providedIn:"root"});let t=e;return t})();function wM(){return new bo(j(is))}function IM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dE(t){return t.replace(/\/index.html$/,"")}function EM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function wE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var IE=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Uf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){hE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){hE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Ne(Zi),Ne(Ef))},e.\u0275dir=Gi({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Uf=class{constructor(){this.$implicit=null,this.ngIf=null}};function hE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Xe(e)}'.`)}var EE=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(Ne(Zi))},e.\u0275dir=Gi({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ki]});let t=e;return t})();function TM(t,e){return new F(2100,!1)}var jf=class{createSubscription(e,n){return Ff(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Ff(()=>e.unsubscribe())}},Bf=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},CM=new Bf,DM=new jf,TE=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(es(r))return CM;if(Pf(r))return DM;throw TM(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(Ne(ns,16))},e.\u0275pipe=Yc({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var CE="browser",bM="server";function $f(t){return t===bM}var _u=class{};var zf=class extends vu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gf=class t extends zf{static makeCurrent(){mE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=AM();return n==null?null:RM(n)}resetBaseElement(){So=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wE(document.cookie,e)}},So=null;function AM(){return So=So||document.querySelector("base"),So?So.getAttribute("href"):null}function RM(t){return new URL(t,document.baseURI).pathname}var NM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),wu=new L(""),AE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new F(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(j(wu),j(ae))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),Ao=class{constructor(e){this._doc=e}},Hf="ng-app-id",RE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$f(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Hf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Hf),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Hf,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(j(gt),j(sf),j(af,8),j(or))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),qf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Kf=/%COMP%/g,NE="%COMP%",xM=`_nghost-${NE}`,MM=`_ngcontent-${NE}`,PM=!0,kM=new L("",{providedIn:"root",factory:()=>PM});function OM(t){return MM.replace(Kf,t)}function LM(t){return xM.replace(Kf,t)}function xE(t,e){return e.map(n=>n.replace(Kf,t))}var DE=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=$f(u),this.defaultRenderer=new Ro(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===en.ShadowDom&&(i=_e(k({},i),{encapsulation:en.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Iu?s.applyToHost(r):s instanceof No&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case en.Emulated:o=new Iu(l,f,i,this.appId,p,c,u,y);break;case en.ShadowDom:return new Wf(l,f,r,i,c,u,this.nonce,y);default:o=new No(l,f,i,p,c,u,y);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(j(AE),j(RE),j(sf),j(kM),j(gt),j(or),j(ae),j(af))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),Ro=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(qf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(bE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(bE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=qf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=qf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(bn.DashCase|bn.Important)?e.style.setProperty(n,r,i&bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=rs().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function bE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wf=class extends Ro{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=xE(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},No=class extends Ro{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?xE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Iu=class extends No{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=OM(l),this.hostAttr=LM(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},FM=(()=>{let e=class e extends Ao{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(j(gt))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),VM=(()=>{let e=class e extends Ao{constructor(r){super(r),this.delegate=M(uE,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(j(gt))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),SE=["alt","control","meta","shift"],UM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},BM=(()=>{let e=class e extends Ao{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rs().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),SE.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=UM[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),SE.forEach(c=>{if(c!==s){let u=jM[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(j(gt))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function ME(t,e){return cE(k({rootComponent:t},$M(e)))}function $M(t){return{appProviders:[...WM,...t?.providers??[]],platformProviders:GM}}function HM(){Gf.makeCurrent()}function qM(){return new Dn}function zM(){return tI(document),document}var GM=[{provide:or,useValue:CE},{provide:of,useValue:HM,multi:!0},{provide:gt,useFactory:zM,deps:[]}];var WM=[{provide:Jc,useValue:"root"},{provide:Dn,useFactory:qM,deps:[]},{provide:wu,useClass:FM,multi:!0,deps:[gt,ae,or]},{provide:wu,useClass:BM,multi:!0,deps:[gt]},{provide:wu,useClass:VM,multi:!0},DE,RE,AE,{provide:qi,useExisting:DE},{provide:_u,useClass:NM,deps:[]},[]];var PE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(j(gt))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H="primary",Wo=Symbol("RouteTitle"),Xf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ls(t){return new Xf(t)}function QM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function YM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!an(t[n],e[n]))return!1;return!0}function an(t,e){let n=t?ep(t):void 0,r=e?ep(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!BE(t[i],e[i]))return!1;return!0}function ep(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function BE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function $E(t){return t.length>0?t[t.length-1]:null}function lr(t){return Fd(t)?t:es(t)?be(Promise.resolve(t)):$(t)}var JM={exact:qE,subset:zE},HE={exact:ZM,subset:XM,ignored:()=>!0};function kE(t,e,n){return JM[n.paths](t.root,e.root,n.matrixParams)&&HE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ZM(t,e){return an(t,e)}function qE(t,e,n){if(!qr(t.segments,e.segments)||!Cu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!qE(t.children[r],e.children[r],n))return!1;return!0}function XM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>BE(t[n],e[n]))}function zE(t,e,n){return GE(t,e,e.segments,n)}function GE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!qr(i,n)||e.hasChildren()||!Cu(i,n,r))}else if(t.segments.length===n.length){if(!qr(t.segments,n)||!Cu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!zE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!qr(t.segments,i)||!Cu(t.segments,i,r)||!t.children[H]?!1:GE(t.children[H],e,s,r)}}function Cu(t,e,n){return e.every((r,i)=>HE[n](t[i].parameters,r.parameters))}var cr=class{constructor(e=new ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){return nP.serialize(this)}},ce=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Du(this)}},Hr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ls(this.parameters),this._parameterMap}toString(){return KE(this)}};function eP(t,e){return qr(t,e)&&t.every((n,r)=>an(n.parameters,e[r].parameters))}function qr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function tP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var bp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:()=>new Fo,providedIn:"root"});let t=e;return t})(),Fo=class{parse(e){let n=new np(e);return new cr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${xo(e.root,!0)}`,r=sP(e.queryParams),i=typeof e.fragment=="string"?`#${rP(e.fragment)}`:"";return`${n}${r}${i}`}},nP=new Fo;function Du(t){return t.segments.map(e=>KE(e)).join("/")}function xo(t,e){if(!t.hasChildren())return Du(t);if(e){let n=t.children[H]?xo(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${xo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=tP(t,(r,i)=>i===H?[xo(t.children[H],!1)]:[`${i}:${xo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${Du(t)}/${n[0]}`:`${Du(t)}/(${n.join("//")})`}}function WE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eu(t){return WE(t).replace(/%3B/gi,";")}function rP(t){return encodeURI(t)}function tp(t){return WE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bu(t){return decodeURIComponent(t)}function OE(t){return bu(t.replace(/\+/g,"%20"))}function KE(t){return`${tp(t.path)}${iP(t.parameters)}`}function iP(t){return Object.entries(t).map(([e,n])=>`;${tp(e)}=${tp(n)}`).join("")}function sP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Eu(n)}=${Eu(i)}`).join("&"):`${Eu(n)}=${Eu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var oP=/^[^\/()?;#]+/;function Qf(t){let e=t.match(oP);return e?e[0]:""}var aP=/^[^\/()?;=#]+/;function cP(t){let e=t.match(aP);return e?e[0]:""}var uP=/^[^=?&#]+/;function lP(t){let e=t.match(uP);return e?e[0]:""}var dP=/^[^&#]+/;function hP(t){let e=t.match(dP);return e?e[0]:""}var np=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new ce(e,n)),r}parseSegment(){let e=Qf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Hr(bu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=cP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Qf(this.remaining);i&&(r=i,this.capture(r))}e[bu(n)]=bu(r)}parseQueryParam(e){let n=lP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=hP(this.remaining);o&&(r=o,this.capture(r))}let i=OE(n),s=OE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[H]:new ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function QE(t){return t.segments.length>0?new ce([],{[H]:t}):t}function YE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=YE(i);if(r===H&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ce(t.segments,e);return fP(n)}function fP(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new ce(t.segments.concat(e.segments),e.children)}return t}function Vo(t){return t instanceof cr}function pP(t,e,n=null,r=null){let i=JE(t);return ZE(i,e,n,r)}function JE(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new ce(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=QE(r);return e??i}function ZE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Yf(i,i,i,n,r);let s=gP(e);if(s.toRoot())return Yf(i,i,new ce([],{}),n,r);let o=mP(s,i,t),c=o.processChildren?ko(o.segmentGroup,o.index,s.commands):eT(o.segmentGroup,o.index,s.commands);return Yf(i,o.segmentGroup,c,n,r)}function Su(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Uo(t){return typeof t=="object"&&t!=null&&t.outlets}function Yf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=XE(t,e,n);let c=QE(YE(o));return new cr(c,s,i)}function XE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=XE(s,e,n)}),new ce(t.segments,r)}var Au=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Su(r[0]))throw new F(4003,!1);let i=r.find(Uo);if(i&&i!==$E(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Au(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Au(n,e,r)}var as=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function mP(t,e,n){if(t.isAbsolute)return new as(e,!0,0);if(!n)return new as(e,!1,NaN);if(n.parent===null)return new as(n,!0,0);let r=Su(t.commands[0])?0:1,i=n.segments.length-1+r;return yP(n,i,t.numberOfDoubleDots)}function yP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new as(r,!1,i-s)}function vP(t){return Uo(t[0])?t[0].outlets:{[H]:t}}function eT(t,e,n){if(t??=new ce([],{}),t.segments.length===0&&t.hasChildren())return ko(t,e,n);let r=_P(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ce(t.segments.slice(0,r.pathIndex),{});return s.children[H]=new ce(t.segments.slice(r.pathIndex),t.children),ko(s,0,i)}else return r.match&&i.length===0?new ce(t.segments,{}):r.match&&!t.hasChildren()?rp(t,e,n):r.match?ko(t,0,i):rp(t,e,n)}function ko(t,e,n){if(n.length===0)return new ce(t.segments,{});{let r=vP(n),i={};if(Object.keys(r).some(s=>s!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let s=ko(t.children[H],e,n);return new ce(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=eT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ce(t.segments,i)}}function _P(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(Uo(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!FE(u,l,o))return s;r+=2}else{if(!FE(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function rp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Uo(s)){let u=wP(s.outlets);return new ce(r,u)}if(i===0&&Su(n[0])){let u=t.segments[e];r.push(new Hr(u.path,LE(n[0]))),i++;continue}let o=Uo(s)?s.outlets[H]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&Su(c)?(r.push(new Hr(o,LE(c))),i+=2):(r.push(new Hr(o,{})),i++)}return new ce(r,{})}function wP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=rp(new ce([],{}),0,r))}),e}function LE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function FE(t,e,n){return t==n.path&&an(e,n.parameters)}var Oo="imperative",je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(je||{}),Mt=class{constructor(e,n){this.id=e,this.url=n}},jo=class extends Mt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ur=class extends Mt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(yt||{}),ip=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ip||{}),Nn=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zr=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=je.NavigationSkipped}},Bo=class extends Mt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ru=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sp=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},op=class extends Mt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ap=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},up=class{constructor(e){this.route=e,this.type=je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lp=class{constructor(e){this.route=e,this.type=je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dp=class{constructor(e){this.snapshot=e,this.type=je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hp=class{constructor(e){this.snapshot=e,this.type=je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fp=class{constructor(e){this.snapshot=e,this.type=je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pp=class{constructor(e){this.snapshot=e,this.type=je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var $o=class{},ds=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function IP(t,e){return t.providers&&!t._injector&&(t._injector=Sf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qt(t){return t.outlet||H}function EP(t,e){let n=t.filter(r=>qt(r)===e);return n.push(...t.filter(r=>qt(r)!==e)),n}function Ko(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gp=class{get injector(){return Ko(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Lu(this.rootInjector),this.attachRef=null}},Lu=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new gp(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(j(Dt))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=mp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=mp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=yp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yp(e,this._root).map(n=>n.value)}};function mp(t,e){if(t===e.value)return e;for(let n of e.children){let r=mp(t,n);if(r)return r}return null}function yp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=yp(t,n);if(r.length)return r.unshift(e),r}return[]}var mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function os(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xu=class extends Nu{constructor(e,n){super(e),this.snapshot=n,Sp(this,e)}toString(){return this.snapshot.toString()}};function tT(t){let e=TP(t),n=new Ue([new Hr("",{})]),r=new Ue({}),i=new Ue({}),s=new Ue({}),o=new Ue(""),c=new xn(n,r,s,o,i,H,t,e.root);return c.snapshot=e.root,new xu(new mt(c,[]),e)}function TP(t){let e={},n={},r={},i="",s=new cs([],e,r,i,n,H,t,null,{});return new Pu("",new mt(s,[]))}var xn=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Q(l=>l[Wo]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(e=>ls(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(e=>ls(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Mu(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&rT(i)&&(r.resolve[Wo]=i.title),r}var cs=class{get title(){return this.data?.[Wo]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ls(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Pu=class extends Nu{constructor(e,n){super(n),this.url=e,Sp(this,n)}toString(){return nT(this._root)}};function Sp(t,e){e.value._routerState=t,e.children.forEach(n=>Sp(t,n))}function nT(t){let e=t.children.length>0?` { ${t.children.map(nT).join(", ")} } `:"";return`${t.value}${e}`}function Jf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,an(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),an(e.params,n.params)||t.paramsSubject.next(n.params),YM(e.url,n.url)||t.urlSubject.next(n.url),an(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vp(t,e){let n=an(t.params,e.params)&&eP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||vp(t.parent,e.parent))}function rT(t){return typeof t.title=="string"||t.title===null}var Ap=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.parentContexts=M(Lu),this.location=M(Zi),this.changeDetector=M(ns),this.inputBinder=M(Rp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new _p(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Gi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ki]});let t=e;return t})(),_p=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xn?this.route:e===Lu?this.childContexts:this.parent.get(e,n)}},Rp=new L("");function CP(t,e,n){let r=Ho(t,e._root,n?n._root:void 0);return new xu(r,e)}function Ho(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=DP(t,e,n);return new mt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Ho(t,c)),o}}let r=bP(e.value),i=e.children.map(s=>Ho(t,s));return new mt(r,i)}}function DP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ho(t,r,i);return Ho(t,r)})}function bP(t){return new xn(new Ue(t.url),new Ue(t.params),new Ue(t.queryParams),new Ue(t.fragment),new Ue(t.data),t.outlet,t.component,t)}var qo=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},iT="ngNavigationCancelingError";function ku(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sT(!1,yt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function sT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[iT]=!0,n.cancellationCode=e,n}function SP(t){return oT(t)&&Vo(t.url)}function oT(t){return!!t&&t[iT]}var AP=(t,e,n,r)=>Q(i=>(new wp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),wp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Jf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=os(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=os(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=os(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=os(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new pp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Jf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Jf(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Ou=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},us=class{constructor(e,n){this.component=e,this.route=n}};function RP(t,e,n){let r=t._root,i=e?e._root:null;return Mo(r,i,n,[r.value])}function NP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function fs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!B_(t)?t:e.get(t):r}function Mo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=os(e);return t.children.forEach(o=>{xP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Lo(c,n.getContext(o),i)),i}function xP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=MP(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ou(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Mo(t,e,c?c.children:null,r,i):Mo(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new us(c.outlet.component,o))}else o&&Lo(e,c,i),i.canActivateChecks.push(new Ou(r)),s.component?Mo(t,null,c?c.children:null,r,i):Mo(t,null,n,r,i);return i}function MP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!qr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qr(t.url,e.url)||!an(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vp(t,e)||!an(t.queryParams,e.queryParams);case"paramsChange":default:return!vp(t,e)}}function Lo(t,e,n){let r=os(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Lo(o,e.children.getContext(s),n):Lo(o,null,n):Lo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new us(e.outlet.component,i)):n.canDeactivateChecks.push(new us(null,i)):n.canDeactivateChecks.push(new us(null,i))}function Qo(t){return typeof t=="function"}function PP(t){return typeof t=="boolean"}function kP(t){return t&&Qo(t.canLoad)}function OP(t){return t&&Qo(t.canActivate)}function LP(t){return t&&Qo(t.canActivateChild)}function FP(t){return t&&Qo(t.canDeactivate)}function VP(t){return t&&Qo(t.canMatch)}function aT(t){return t instanceof En||t?.name==="EmptyError"}var Tu=Symbol("INITIAL_VALUE");function hs(){return Ut(t=>mc(t.map(e=>e.pipe(Tn(1),$d(Tu)))).pipe(Q(e=>{for(let n of e)if(n!==!0){if(n===Tu)return Tu;if(n===!1||UP(n))return n}return!0}),Vt(e=>e!==Tu),Tn(1)))}function UP(t){return Vo(t)||t instanceof qo}function jP(t,e){return Se(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?$(_e(k({},n),{guardsResult:!0})):BP(o,r,i,t).pipe(Se(c=>c&&PP(c)?$P(r,s,t,e):$(c)),Q(c=>_e(k({},n),{guardsResult:c})))})}function BP(t,e,n,r){return be(t).pipe(Se(i=>WP(i.component,i.route,n,e,r)),Jt(i=>i!==!0,!0))}function $P(t,e,n,r){return be(e).pipe(Ri(i=>Ai(qP(i.route.parent,r),HP(i.route,r),GP(t,i.path,n),zP(t,i.route,n))),Jt(i=>i!==!0,!0))}function HP(t,e){return t!==null&&e&&e(new fp(t)),$(!0)}function qP(t,e){return t!==null&&e&&e(new dp(t)),$(!0)}function zP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(s=>yc(()=>{let o=Ko(e)??n,c=fs(s,o),u=OP(c)?c.canActivate(e,t):Sn(o,()=>c(e,t));return lr(u).pipe(Jt())}));return $(i).pipe(hs())}function GP(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>NP(o)).filter(o=>o!==null).map(o=>yc(()=>{let c=o.guards.map(u=>{let l=Ko(o.node)??n,f=fs(u,l),p=LP(f)?f.canActivateChild(r,t):Sn(l,()=>f(r,t));return lr(p).pipe(Jt())});return $(c).pipe(hs())}));return $(s).pipe(hs())}function WP(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return $(!0);let o=s.map(c=>{let u=Ko(e)??i,l=fs(c,u),f=FP(l)?l.canDeactivate(t,e,n,r):Sn(u,()=>l(t,e,n,r));return lr(f).pipe(Jt())});return $(o).pipe(hs())}function KP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let s=i.map(o=>{let c=fs(o,t),u=kP(c)?c.canLoad(e,n):Sn(t,()=>c(e,n));return lr(u)});return $(s).pipe(hs(),cT(r))}function cT(t){return Nd(Ae(e=>{if(typeof e!="boolean")throw ku(t,e)}),Q(e=>e===!0))}function QP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let s=i.map(o=>{let c=fs(o,t),u=VP(c)?c.canMatch(e,n):Sn(t,()=>c(e,n));return lr(u)});return $(s).pipe(hs(),cT(r))}var zo=class{constructor(e){this.segmentGroup=e||null}},Go=class extends Error{constructor(e){super(),this.urlTree=e}};function ss(t){return Si(new zo(t))}function YP(t){return Si(new F(4e3,!1))}function JP(t){return Si(sT(!1,yt.GuardRejected))}var Ip=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[H])return YP(`${e.redirectTo}`);i=i.children[H]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,params:I,data:A,title:R}=i,P=Sn(s,()=>c({params:I,data:A,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,title:R}));if(P instanceof cr)throw new Go(P);n=P}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Go(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new cr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ce(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZP(t,e,n,r,i){let s=Np(t,e,n);return s.matched?(r=IP(e,r),QP(r,e,n,i).pipe(Q(o=>o===!0?s:k({},Ep)))):$(s)}function Np(t,e,n){if(e.path==="**")return XP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Ep):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||QM)(n,t,e);if(!i)return k({},Ep);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function XP(t){return{matched:!0,parameters:t.length>0?$E(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function VE(t,e,n,r){return n.length>0&&nk(t,n,r)?{segmentGroup:new ce(e,tk(r,new ce(n,t.children))),slicedSegments:[]}:n.length===0&&rk(t,n,r)?{segmentGroup:new ce(t.segments,ek(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ce(t.segments,t.children),slicedSegments:n}}function ek(t,e,n,r){let i={};for(let s of n)if(Fu(t,e,s)&&!r[qt(s)]){let o=new ce([],{});i[qt(s)]=o}return k(k({},r),i)}function tk(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&qt(r)!==H){let i=new ce([],{});n[qt(r)]=i}return n}function nk(t,e,n){return n.some(r=>Fu(t,e,r)&&qt(r)!==H)}function rk(t,e,n){return n.some(r=>Fu(t,e,r))}function Fu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ik(t,e,n,r){return qt(t)!==r&&(r===H||!Fu(e,n,t))?!1:Np(e,t,n).matched}function sk(t,e,n){return e.length===0&&!t.children[n]}var Tp=class{};function ok(t,e,n,r,i,s,o="emptyOnly"){return new Cp(t,e,n,r,i,o,s).recognize()}var ak=31,Cp=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Ip(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=VE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Q(({children:n,rootSnapshot:r})=>{let i=new mt(r,n),s=new Pu("",i),o=pP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new cs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,H,n).pipe(Q(r=>({children:r,rootSnapshot:n})),Yn(r=>{if(r instanceof Go)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zo?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Q(o=>o instanceof mt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return be(s).pipe(Ri(o=>{let c=r.children[o],u=EP(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Bd((o,c)=>(o.push(...c),o)),Jn(null),jd(),Se(o=>{if(o===null)return ss(r);let c=uT(o);return ck(c),$(c)}))}processSegment(e,n,r,i,s,o,c){return be(n).pipe(Ri(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(Yn(l=>{if(l instanceof zo)return $(null);throw l}))),Jt(u=>!!u),Yn(u=>{if(aT(u))return sk(r,i,s)?$(new Tp):ss(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return ik(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):ss(i):ss(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:y}=Np(n,i,s);if(!u)return ss(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ak&&(this.allowRedirects=!1));let I=new cs(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,UE(i),qt(i),i.component??i._loadedComponent??null,i,jE(i)),A=Mu(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let R=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,I,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(Se(P=>this.processSegment(e,r,n,P.concat(y),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=ZP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Ut(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:I}=u,A=new cs(y,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,UE(r),qt(r),r.component??r._loadedComponent??null,r,jE(r)),R=Mu(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(R.params),A.data=Object.freeze(R.data);let{segmentGroup:P,slicedSegments:W}=VE(n,y,I,l);if(W.length===0&&P.hasChildren())return this.processChildren(f,l,P,A).pipe(Q(q=>new mt(A,q)));if(l.length===0&&W.length===0)return $(new mt(A,[]));let oe=qt(r)===s;return this.processSegment(f,l,P,W,oe?H:s,!0,A).pipe(Q(q=>new mt(A,q instanceof mt?[q]:[])))}))):ss(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):KP(e,n,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(e,n).pipe(Ae(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):JP(n))):$({routes:[],injector:e})}};function ck(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function uk(t){let e=t.value.routeConfig;return e&&e.path===""}function uT(t){let e=[],n=new Set;for(let r of t){if(!uk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=uT(r.children);e.push(new mt(r.value,i))}return e.filter(r=>!n.has(r))}function UE(t){return t.data||{}}function jE(t){return t.resolve||{}}function lk(t,e,n,r,i,s){return Se(o=>ok(t,e,n,r,o.extractedUrl,i,s).pipe(Q(({state:c,tree:u})=>_e(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function dk(t,e){return Se(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of lT(u))o.add(l);let c=0;return be(o).pipe(Ri(u=>s.has(u)?hk(u,r,t,e):(u.data=Mu(u,u.parent,t).resolve,$(void 0))),Ae(()=>c++),Ni(1),Se(u=>c===o.size?$(n):pt))})}function lT(t){let e=t.children.map(n=>lT(n)).flat();return[t,...e]}function hk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!rT(i)&&(s[Wo]=i.title),fk(s,t,e,r).pipe(Q(o=>(t._resolvedData=o,t.data=Mu(t,t.parent,n).resolve,null)))}function fk(t,e,n,r){let i=ep(t);if(i.length===0)return $({});let s={};return be(i).pipe(Se(o=>pk(t[o],e,n,r).pipe(Jt(),Ae(c=>{if(c instanceof qo)throw ku(new Fo,c);s[o]=c}))),Ni(1),Ud(s),Yn(o=>aT(o)?pt:Si(o)))}function pk(t,e,n,r){let i=Ko(e)??r,s=fs(t,i),o=s.resolve?s.resolve(e,n):Sn(i,()=>s(e,n));return lr(o)}function Zf(t){return Ut(e=>{let n=t(e);return n?be(n).pipe(Q(()=>e)):$(e)})}var dT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[Wo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:()=>M(gk),providedIn:"root"});let t=e;return t})(),gk=(()=>{let e=class e extends dT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(j(PE))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xp=new L("",{providedIn:"root",factory:()=>({})}),mk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=St({type:e,selectors:[["ng-component"]],standalone:!0,features:[Nt],decls:1,vars:0,template:function(i,s){i&1&&on(0,"router-outlet")},dependencies:[Ap],encapsulation:2});let t=e;return t})();function Mp(t){let e=t.children&&t.children.map(Mp),n=e?_e(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=mk),n}var Pp=new L(""),yk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(Of)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=lr(r.loadComponent()).pipe(Q(hT),Ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),so(()=>{this.componentLoaders.delete(r)})),s=new Ti(i,()=>new Me).pipe(Ei());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=vk(i,this.compiler,r,this.onLoadEndListener).pipe(so(()=>{this.childrenLoaders.delete(i)})),c=new Ti(o,()=>new Me).pipe(Ei());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vk(t,e,n,r){return lr(t.loadChildren()).pipe(Q(hT),Se(i=>i instanceof _o||Array.isArray(i)?$(i):be(e.compileModuleAsync(i))),Q(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Pp,[],{optional:!0,self:!0}).flat()),{routes:o.map(Mp),injector:s}}))}function _k(t){return t&&typeof t=="object"&&"default"in t}function hT(t){return _k(t)?t.default:t}var kp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:()=>M(wk),providedIn:"root"});let t=e;return t})(),wk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ik=new L("");var Ek=new L(""),Tk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Me,this.transitionAbortSubject=new Me,this.configLoader=M(yk),this.environmentInjector=M(Dt),this.urlSerializer=M(bp),this.rootContexts=M(Lu),this.location=M(bo),this.inputBindingEnabled=M(Rp,{optional:!0})!==null,this.titleStrategy=M(dT),this.options=M(xp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(kp),this.createViewTransition=M(Ik,{optional:!0}),this.navigationErrorHandler=M(Ek,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let r=s=>this.events.next(new up(s)),i=s=>this.events.next(new lp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(_e(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ue({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Oo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(o=>o.id!==0),Q(o=>_e(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ut(o=>{let c=!1,u=!1;return $(o).pipe(Ut(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",yt.SupersededByNewNavigation),pt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?_e(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let y="";return this.events.next(new zr(l.id,this.urlSerializer.serialize(l.rawUrl),y,ip.IgnoredSameUrlNavigation)),l.resolve(!1),pt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $(l).pipe(Ut(y=>{let I=this.transitions?.getValue();return this.events.next(new jo(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),I!==this.transitions?.getValue()?pt:Promise.resolve(y)}),lk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ae(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=_e(k({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let I=new Ru(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:I,source:A,restoredState:R,extras:P}=l,W=new jo(y,this.urlSerializer.serialize(I),A,R);this.events.next(W);let oe=tT(this.rootComponentType).snapshot;return this.currentTransition=o=_e(k({},l),{targetSnapshot:oe,urlAfterRedirects:I,extras:_e(k({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,$(o)}else{let y="";return this.events.next(new zr(l.id,this.urlSerializer.serialize(l.extractedUrl),y,ip.IgnoredByUrlHandlingStrategy)),l.resolve(!1),pt}}),Ae(l=>{let f=new sp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Q(l=>(this.currentTransition=o=_e(k({},l),{guards:RP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),jP(this.environmentInjector,l=>this.events.next(l)),Ae(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ku(this.urlSerializer,l.guardsResult);let f=new op(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Vt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",yt.GuardRejected),!1)),Zf(l=>{if(l.guards.canActivateChecks.length)return $(l).pipe(Ae(f=>{let p=new ap(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Ut(f=>{let p=!1;return $(f).pipe(dk(this.paramsInheritanceStrategy,this.environmentInjector),Ae({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",yt.NoDataFromResolver)}}))}),Ae(f=>{let p=new cp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Zf(l=>{let f=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ae(I=>{p.component=I}),Q(()=>{})));for(let I of p.children)y.push(...f(I));return y};return mc(f(l.targetSnapshot.root)).pipe(Jn(null),Tn(1))}),Zf(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?be(p).pipe(Q(()=>o)):$(o)}),Q(l=>{let f=CP(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=_e(k({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Ae(()=>{this.events.next(new $o)}),AP(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Tn(1),Ae({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ur(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Hd(this.transitionAbortSubject.pipe(Ae(l=>{throw l}))),so(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",yt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yn(l=>{if(u=!0,oT(l))this.events.next(new Nn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),SP(l)?this.events.next(new ds(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new Bo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=Sn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(p instanceof qo){let{message:y,cancellationCode:I}=ku(this.urlSerializer,p);this.events.next(new Nn(o.id,this.urlSerializer.serialize(o.extractedUrl),y,I)),this.events.next(new ds(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(f);let y=r.errorHandler(l);o.resolve(!!y)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return pt}))}))}cancelNavigationTransition(r,i,s){let o=new Nn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ck(t){return t!==Oo}var Dk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:()=>M(bk),providedIn:"root"});let t=e;return t})(),Dp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},bk=(()=>{let e=class e extends Dp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=nf(e)))(s||e)}})(),e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:()=>M(Sk),providedIn:"root"});let t=e;return t})(),Sk=(()=>{let e=class e extends fT{constructor(){super(...arguments),this.location=M(bo),this.urlSerializer=M(bp),this.options=M(xp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(kp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new cr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof jo)this.stateMemento=this.createStateMemento();else if(r instanceof zr)this.rawUrlTree=i.initialUrl;else if(r instanceof Ru){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof $o?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Nn&&(r.code===yt.GuardRejected||r.code===yt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Bo?this.restoreHistory(i,!0):r instanceof ur&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=k(k({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=nf(e)))(s||e)}})(),e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Po=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Po||{});function Ak(t,e){t.events.pipe(Vt(n=>n instanceof ur||n instanceof Nn||n instanceof Bo||n instanceof zr),Q(n=>n instanceof ur||n instanceof zr?Po.COMPLETE:(n instanceof Nn?n.code===yt.Redirect||n.code===yt.SupersededByNewNavigation:!1)?Po.REDIRECTING:Po.FAILED),Vt(n=>n!==Po.REDIRECTING),Tn(1)).subscribe(()=>{e()})}function Rk(t){throw t}var Nk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=M(yu),this.stateManager=M(fT),this.options=M(xp,{optional:!0})||{},this.pendingTasks=M(Qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(Tk),this.urlSerializer=M(bp),this.location=M(bo),this.urlHandlingStrategy=M(kp),this._events=new Me,this.errorHandler=this.options.errorHandler||Rk,this.navigated=!1,this.routeReuseStrategy=M(Dk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(Pp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(Rp,{optional:!0}),this.eventsSubscription=new Te,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Nn&&i.code!==yt.Redirect&&i.code!==yt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ur)this.navigated=!0;else if(i instanceof ds){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=k({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ck(s.source)},c);this.scheduleNavigation(u,Oo,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Pk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Oo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=k({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Mp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,p=null;switch(u){case"merge":p=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let I=s?s.snapshot:this.routerState.snapshot.root;y=JE(I)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),y=this.currentUrlTree.root}return ZE(y,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Vo(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Oo,null,i)}navigate(r,i={skipLocationChange:!1}){return Mk(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=k({},Nk):i===!1?s=k({},xk):s=i,Vo(r))return kE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return kE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((y,I)=>{u=y,l=I});let p=this.pendingTasks.add();return Ak(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new F(4008,!1)}function Pk(t){return!(t instanceof $o)&&!(t instanceof ds)}var pT=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Me,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof ur&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:iI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Ne(Mn),Ne(xn),rf("tabindex"),Ne(du),Ne(To),Ne(is))},e.\u0275dir=Gi({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Br("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&Af("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Do],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Do],replaceUrl:[2,"replaceUrl","replaceUrl",Do],routerLink:"routerLink"},standalone:!0,features:[bf,Ki]});let t=e;return t})();var kk=new L("");function gT(t,...e){return At([{provide:Pp,multi:!0,useValue:t},[],{provide:xn,useFactory:Ok,deps:[Mn]},{provide:kf,multi:!0,useFactory:Lk},e.map(n=>n.\u0275providers)])}function Ok(t){return t.routerState.root}function Lk(){let t=M(tt);return e=>{let n=t.get(ts);if(e!==n.components[0])return;let r=t.get(Mn),i=t.get(Fk);t.get(Vk)===1&&r.initialNavigation(),t.get(Uk,null,z.Optional)?.setUpPreloading(),t.get(kk,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Fk=new L("",{factory:()=>new Me}),Vk=new L("",{providedIn:"root",factory:()=>1});var Uk=new L("");var mT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=St({type:e,selectors:[["app-dashboard-page"]],standalone:!0,features:[Nt],decls:2,vars:0,template:function(i,s){i&1&&(we(0,"p"),Ge(1,"dashboard-page works!"),De())},styles:["[_nghost-%COMP%]{padding:0}"]});let t=e;return t})();var jk=["*"],yT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=St({type:e,selectors:[["ui-panel"]],standalone:!0,features:[Nt],ngContentSelectors:jk,decls:2,vars:0,consts:[[1,"panel"]],template:function(i,s){i&1&&(fu(),we(0,"div",0),pu(1),De())},styles:[".panel[_ngcontent-%COMP%]{background-color:var(--theme-bg);border-bottom:1px solid var(--theme-bg-hover);border-radius:12px;box-shadow:0 4px 8px #33334e1a;padding:10px 30px}"]});let t=e;return t})();var Fp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var x=function(t,e){if(!t)throw Wr(e)},Wr=function(t){return new Error("Firebase Database ("+Fp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var _T=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Uu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(y=64)),r.push(n[f],n[p],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_T(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Vp;let y=s<<2|c>>4;if(r.push(y),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Vp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jp=function(t){let e=_T(t);return Uu.encodeByteArray(e,!0)},Yo=function(t){return jp(t).replace(/\./g,"")},Jo=function(t){try{return Uu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wT(t){return IT(void 0,t)}function IT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!$k(n)||(t[n]=IT(t[n],e[n]));return t}function $k(t){return t!=="__proto__"}function Hk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qk=()=>Hk().__FIREBASE_DEFAULTS__,zk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Jo(t[1]);return e&&JSON.parse(e)},Bp=()=>{try{return qk()||zk()||Gk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$p=t=>{var e,n;return(n=(e=Bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ju=t=>{let e=$p(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hp=()=>{var t;return(t=Bp())===null||t===void 0?void 0:t.config},qp=t=>{var e;return(e=Bp())===null||e===void 0?void 0:e[`_${t}`]};var Gr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Bu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yo(JSON.stringify(n)),Yo(JSON.stringify(o)),""].join(".")}function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function ET(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $u(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TT(){let t=ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cn(){return Fp.NODE_CLIENT===!0||Fp.NODE_ADMIN===!0}function zp(){try{return typeof indexedDB=="object"}catch{return!1}}function CT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Wk="FirebaseError",vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}},Pn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Kk(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new vt(i,c,r)}};function Kk(t,e){return t.replace(Qk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Qk=/\{\$([^}]+)}/g;function ps(t){return JSON.parse(t)}function Oe(t){return JSON.stringify(t)}var DT=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=ps(Jo(s[0])||""),n=ps(Jo(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var bT=function(t){let e=DT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ST=function(t){let e=DT(t).claims;return typeof e=="object"&&e.admin===!0};function un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ea(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Qr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(vT(s)&&vT(o)){if(!Qr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function vT(t){return t!==null&&typeof t=="object"}function dr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Vu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let y=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4],l,f;for(let p=0;p<80;p++){p<40?p<20?(l=c^s&(o^c),f=1518500249):(l=s^o^c,f=1859775393):p<60?(l=s&o|c&(s|o),f=2400959708):(l=s^o^c,f=3395469782);let y=(i<<5|i>>>27)+l+u+f+r[p]&4294967295;u=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function AT(t,e){let n=new Up(t,e);return n.subscribe.bind(n)}var Up=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lp),i.error===void 0&&(i.error=Lp),i.complete===void 0&&(i.complete=Lp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Yk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lp(){}function RT(t,e){return`${t} failed: ${e} argument `}var NT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,x(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ta=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var w4=4*60*60*1e3;function zt(t){return t&&t._delegate?t._delegate:t}var ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yr="[DEFAULT]";var Hu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Gr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zk(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Jk(t){return t===Yr?void 0:t}function Zk(t){return t.instantiationMode==="EAGER"}var na=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Hu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Xk=[],re=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(re||{}),eO={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},tO=re.INFO,nO={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},rO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=nO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ln=class{constructor(e){this.name=e,this._logLevel=tO,this._logHandler=rO,this._userLogHandler=null,Xk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var iO=(t,e)=>e.some(n=>t instanceof n),xT,MT;function sO(){return xT||(xT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oO(){return MT||(MT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PT=new WeakMap,Wp=new WeakMap,kT=new WeakMap,Gp=new WeakMap,Qp=new WeakMap;function aO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(dn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PT.set(n,t)}).catch(()=>{}),Qp.set(e,t),e}function cO(t){if(Wp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wp.set(t,e)}var Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OT(t){Kp=t(Kp)}function uO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(qu(this),e,...n);return kT.set(r,e.sort?e.sort():[e]),dn(r)}:oO().includes(t)?function(...e){return t.apply(qu(this),e),dn(PT.get(this))}:function(...e){return dn(t.apply(qu(this),e))}}function lO(t){return typeof t=="function"?uO(t):(t instanceof IDBTransaction&&cO(t),iO(t,sO())?new Proxy(t,Kp):t)}function dn(t){if(t instanceof IDBRequest)return aO(t);if(Gp.has(t))return Gp.get(t);let e=lO(t);return e!==t&&(Gp.set(t,e),Qp.set(e,t)),e}var qu=t=>Qp.get(t);function FT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=dn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(dn(o.result),u.oldVersion,u.newVersion,dn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var dO=["get","getKey","getAll","getAllKeys","count"],hO=["put","add","delete","clear"],Yp=new Map;function LT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=hO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dO.includes(n)))return;let s=function(o,...c){return b(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Yp.set(e,s),s}OT(t=>_e(k({},t),{get:(e,n,r)=>LT(e,n)||t.get(e,n,r),has:(e,n)=>!!LT(e,n)||t.has(e,n)}));var Zp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function fO(t){let e=t.getComponent();return e?.type==="VERSION"}var Xp="@firebase/app",VT="0.10.6";var Jr=new ln("@firebase/app"),pO="@firebase/app-compat",gO="@firebase/analytics-compat",mO="@firebase/analytics",yO="@firebase/app-check-compat",vO="@firebase/app-check",_O="@firebase/auth",wO="@firebase/auth-compat",IO="@firebase/database",EO="@firebase/database-compat",TO="@firebase/functions",CO="@firebase/functions-compat",DO="@firebase/installations",bO="@firebase/installations-compat",SO="@firebase/messaging",AO="@firebase/messaging-compat",RO="@firebase/performance",NO="@firebase/performance-compat",xO="@firebase/remote-config",MO="@firebase/remote-config-compat",PO="@firebase/storage",kO="@firebase/storage-compat",OO="@firebase/firestore",LO="@firebase/vertexai-preview",FO="@firebase/firestore-compat",VO="firebase",UO="10.12.3";var eg="[DEFAULT]",jO={[Xp]:"fire-core",[pO]:"fire-core-compat",[mO]:"fire-analytics",[gO]:"fire-analytics-compat",[vO]:"fire-app-check",[yO]:"fire-app-check-compat",[_O]:"fire-auth",[wO]:"fire-auth-compat",[IO]:"fire-rtdb",[EO]:"fire-rtdb-compat",[TO]:"fire-fn",[CO]:"fire-fn-compat",[DO]:"fire-iid",[bO]:"fire-iid-compat",[SO]:"fire-fcm",[AO]:"fire-fcm-compat",[RO]:"fire-perf",[NO]:"fire-perf-compat",[xO]:"fire-rc",[MO]:"fire-rc-compat",[PO]:"fire-gcs",[kO]:"fire-gcs-compat",[OO]:"fire-fst",[FO]:"fire-fst-compat",[LO]:"fire-vertex","fire-js":"fire-js",[VO]:"fire-js-all"};var ra=new Map,BO=new Map,tg=new Map;function UT(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hn(t){let e=t.name;if(tg.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(let n of ra.values())UT(n,t);for(let n of BO.values())UT(n,t);return!0}function Zr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t.settings!==void 0}var $O={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Pn("app","Firebase",$O);var ng=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}};var pn=UO;function sg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:eg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hr.create("bad-app-name",{appName:String(i)});if(n||(n=Hp()),!n)throw hr.create("no-options");let s=ra.get(i);if(s){if(Qr(n,s.options)&&Qr(r,s.config))return s;throw hr.create("duplicate-app",{appName:i})}let o=new na(i);for(let u of tg.values())o.addComponent(u);let c=new ng(n,r,o);return ra.set(i,c),c}function fr(t=eg){let e=ra.get(t);if(!e&&t===eg&&Hp())return sg();if(!e)throw hr.create("no-app",{appName:t});return e}function zu(){return Array.from(ra.values())}function ye(t,e,n){var r;let i=(r=jO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(c.join(" "));return}hn(new ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var HO="firebase-heartbeat-database",qO=1,ia="firebase-heartbeat-store",Jp=null;function HT(){return Jp||(Jp=FT(HO,qO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw hr.create("idb-open",{originalErrorMessage:t.message})})),Jp}function zO(t){return b(this,null,function*(){try{let n=(yield HT()).transaction(ia),r=yield n.objectStore(ia).get(qT(t));return yield n.done,r}catch(e){if(e instanceof vt)Jr.warn(e.message);else{let n=hr.create("idb-get",{originalErrorMessage:e?.message});Jr.warn(n.message)}}})}function jT(t,e){return b(this,null,function*(){try{let r=(yield HT()).transaction(ia,"readwrite");yield r.objectStore(ia).put(e,qT(t)),yield r.done}catch(n){if(n instanceof vt)Jr.warn(n.message);else{let r=hr.create("idb-set",{originalErrorMessage:n?.message});Jr.warn(r.message)}}})}function qT(t){return`${t.name}!${t.options.appId}`}var GO=1024,WO=30*24*60*60*1e3,rg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ig(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=WO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return b(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=BT(),{heartbeatsToSend:r,unsentEntries:i}=KO(this._heartbeatsCache.heartbeats),s=Yo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function BT(){return new Date().toISOString().substring(0,10)}function KO(t,e=GO){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$T(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$T(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ig=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return zp()?CT().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function $T(t){return Yo(JSON.stringify({version:2,heartbeats:t})).length}function QO(t){hn(new ut("platform-logger",e=>new Zp(e),"PRIVATE")),hn(new ut("heartbeat",e=>new rg(e),"PRIVATE")),ye(Xp,VT,t),ye(Xp,VT,"esm2017"),ye("fire-js","")}QO("");function sC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var oC=sC,aC=new Pn("auth","Firebase",sC());var Ju=new ln("@firebase/auth");function YO(t,...e){Ju.logLevel<=re.WARN&&Ju.warn(`Auth (${pn}): ${t}`,...e)}function Wu(t,...e){Ju.logLevel<=re.ERROR&&Ju.error(`Auth (${pn}): ${t}`,...e)}function mn(t,...e){throw Tg(t,...e)}function Gt(t,...e){return Tg(t,...e)}function Eg(t,e,n){let r=Object.assign(Object.assign({},oC()),{[e]:n});return new Pn("auth","Firebase",r).create(e,{appName:t.name})}function Xr(t){return Eg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JO(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(t,"argument-error"),Eg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aC.create(t,...e)}function V(t,e,...n){if(!t)throw Tg(e,...n)}function kn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Wu(e),new Error(e)}function Ln(t,e){t||kn(e)}function cg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZO(){return zT()==="http:"||zT()==="https:"}function zT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function XO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZO()||ET()||"connection"in navigator)?navigator.onLine:!0}function e1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ln(n>e,"Short delay should be less than long delay!"),this.isMobile=Zo()||$u()}get(){return XO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Cg(t,e){Ln(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Zu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var t1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var n1=new ei(3e4,6e4);function Dg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ys(s,o,c,u){return b(this,arguments,function*(t,e,n,r,i={}){return cC(t,i,()=>b(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=dr(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),Zu.fetch()(uC(t,t.config.apiHost,n,p),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},l))}))})}function cC(t,e,n){return b(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},t1),e);try{let i=new ug(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Gu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Gu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Gu(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Eg(t,f,l);mn(t,f)}}catch(i){if(i instanceof vt)throw i;mn(t,"network-request-failed",{message:String(i)})}})}function r1(s,o,c,u){return b(this,arguments,function*(t,e,n,r,i={}){let l=yield ys(t,e,n,r,i);return"mfaPendingCredential"in l&&mn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function uC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Cg(t.config,i):`${t.config.apiScheme}://${i}`}var ug=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gt(this.auth,"network-request-failed")),n1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Gu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Gt(t,e,r);return i.customData._tokenResponse=n,i}function i1(t,e){return b(this,null,function*(){return ys(t,"POST","/v1/accounts:delete",e)})}function lC(t,e){return b(this,null,function*(){return ys(t,"POST","/v1/accounts:lookup",e)})}function sa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function bg(t,e=!1){return b(this,null,function*(){let n=zt(t),r=yield n.getIdToken(e),i=Sg(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:sa(og(i.auth_time)),issuedAtTime:sa(og(i.iat)),expirationTime:sa(og(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function og(t){return Number(t)*1e3}function Sg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jo(n);return i?JSON.parse(i):(Wu("Failed to decode base64 JWT payload"),null)}catch(i){return Wu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function GT(t){let e=Sg(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function aa(t,e,n=!1){return b(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof vt&&s1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function s1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var lg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),n)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ca=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sa(this.lastLoginAt),this.creationTime=sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xu(t){return b(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield aa(t,lC(n,{idToken:r}));V(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?dC(s.providerUserInfo):[],c=o1(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new ca(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Ag(t){return b(this,null,function*(){let e=zt(t);yield Xu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function o1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dC(t){return t.map(e=>{var{providerId:n}=e,r=sc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function a1(t,e){return b(this,null,function*(){let n=yield cC(t,{},()=>b(this,null,function*(){let r=dr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uC(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Zu.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function c1(t,e){return b(this,null,function*(){return ys(t,"POST","/v2/accounts:revokeToken",Dg(t,e))})}var oa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){V(e.length!==0,"internal-error");let n=GT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return b(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield a1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return kn("not implemented")}};function pr(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ms=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ca(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let n=yield aa(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return bg(this,e)}reload(){return Ag(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Xu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(fn(this.auth.app))return Promise.reject(Xr(this.auth));let e=yield this.getIdToken();return yield aa(this,i1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,W=(l=n.createdAt)!==null&&l!==void 0?l:void 0,oe=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:q,emailVerified:ve,isAnonymous:nt,providerData:pe,stsTokenManager:E}=n;V(q&&E,e,"internal-error");let m=oa.fromJSON(this.name,E);V(typeof q=="string",e,"internal-error"),pr(p,e.name),pr(y,e.name),V(typeof ve=="boolean",e,"internal-error"),V(typeof nt=="boolean",e,"internal-error"),pr(I,e.name),pr(A,e.name),pr(R,e.name),pr(P,e.name),pr(W,e.name),pr(oe,e.name);let _=new t({uid:q,auth:e,email:y,emailVerified:ve,displayName:p,isAnonymous:nt,photoURL:A,phoneNumber:I,tenantId:R,stsTokenManager:m,createdAt:W,lastLoginAt:oe});return pe&&Array.isArray(pe)&&(_.providerData=pe.map(w=>Object.assign({},w))),P&&(_._redirectEventId=P),_}static _fromIdTokenResponse(e,n,r=!1){return b(this,null,function*(){let i=new oa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return b(this,null,function*(){let i=n.users[0];V(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?dC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new oa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ca(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var WT=new Map;function On(t){Ln(t instanceof Function,"Expected a class definition");let e=WT.get(t);return e?(Ln(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WT.set(t,e),e)}var u1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(n,r){return b(this,null,function*(){this.storage[n]=r})}_get(n){return b(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return b(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),dg=u1;function Ku(t,e,n){return`firebase:${t}:${e}:${n}`}var el=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ku(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ku("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ms._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return b(this,null,function*(){if(!n.length)return new t(On(dg),e,r);let i=(yield Promise.all(n.map(l=>b(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||On(dg),o=Ku(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=ms._fromJSON(e,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>b(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function KT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mC(e))return"Blackberry";if(yC(e))return"Webos";if(Rg(e))return"Safari";if((e.includes("chrome/")||fC(e))&&!e.includes("edge/"))return"Chrome";if(gC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function hC(t=ke()){return/firefox\//i.test(t)}function Rg(t=ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fC(t=ke()){return/crios\//i.test(t)}function pC(t=ke()){return/iemobile/i.test(t)}function gC(t=ke()){return/android/i.test(t)}function mC(t=ke()){return/blackberry/i.test(t)}function yC(t=ke()){return/webos/i.test(t)}function ul(t=ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l1(t=ke()){var e;return ul(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d1(){return TT()&&document.documentMode===10}function vC(t=ke()){return ul(t)||gC(t)||yC(t)||mC(t)||/windows phone/i.test(t)||pC(t)}function h1(){try{return!!(window&&window!==window.top)}catch{return!1}}function _C(t,e=[]){let n;switch(t){case"Browser":n=KT(ke());break;case"Worker":n=`${KT(ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pn}/${r}`}var hg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function f1(n){return b(this,arguments,function*(t,e={}){return ys(t,"GET","/v2/passwordPolicy",Dg(t,e))})}var p1=6,fg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:p1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var pg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tl(this),this.idTokenSubscription=new tl(this),this.beforeStateQueue=new hg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=On(n)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield el.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let n=yield lC(this,{idToken:e}),r=yield ms._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var n;if(fn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield Xu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=e1()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(fn(this.app))return Promise.reject(Xr(this));let n=e?zt(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return b(this,null,function*(){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return fn(this.app)?Promise.reject(Xr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return fn(this.app)?Promise.reject(Xr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(On(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield f1(this),n=new fg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield c1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&On(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=yield el.create(this,[On(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_C(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return b(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&YO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ll(t){return zt(t)}var tl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AT(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ng={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g1(t){Ng=t}function m1(t){return Ng.loadJS(t)}function y1(){return Ng.gapiScript}function wC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function xg(t,e){let n=Zr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Qr(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function v1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(On);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Mg(t,e,n){let r=ll(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=IC(e),{host:o,port:c}=_1(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||w1()}function IC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _1(t){let e=IC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:QT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:QT(o)}}}function QT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function w1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ua=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kn("not implemented")}_getIdTokenResponse(e){return kn("not implemented")}_linkToIdToken(e,n){return kn("not implemented")}_getReauthenticationResolver(e){return kn("not implemented")}};function gs(t,e){return b(this,null,function*(){return r1(t,"POST","/v1/accounts:signInWithIdp",Dg(t,e))})}var I1="http://localhost",nl=class t extends ua{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=sc(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return gs(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,gs(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,gs(e,n)}buildRequest(){let e={requestUri:I1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dr(n)}return e}};var la=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var rl=class extends la{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Pg=(()=>{class t extends rl{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return nl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var da=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return b(this,null,function*(){let s=yield ms._fromIdTokenResponse(e,r,i),o=YT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=YT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function YT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var gg=class t extends vt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function EC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(t,s,e,r):s})}function E1(t,e,n=!1){return b(this,null,function*(){let r=yield aa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return da._forOperation(t,"link",r)})}function T1(t,e,n=!1){return b(this,null,function*(){let{auth:r}=t;if(fn(r.app))return Promise.reject(Xr(r));let i="reauthenticate";try{let s=yield aa(t,EC(r,i,e,t),n);V(s.idToken,r,"internal-error");let o=Sg(s.idToken);V(o,r,"internal-error");let{sub:c}=o;return V(t.uid===c,r,"user-mismatch"),da._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function C1(t,e,n=!1){return b(this,null,function*(){if(fn(t.app))return Promise.reject(Xr(t));let r="signIn",i=yield EC(t,r,e),s=yield da._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function kg(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function Og(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}var il="__sak";var sl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(il,"1"),this.storage.removeItem(il),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function D1(){let t=ke();return Rg(t)||ul(t)}var b1=1e3,S1=10,A1=(()=>{class t extends sl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=D1()&&h1(),this.fallbackToPolling=vC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(i);if(n.newValue!==c)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);d1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,S1):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},b1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return b(this,null,function*(){yield Gn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return b(this,null,function*(){let r=yield Gn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return b(this,null,function*(){yield Gn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),dl=A1;var R1=(()=>{class t extends sl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Lg=R1;function N1(t){return Promise.all(t.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var x1=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return b(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>b(this,null,function*(){return f(r.origin,o)})),l=yield N1(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var mg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=Fg("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gn(){return window}function M1(t){gn().location.href=t}function TC(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function P1(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function k1(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O1(){return TC()?self:null}var CC="firebaseLocalStorageDb",L1=1,ol="firebaseLocalStorage",DC="fbase_key",ti=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function hl(t,e){return t.transaction([ol],e?"readwrite":"readonly").objectStore(ol)}function F1(){let t=indexedDB.deleteDatabase(CC);return new ti(t).toPromise()}function yg(){let t=indexedDB.open(CC,L1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ol,{keyPath:DC})}catch(i){n(i)}}),t.addEventListener("success",()=>b(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ol)?e(r):(r.close(),yield F1(),e(yield yg()))}))})}function JT(t,e,n){return b(this,null,function*(){let r=hl(t,!0).put({[DC]:e,value:n});return new ti(r).toPromise()})}function V1(t,e){return b(this,null,function*(){let n=hl(t,!1).get(e),r=yield new ti(n).toPromise();return r===void 0?null:r.value})}function ZT(t,e){let n=hl(t,!0).delete(e);return new ti(n).toPromise()}var U1=800,j1=3,B1=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield yg(),this.db)})}_withRetries(n){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>j1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return TC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=x1._getInstance(O1()),this.receiver._subscribe("keyChanged",(n,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var n,r;if(this.activeServiceWorker=yield P1(),!this.activeServiceWorker)return;this.sender=new mg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||k1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let n=yield yg();return yield JT(n,il,"1"),yield ZT(n,il),!0}catch{}return!1})}_withPendingWrite(n){return b(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>JT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return b(this,null,function*(){let r=yield this._withRetries(i=>V1(i,n));return this.localCache[n]=r,r})}_remove(n){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>ZT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return b(this,null,function*(){let n=yield this._withRetries(s=>{let o=hl(s,!1).getAll();return new ti(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),U1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),bC=B1;var Q4=wC("rcb"),Y4=new ei(3e4,6e4);function SC(t,e){return e?On(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ha=class extends ua{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gs(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function $1(t){return C1(t.auth,new ha(t),t.bypassAuthState)}function H1(t){let{auth:e,user:n}=t;return V(n,e,"internal-error"),T1(n,new ha(t),t.bypassAuthState)}function q1(t){return b(this,null,function*(){let{auth:e,user:n}=t;return V(n,e,"internal-error"),E1(n,new ha(t),t.bypassAuthState)})}var al=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $1;case"linkViaPopup":case"linkViaRedirect":return q1;case"reauthViaPopup":case"reauthViaRedirect":return H1;default:mn(this.auth,"internal-error")}}resolve(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var z1=new ei(2e3,1e4);function fl(t,e,n){return b(this,null,function*(){if(fn(t.app))return Promise.reject(Gt(t,"operation-not-supported-in-this-environment"));let r=ll(t);JO(t,e,la);let i=SC(r,n);return new G1(r,"signInViaPopup",e,i).executeNotNull()})}var G1=(()=>{class t extends al{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return b(this,null,function*(){let n=yield this.execute();return V(n,this.auth,"internal-error"),n})}onExecution(){return b(this,null,function*(){Ln(this.filter.length===1,"Popup operations only handle one event");let n=Fg();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Gt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,z1.get())};n()}}t.currentPopupAction=null;return t})(),W1="pendingRedirect",Qu=new Map,vg=class t extends al{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=Qu.get(this.auth._key());if(!e){try{let r=(yield K1(this.resolver,this.auth))?yield Gn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qu.set(this.auth._key(),e)}return this.bypassAuthState||Qu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Gn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Gn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function K1(t,e){return b(this,null,function*(){let n=J1(e),r=Y1(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Q1(t,e){Qu.set(t._key(),e)}function Y1(t){return On(t._redirectPersistence)}function J1(t){return Ku(W1,t.config.apiKey,t.name)}function Z1(t,e,n=!1){return b(this,null,function*(){if(fn(t.app))return Promise.reject(Xr(t));let r=ll(t),i=SC(r,e),o=yield new vg(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var X1=10*60*1e3,_g=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X1&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(e))}saveEventToCache(e){this.cachedEventUids.add(XT(e)),this.lastProcessedEventTime=Date.now()}};function XT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(t);default:return!1}}function tL(n){return b(this,arguments,function*(t,e={}){return ys(t,"GET","/v1/projects",e)})}var nL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rL=/^https?/;function iL(t){return b(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield tL(t);for(let n of e)try{if(sL(n))return}catch{}mn(t,"unauthorized-domain")})}function sL(t){let e=cg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rL.test(n))return!1;if(nL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var oL=new ei(3e4,6e4);function eC(){let t=gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aL(t){return new Promise((e,n)=>{var r,i,s;function o(){eC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eC(),n(Gt(t,"network-request-failed"))},timeout:oL.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)o();else{let c=wC("iframefcb");return gn()[c]=()=>{gapi.load?o():n(Gt(t,"network-request-failed"))},m1(`${y1()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Yu=null,e})}var Yu=null;function cL(t){return Yu=Yu||aL(t),Yu}var uL=new ei(5e3,15e3),lL="__/auth/iframe",dL="emulator/auth/iframe",hL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pL(t){let e=t.config;V(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Cg(e,dL):`https://${t.config.authDomain}/${lL}`,r={apiKey:e.apiKey,appName:t.name,v:pn},i=fL.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${dr(r).slice(1)}`}function gL(t){return b(this,null,function*(){let e=yield cL(t),n=gn().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:pL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hL,dontclear:!0},r=>new Promise((i,s)=>b(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Gt(t,"network-request-failed"),c=gn().setTimeout(()=>{s(o)},uL.get());function u(){gn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var mL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yL=500,vL=600,_L="_blank",wL="http://localhost",cl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function IL(t,e,n,r=yL,i=vL){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},mL),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ke().toLowerCase();n&&(c=fC(l)?_L:n),hC(l)&&(e=e||wL,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[I,A])=>`${y}${I}=${A},`,"");if(l1(l)&&c!=="_self")return EL(e||"",c),new cl(null);let p=window.open(e||"",c,f);V(p,t,"popup-blocked");try{p.focus()}catch{}return new cl(p)}function EL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var TL="__/auth/handler",CL="emulator/auth/handler",DL=encodeURIComponent("fac");function tC(t,e,n,r,i,s){return b(this,null,function*(){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pn,eventId:i};if(e instanceof la){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Xo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof rl){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${DL}=${encodeURIComponent(u)}`:"";return`${bL(t)}?${dr(c).slice(1)}${l}`})}function bL({config:t}){return t.emulator?Cg(t,CL):`https://${t.authDomain}/${TL}`}var ag="webStorageSupport",wg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lg,this._completeRedirectFn=Z1,this._overrideRedirectResult=Q1}_openPopup(e,n,r,i){return b(this,null,function*(){var s;Ln((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield tC(e,n,r,cg(),i);return IL(e,o,Fg())})}_openRedirect(e,n,r,i){return b(this,null,function*(){yield this._originValidation(e);let s=yield tC(e,n,r,cg(),i);return M1(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ln(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return b(this,null,function*(){let n=yield gL(e),r=new _g(e);return n.register("authEvent",i=>(V(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ag,{type:ag},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ag];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vC()||Rg()||ul()}},RC=wg;var nC="@firebase/auth",rC="1.7.5";var Ig=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AL(t){hn(new ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_C(t)},l=new pg(r,i,s,u);return v1(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hn(new ut("auth-internal",e=>{let n=ll(e.getProvider("auth").getImmediate());return(r=>new Ig(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ye(nC,rC,SL(t)),ye(nC,rC,"esm2017")}var RL=5*60,NL=qp("authIdTokenMaxAge")||RL,iC=null,xL=t=>e=>b(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NL)return;let i=n?.token;iC!==i&&(iC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Vg(t=fr()){let e=Zr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=xg(t,{popupRedirectResolver:RC,persistence:[bC,dl,Lg]}),r=qp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=xL(s.toString());Og(n,o,()=>o(n.currentUser)),kg(n,c=>o(c))}}let i=$p("auth");return i&&Mg(n,`http://${i}`),n}function ML(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}g1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Gt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ML().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AL("Browser");var DF="firebase",bF="10.12.3";ye(DF,bF,"app");var Fn=new ir("ANGULARFIRE2_VERSION");function _s(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ri=(t,e)=>{let n=e?[e]:zu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},gr=class{constructor(){return ri(SF)}},SF="app-check";function vs(){}var pl=class{zone;delegate;constructor(e,n=Ld){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Ug=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vs,{},vs,vs)),n.pipe(Ae({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},mr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pl(Zone.current)),this.insideAngular=n.run(()=>new pl(Zone.current,Od)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(j(ae))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function AF(t){return gl().ngZone.runOutsideAngular(()=>t())}function ni(t){return gl().ngZone.run(()=>t())}function RF(t){return NF(gl())(t)}function NF(t){return function(n){return n=n.lift(new Ug(t.ngZone)),n.pipe(Qn(t.outsideAngular),Kn(t.insideAngular))}}var xF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ni(()=>t.apply(void 0,r))},yr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ni(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vs,{},vs,vs))),r[s]=xF(r[s],n));let i=AF(()=>t.apply(this,r));if(!e)if(i instanceof se){let s=gl();return i.pipe(Qn(s.outsideAngular),Kn(s.insideAngular))}else return ni(()=>i);return i instanceof se?i.pipe(RF):i instanceof Promise?ni(()=>new Promise((s,o)=>i.then(c=>ni(()=>s(c)),c=>ni(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ni(()=>i)};var Wt=class{constructor(e){return e}},Vn=class{constructor(){return zu()}};function MF(t){return t&&t.length===1?t[0]:new Wt(fr())}var jg=new L("angularfire2._apps"),PF={provide:Wt,useFactory:MF,deps:[[new Re,jg]]},kF={provide:Vn,deps:[[new Re,jg]]};function OF(t){return(e,n)=>{let r=n.get(or);ye("angularfire",Fn.full,"core"),ye("angularfire",Fn.full,"app"),ye("angular",eE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Wt(i)}}function NC(t,...e){return At([PF,kF,{provide:jg,useFactory:OF(t),multi:!0,deps:[ae,tt,mr,...e]}])}var xC=yr(sg,!0);var MC="auth",_t=class{constructor(e){return e}},ii=class{constructor(){return ri(MC)}};var Bg=new L("angularfire2.auth-instances");function LF(t,e){let n=_s(MC,t,e);return n&&new _t(n)}function FF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _t(r)}}var VF={provide:ii,deps:[[new Re,Bg]]},UF={provide:_t,useFactory:LF,deps:[[new Re,Bg],Wt]};function PC(t,...e){return ye("angularfire",Fn.full,"auth"),At([UF,VF,{provide:Bg,useFactory:FF(t),multi:!0,deps:[ae,tt,mr,Vn,[new Re,gr],...e]}])}var kC=yr(Vg,!0);var OC=(()=>{let e=class e{constructor(r,i,s){this.auth=r,this.router=i,this.activatedRoute=s,this.onError=o=>console.error(o),this.redirectToInnerPage=()=>this.activatedRoute.snapshot?.queryParams?.previous?this.router.navigateByUrl(this.activatedRoute.snapshot?.queryParams?.previous):this.router.navigate(["cash-flow"])}signInGoogle(){return b(this,null,function*(){yield this.auth.setPersistence(dl).catch(this.onError);let r=yield fl(this.auth,new Pg).catch(this.onError);yield this.auth.updateCurrentUser(r?.user).catch(this.onError),yield this.redirectToInnerPage().catch(this.onError)})}};e.\u0275fac=function(i){return new(i||e)(Ne(_t),Ne(Mn),Ne(xn))},e.\u0275cmp=St({type:e,selectors:[["app-login-page"]],standalone:!0,features:[Nt],decls:13,vars:0,consts:[[1,"login-form"],[1,"login-form__title"],[1,"login-form__text"],[1,"login-form__sign-in",3,"click"]],template:function(i,s){i&1&&(we(0,"ui-panel",0)(1,"h1",1),Ge(2,"Hello!"),De(),we(3,"p",2),Ge(4," This is a pet-project."),on(5,"br")(6,"br"),Ge(7," It designed for a select group of users."),on(8,"br")(9,"br"),Ge(10," You can sign in only if you have received an invitation. "),De(),we(11,"button",3),Br("click",function(){return s.signInGoogle()}),Ge(12," Sign In with Google "),De()())},dependencies:[yT],styles:["[_nghost-%COMP%]{height:100vh;background-color:var(--theme-bg-hover);display:flex;flex-direction:column;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{margin:0 auto 80px;padding:30px;max-width:500px}.login-form__title[_ngcontent-%COMP%]{text-align:center;width:100%;font-weight:500;letter-spacing:2px;text-transform:capitalize;margin:16px auto;padding-bottom:20px;border-bottom:1px solid var(--theme-bg-hover)}.login-form__text[_ngcontent-%COMP%]{font-size:18px;margin:20px 0;padding-bottom:20px;border-bottom:1px solid var(--theme-bg-hover)}.login-form__sign-in[_ngcontent-%COMP%]{display:block;max-width:500px;width:100%;background-color:var(--theme-bg-hover);border:1px solid var(--theme-bg-hover);color:var(--theme-text);font-size:22px;border-radius:12px;box-shadow:1px 4px 8px #33334e1a;padding:10px 24px;margin-bottom:20px}.login-form__sign-in[_ngcontent-%COMP%]:hover{background-color:var(--theme-bg);border:1px solid var(--theme-bg-hover);color:var(--theme-input-focus);cursor:pointer}"]});let t=e;return t})();var yl=(()=>{let e=class e{constructor(r,i){this.auth=r,this.router=i}canActivate(r,i){return b(this,null,function*(){yield this.auth.authStateReady();let s=yield this.currentUser();return s||(yield this.router.navigate(["welcome"],{queryParams:{previous:i.url}})),!!s})}currentUser(){return b(this,null,function*(){return this.auth.currentUser})}};e.\u0275fac=function(i){return new(i||e)(j(_t),j(Mn))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();var vl=(()=>{let e=class e{constructor(r,i){this.auth=r,this.router=i}canActivate(){return b(this,null,function*(){yield this.auth.authStateReady();let r=yield this.currentUser();return r&&(yield this.router.navigate(["cash-flow"])),!r})}currentUser(){return b(this,null,function*(){return this.auth.currentUser})}};e.\u0275fac=function(i){return new(i||e)(j(_t),j(Mn))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();var LC=[{path:"cash-flow",component:mT,canActivate:[yl]},{path:"welcome",component:OC,canActivate:[vl]},{path:"**",redirectTo:"welcome"}];var FC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VC={};var $g,UC;(function(){var t;function e(E,m){function _(){}_.prototype=m.prototype,E.D=m.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(w,T,D){for(var v=Array(arguments.length-2),_n=2;_n<arguments.length;_n++)v[_n-2]=arguments[_n];return m.prototype[T].apply(w,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,_){_||(_=0);var w=Array(16);if(typeof m=="string")for(var T=0;16>T;++T)w[T]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(T=0;16>T;++T)w[T]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=E.g[0],_=E.g[1],T=E.g[2];var D=E.g[3],v=m+(D^_&(T^D))+w[0]+3614090360&4294967295;m=_+(v<<7&4294967295|v>>>25),v=D+(T^m&(_^T))+w[1]+3905402710&4294967295,D=m+(v<<12&4294967295|v>>>20),v=T+(_^D&(m^_))+w[2]+606105819&4294967295,T=D+(v<<17&4294967295|v>>>15),v=_+(m^T&(D^m))+w[3]+3250441966&4294967295,_=T+(v<<22&4294967295|v>>>10),v=m+(D^_&(T^D))+w[4]+4118548399&4294967295,m=_+(v<<7&4294967295|v>>>25),v=D+(T^m&(_^T))+w[5]+1200080426&4294967295,D=m+(v<<12&4294967295|v>>>20),v=T+(_^D&(m^_))+w[6]+2821735955&4294967295,T=D+(v<<17&4294967295|v>>>15),v=_+(m^T&(D^m))+w[7]+4249261313&4294967295,_=T+(v<<22&4294967295|v>>>10),v=m+(D^_&(T^D))+w[8]+1770035416&4294967295,m=_+(v<<7&4294967295|v>>>25),v=D+(T^m&(_^T))+w[9]+2336552879&4294967295,D=m+(v<<12&4294967295|v>>>20),v=T+(_^D&(m^_))+w[10]+4294925233&4294967295,T=D+(v<<17&4294967295|v>>>15),v=_+(m^T&(D^m))+w[11]+2304563134&4294967295,_=T+(v<<22&4294967295|v>>>10),v=m+(D^_&(T^D))+w[12]+1804603682&4294967295,m=_+(v<<7&4294967295|v>>>25),v=D+(T^m&(_^T))+w[13]+4254626195&4294967295,D=m+(v<<12&4294967295|v>>>20),v=T+(_^D&(m^_))+w[14]+2792965006&4294967295,T=D+(v<<17&4294967295|v>>>15),v=_+(m^T&(D^m))+w[15]+1236535329&4294967295,_=T+(v<<22&4294967295|v>>>10),v=m+(T^D&(_^T))+w[1]+4129170786&4294967295,m=_+(v<<5&4294967295|v>>>27),v=D+(_^T&(m^_))+w[6]+3225465664&4294967295,D=m+(v<<9&4294967295|v>>>23),v=T+(m^_&(D^m))+w[11]+643717713&4294967295,T=D+(v<<14&4294967295|v>>>18),v=_+(D^m&(T^D))+w[0]+3921069994&4294967295,_=T+(v<<20&4294967295|v>>>12),v=m+(T^D&(_^T))+w[5]+3593408605&4294967295,m=_+(v<<5&4294967295|v>>>27),v=D+(_^T&(m^_))+w[10]+38016083&4294967295,D=m+(v<<9&4294967295|v>>>23),v=T+(m^_&(D^m))+w[15]+3634488961&4294967295,T=D+(v<<14&4294967295|v>>>18),v=_+(D^m&(T^D))+w[4]+3889429448&4294967295,_=T+(v<<20&4294967295|v>>>12),v=m+(T^D&(_^T))+w[9]+568446438&4294967295,m=_+(v<<5&4294967295|v>>>27),v=D+(_^T&(m^_))+w[14]+3275163606&4294967295,D=m+(v<<9&4294967295|v>>>23),v=T+(m^_&(D^m))+w[3]+4107603335&4294967295,T=D+(v<<14&4294967295|v>>>18),v=_+(D^m&(T^D))+w[8]+1163531501&4294967295,_=T+(v<<20&4294967295|v>>>12),v=m+(T^D&(_^T))+w[13]+2850285829&4294967295,m=_+(v<<5&4294967295|v>>>27),v=D+(_^T&(m^_))+w[2]+4243563512&4294967295,D=m+(v<<9&4294967295|v>>>23),v=T+(m^_&(D^m))+w[7]+1735328473&4294967295,T=D+(v<<14&4294967295|v>>>18),v=_+(D^m&(T^D))+w[12]+2368359562&4294967295,_=T+(v<<20&4294967295|v>>>12),v=m+(_^T^D)+w[5]+4294588738&4294967295,m=_+(v<<4&4294967295|v>>>28),v=D+(m^_^T)+w[8]+2272392833&4294967295,D=m+(v<<11&4294967295|v>>>21),v=T+(D^m^_)+w[11]+1839030562&4294967295,T=D+(v<<16&4294967295|v>>>16),v=_+(T^D^m)+w[14]+4259657740&4294967295,_=T+(v<<23&4294967295|v>>>9),v=m+(_^T^D)+w[1]+2763975236&4294967295,m=_+(v<<4&4294967295|v>>>28),v=D+(m^_^T)+w[4]+1272893353&4294967295,D=m+(v<<11&4294967295|v>>>21),v=T+(D^m^_)+w[7]+4139469664&4294967295,T=D+(v<<16&4294967295|v>>>16),v=_+(T^D^m)+w[10]+3200236656&4294967295,_=T+(v<<23&4294967295|v>>>9),v=m+(_^T^D)+w[13]+681279174&4294967295,m=_+(v<<4&4294967295|v>>>28),v=D+(m^_^T)+w[0]+3936430074&4294967295,D=m+(v<<11&4294967295|v>>>21),v=T+(D^m^_)+w[3]+3572445317&4294967295,T=D+(v<<16&4294967295|v>>>16),v=_+(T^D^m)+w[6]+76029189&4294967295,_=T+(v<<23&4294967295|v>>>9),v=m+(_^T^D)+w[9]+3654602809&4294967295,m=_+(v<<4&4294967295|v>>>28),v=D+(m^_^T)+w[12]+3873151461&4294967295,D=m+(v<<11&4294967295|v>>>21),v=T+(D^m^_)+w[15]+530742520&4294967295,T=D+(v<<16&4294967295|v>>>16),v=_+(T^D^m)+w[2]+3299628645&4294967295,_=T+(v<<23&4294967295|v>>>9),v=m+(T^(_|~D))+w[0]+4096336452&4294967295,m=_+(v<<6&4294967295|v>>>26),v=D+(_^(m|~T))+w[7]+1126891415&4294967295,D=m+(v<<10&4294967295|v>>>22),v=T+(m^(D|~_))+w[14]+2878612391&4294967295,T=D+(v<<15&4294967295|v>>>17),v=_+(D^(T|~m))+w[5]+4237533241&4294967295,_=T+(v<<21&4294967295|v>>>11),v=m+(T^(_|~D))+w[12]+1700485571&4294967295,m=_+(v<<6&4294967295|v>>>26),v=D+(_^(m|~T))+w[3]+2399980690&4294967295,D=m+(v<<10&4294967295|v>>>22),v=T+(m^(D|~_))+w[10]+4293915773&4294967295,T=D+(v<<15&4294967295|v>>>17),v=_+(D^(T|~m))+w[1]+2240044497&4294967295,_=T+(v<<21&4294967295|v>>>11),v=m+(T^(_|~D))+w[8]+1873313359&4294967295,m=_+(v<<6&4294967295|v>>>26),v=D+(_^(m|~T))+w[15]+4264355552&4294967295,D=m+(v<<10&4294967295|v>>>22),v=T+(m^(D|~_))+w[6]+2734768916&4294967295,T=D+(v<<15&4294967295|v>>>17),v=_+(D^(T|~m))+w[13]+1309151649&4294967295,_=T+(v<<21&4294967295|v>>>11),v=m+(T^(_|~D))+w[4]+4149444226&4294967295,m=_+(v<<6&4294967295|v>>>26),v=D+(_^(m|~T))+w[11]+3174756917&4294967295,D=m+(v<<10&4294967295|v>>>22),v=T+(m^(D|~_))+w[2]+718787259&4294967295,T=D+(v<<15&4294967295|v>>>17),v=_+(D^(T|~m))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(T+(v<<21&4294967295|v>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+D&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var _=m-this.blockSize,w=this.B,T=this.h,D=0;D<m;){if(T==0)for(;D<=_;)i(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<m;)if(w[T++]=E.charCodeAt(D++),T==this.blockSize){i(this,w),T=0;break}}else for(;D<m;)if(w[T++]=E[D++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var _=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=_&255,_/=256;for(this.u(E),E=Array(16),m=_=0;4>m;++m)for(var w=0;32>w;w+=8)E[_++]=this.g[m]>>>w&255;return E};function s(E,m){var _=c;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=m(E)}function o(E,m){this.h=m;for(var _=[],w=!0,T=E.length-1;0<=T;T--){var D=E[T]|0;w&&D==m||(_[T]=D,w=!1)}this.g=_}var c={};function u(E){return-128<=E&&128>E?s(E,function(m){return new o([m|0],0>m?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return P(l(-E));for(var m=[],_=1,w=0;E>=_;w++)m[w]=E/_|0,_*=4294967296;return new o(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return P(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(m,8)),w=p,T=0;T<E.length;T+=8){var D=Math.min(8,E.length-T),v=parseInt(E.substring(T,T+D),m);8>D?(D=l(Math.pow(m,D)),w=w.j(D).add(l(v))):(w=w.j(_),w=w.add(l(v)))}return w}var p=u(0),y=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-P(this).m();for(var E=0,m=1,_=0;_<this.g.length;_++){var w=this.i(_);E+=(0<=w?w:4294967296+w)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(R(this))return"-"+P(this).toString(E);for(var m=l(Math.pow(E,6)),_=this,w="";;){var T=ve(_,m).g;_=W(_,T.j(m));var D=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=T,A(_))return D+w;for(;6>D.length;)D="0"+D;w=D+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=W(this,E),R(E)?-1:A(E)?0:1};function P(E){for(var m=E.g.length,_=[],w=0;w<m;w++)_[w]=~E.g[w];return new o(_,~E.h).add(y)}t.abs=function(){return R(this)?P(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],w=0,T=0;T<=m;T++){var D=w+(this.i(T)&65535)+(E.i(T)&65535),v=(D>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);w=v>>>16,D&=65535,v&=65535,_[T]=v<<16|D}return new o(_,_[_.length-1]&-2147483648?-1:0)};function W(E,m){return E.add(P(m))}t.j=function(E){if(A(this)||A(E))return p;if(R(this))return R(E)?P(this).j(P(E)):P(P(this).j(E));if(R(E))return P(this.j(P(E)));if(0>this.l(I)&&0>E.l(I))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,_=[],w=0;w<2*m;w++)_[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<E.g.length;T++){var D=this.i(w)>>>16,v=this.i(w)&65535,_n=E.i(T)>>>16,Vs=E.i(T)&65535;_[2*w+2*T]+=v*Vs,oe(_,2*w+2*T),_[2*w+2*T+1]+=D*Vs,oe(_,2*w+2*T+1),_[2*w+2*T+1]+=v*_n,oe(_,2*w+2*T+1),_[2*w+2*T+2]+=D*_n,oe(_,2*w+2*T+2)}for(w=0;w<m;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=m;w<2*m;w++)_[w]=0;return new o(_,0)};function oe(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function q(E,m){this.g=E,this.h=m}function ve(E,m){if(A(m))throw Error("division by zero");if(A(E))return new q(p,p);if(R(E))return m=ve(P(E),m),new q(P(m.g),P(m.h));if(R(m))return m=ve(E,P(m)),new q(P(m.g),m.h);if(30<E.g.length){if(R(E)||R(m))throw Error("slowDivide_ only works with positive integers.");for(var _=y,w=m;0>=w.l(E);)_=nt(_),w=nt(w);var T=pe(_,1),D=pe(w,1);for(w=pe(w,2),_=pe(_,2);!A(w);){var v=D.add(w);0>=v.l(E)&&(T=T.add(_),D=v),w=pe(w,1),_=pe(_,1)}return m=W(E,T.j(m)),new q(T,m)}for(T=p;0<=E.l(m);){for(_=Math.max(1,Math.floor(E.m()/m.m())),w=Math.ceil(Math.log(_)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),D=l(_),v=D.j(m);R(v)||0<v.l(E);)_-=w,D=l(_),v=D.j(m);A(D)&&(D=y),T=T.add(D),E=W(E,v)}return new q(T,E)}t.A=function(E){return ve(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],w=0;w<m;w++)_[w]=this.i(w)&E.i(w);return new o(_,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],w=0;w<m;w++)_[w]=this.i(w)|E.i(w);return new o(_,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],w=0;w<m;w++)_[w]=this.i(w)^E.i(w);return new o(_,this.h^E.h)};function nt(E){for(var m=E.g.length+1,_=[],w=0;w<m;w++)_[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(_,E.h)}function pe(E,m){var _=m>>5;m%=32;for(var w=E.g.length-_,T=[],D=0;D<w;D++)T[D]=0<m?E.i(D+_)>>>m|E.i(D+_+1)<<32-m:E.i(D+_);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UC=VC.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,$g=VC.Integer=o}).apply(typeof FC<"u"?FC:typeof self<"u"?self:typeof window<"u"?window:{});var _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Un={};var jC,BC,$C,HC,qC,zC,GC,WC,KC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof _l=="object"&&_l];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in h))break e;h=h[C]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,C={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,C,S){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return d.prototype[C].apply(g,N)}}function R(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function P(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let C=a.length||0,S=g.length||0;a.length=C+S;for(let N=0;N<S;N++)a[C+N]=g[N]}else a.push(g)}}class W{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function oe(a){return/^[\s\xa0]*$/.test(a)}function q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ve(a){return ve[" "](a),a}ve[" "]=function(){};var nt=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function pe(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(h in g)a[h]=g[h];for(let S=0;S<_.length;S++)h=_[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function D(a){c.setTimeout(()=>{throw a},0)}function v(){var a=zl;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class _n{constructor(){this.h=this.g=null}add(d,h){let g=Vs.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Vs=new W(()=>new rS,a=>a.reset());class rS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Us,js=!1,zl=new _n,Cy=()=>{let a=c.Promise.resolve(void 0);Us=()=>{a.then(iS)}};var iS=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){D(h)}var d=Vs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}js=!1};function $n(){this.s=this.s,this.C=this.C}$n.prototype.s=!1,$n.prototype.ma=function(){this.s||(this.s=!0,this.N())},$n.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $e(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};var sS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Bs(a,d){if($e.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(nt){e:{try{ve(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:oS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Bs.aa.h.call(this)}}A(Bs,$e);var oS={2:"touch",3:"pen",4:"mouse"};Bs.prototype.h=function(){Bs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var $s="closure_listenable_"+(1e6*Math.random()|0),aS=0;function cS(a,d,h,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=C,this.key=++aS,this.da=this.fa=!1}function ka(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Oa(a){this.src=a,this.g={},this.h=0}Oa.prototype.add=function(a,d,h,g,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var N=Wl(a,d,g,C);return-1<N?(d=a[N],h||(d.fa=!1)):(d=new cS(d,this.src,S,!!g,C),d.fa=h,a.push(d)),d};function Gl(a,d){var h=d.type;if(h in a.g){var g=a.g[h],C=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(g,C,1),S&&(ka(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Wl(a,d,h,g){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return C}return-1}var Kl="closure_lm_"+(1e6*Math.random()|0),Ql={};function Dy(a,d,h,g,C){if(g&&g.once)return Sy(a,d,h,g,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Dy(a,d[S],h,g,C);return null}return h=Xl(h),a&&a[$s]?a.K(d,h,l(g)?!!g.capture:!!g,C):by(a,d,h,!1,g,C)}function by(a,d,h,g,C,S){if(!d)throw Error("Invalid event type");var N=l(C)?!!C.capture:!!C,de=Jl(a);if(de||(a[Kl]=de=new Oa(a)),h=de.add(d,h,g,N,S),h.proxy)return h;if(g=uS(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)sS||(C=N),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(Ry(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function uS(){function a(h){return d.call(a.src,a.listener,h)}let d=lS;return a}function Sy(a,d,h,g,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Sy(a,d[S],h,g,C);return null}return h=Xl(h),a&&a[$s]?a.L(d,h,l(g)?!!g.capture:!!g,C):by(a,d,h,!0,g,C)}function Ay(a,d,h,g,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)Ay(a,d[S],h,g,C);else g=l(g)?!!g.capture:!!g,h=Xl(h),a&&a[$s]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Wl(S,h,g,C),-1<h&&(ka(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Jl(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Wl(d,h,g,C)),(h=-1<a?d[a]:null)&&Yl(h))}function Yl(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[$s])Gl(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Ry(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Jl(d))?(Gl(h,a),h.h==0&&(h.src=null,d[Kl]=null)):ka(a)}}}function Ry(a){return a in Ql?Ql[a]:Ql[a]="on"+a}function lS(a,d){if(a.da)a=!0;else{d=new Bs(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Yl(a),a=h.call(g,d)}return a}function Jl(a){return a=a[Kl],a instanceof Oa?a:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(a){return typeof a=="function"?a:(a[Zl]||(a[Zl]=function(d){return a.handleEvent(d)}),a[Zl])}function He(){$n.call(this),this.i=new Oa(this),this.M=this,this.F=null}A(He,$n),He.prototype[$s]=!0,He.prototype.removeEventListener=function(a,d,h,g){Ay(this,a,d,h,g)};function Ye(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new $e(d,a);else if(d instanceof $e)d.target=d.target||a;else{var C=d;d=new $e(g,a),w(d,C)}if(C=!0,h)for(var S=h.length-1;0<=S;S--){var N=d.g=h[S];C=La(N,g,!0,d)&&C}if(N=d.g=a,C=La(N,g,!0,d)&&C,C=La(N,g,!1,d)&&C,h)for(S=0;S<h.length;S++)N=d.g=h[S],C=La(N,g,!1,d)&&C}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)ka(h[g]);delete a.g[d],a.h--}}this.F=null},He.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},He.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function La(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var N=d[S];if(N&&!N.da&&N.capture==h){var de=N.listener,Ve=N.ha||N.src;N.fa&&Gl(a.i,N),C=de.call(Ve,g)!==!1&&C}}return C&&!g.defaultPrevented}function Ny(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function xy(a){a.g=Ny(()=>{a.g=null,a.i&&(a.i=!1,xy(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class dS extends $n{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:xy(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(a){$n.call(this),this.h=a,this.g={}}A(Hs,$n);var My=[];function Py(a){pe(a.g,function(d,h){this.g.hasOwnProperty(h)&&Yl(d)},a),a.g={}}Hs.prototype.N=function(){Hs.aa.N.call(this),Py(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ed=c.JSON.stringify,hS=c.JSON.parse,fS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function td(){}td.prototype.h=null;function ky(a){return a.h||(a.h=a.i())}function Oy(){}var qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nd(){$e.call(this,"d")}A(nd,$e);function rd(){$e.call(this,"c")}A(rd,$e);var Er={},Ly=null;function Fa(){return Ly=Ly||new He}Er.La="serverreachability";function Fy(a){$e.call(this,Er.La,a)}A(Fy,$e);function zs(a){let d=Fa();Ye(d,new Fy(d))}Er.STAT_EVENT="statevent";function Vy(a,d){$e.call(this,Er.STAT_EVENT,a),this.stat=d}A(Vy,$e);function Je(a){let d=Fa();Ye(d,new Vy(d,a))}Er.Ma="timingevent";function Uy(a,d){$e.call(this,Er.Ma,a),this.size=d}A(Uy,$e);function Gs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ws(){this.g=!0}Ws.prototype.xa=function(){this.g=!1};function pS(a,d,h,g,C,S){a.info(function(){if(a.g)if(S)for(var N="",de=S.split("&"),Ve=0;Ve<de.length;Ve++){var ie=de[Ve].split("=");if(1<ie.length){var qe=ie[0];ie=ie[1];var ze=qe.split("_");N=2<=ze.length&&ze[1]=="type"?N+(qe+"="+ie+"&"):N+(qe+"=redacted&")}}else N=null;else N=S;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+h+`
`+N})}function gS(a,d,h,g,C,S,N){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+h+`
`+S+" "+N})}function fi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+yS(a,h)+(g?" "+g:"")})}function mS(a,d){a.info(function(){return"TIMEOUT: "+d})}Ws.prototype.info=function(){};function yS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var N=1;N<C.length;N++)C[N]=""}}}}return ed(h)}catch{return d}}var Va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},id;function Ua(){}A(Ua,td),Ua.prototype.g=function(){return new XMLHttpRequest},Ua.prototype.i=function(){return{}},id=new Ua;function Hn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new By}function By(){this.i=null,this.g="",this.h=!1}var $y={},sd={};function od(a,d,h){a.L=1,a.v=Ha(wn(d)),a.m=h,a.P=!0,Hy(a,null)}function Hy(a,d){a.F=Date.now(),ja(a),a.A=wn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),rv(h.i,"t",g),a.C=0,h=a.j.J,a.h=new By,a.g=Iv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new dS(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(My[0]=C.toString()),C=My);for(var S=0;S<C.length;S++){var N=Dy(h,C[S],g||d.handleEvent,!1,d.h||d);if(!N)break;d.g[N.key]=N}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),zs(),pS(a.i,a.u,a.A,a.l,a.R,a.m)}Hn.prototype.ca=function(a){a=a.target;let d=this.M;d&&In(a)==3?d.j():this.Y(a)},Hn.prototype.Y=function(a){try{if(a==this.g)e:{let ze=In(this.g);var d=this.g.Ba();let mi=this.g.Z();if(!(3>ze)&&(ze!=3||this.g&&(this.h.h||this.g.oa()||lv(this.g)))){this.J||ze!=4||d==7||(d==8||0>=mi?zs(3):zs(2)),ad(this);var h=this.g.Z();this.X=h;t:if(qy(this)){var g=lv(this.g);a="";var C=g.length,S=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),Ks(this);var N="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,N=this.h.g}else N=this.g.oa();if(this.o=h==200,gS(this.i,this.u,this.A,this.l,this.R,ze,h),this.o){if(this.T&&!this.K){t:{if(this.g){var de,Ve=this.g;if((de=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(de)){var ie=de;break t}}ie=null}if(h=ie)fi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cd(this,h);else{this.o=!1,this.s=3,Je(12),Tr(this),Ks(this);break e}}if(this.P){h=!0;let Lt;for(;!this.J&&this.C<N.length;)if(Lt=vS(this,N),Lt==sd){ze==4&&(this.s=4,Je(14),h=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==$y){this.s=4,Je(15),fi(this.i,this.l,N,"[Invalid Chunk]"),h=!1;break}else fi(this.i,this.l,Lt,null),cd(this,Lt);if(qy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||N.length!=0||this.h.h||(this.s=1,Je(16),h=!1),this.o=this.o&&h,!h)fi(this.i,this.l,N,"[Invalid Chunked Response]"),Tr(this),Ks(this);else if(0<N.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),pd(qe),qe.M=!0,Je(11))}}else fi(this.i,this.l,N,null),cd(this,N);ze==4&&Tr(this),this.o&&!this.J&&(ze==4?yv(this.j,this):(this.o=!1,ja(this)))}else OS(this.g),h==400&&0<N.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),Tr(this),Ks(this)}}}catch{}finally{}};function qy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function vS(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?sd:(h=Number(d.substring(h,g)),isNaN(h)?$y:(g+=1,g+h>d.length?sd:(d=d.slice(g,g+h),a.C=g+h,d)))}Hn.prototype.cancel=function(){this.J=!0,Tr(this)};function ja(a){a.S=Date.now()+a.I,zy(a,a.I)}function zy(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Gs(y(a.ba,a),d)}function ad(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Hn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(mS(this.i,this.A),this.L!=2&&(zs(),Je(17)),Tr(this),this.s=2,Ks(this)):zy(this,this.S-a)};function Ks(a){a.j.G==0||a.J||yv(a.j,a)}function Tr(a){ad(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Py(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function cd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||ud(h.h,a))){if(!a.K&&ud(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ka(h),Ga(h);else break e;fd(h),Je(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Gs(y(h.Za,h),6e3));if(1>=Ky(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Dr(h,11)}else if((a.K||h.g==a)&&Ka(h),!oe(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let ie=C[d];if(h.T=ie[0],ie=ie[1],h.G==2)if(ie[0]=="c"){h.K=ie[1],h.ia=ie[2];let qe=ie[3];qe!=null&&(h.la=qe,h.j.info("VER="+h.la));let ze=ie[4];ze!=null&&(h.Aa=ze,h.j.info("SVER="+h.Aa));let mi=ie[5];mi!=null&&typeof mi=="number"&&0<mi&&(g=1.5*mi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Lt=a.g;if(Lt){let Ya=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var S=g.h;S.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(ld(S,S.h),S.h=null))}if(g.D){let gd=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;gd&&(g.ya=gd,ge(g.I,g.D,gd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var N=a;if(g.qa=wv(g,g.J?g.ia:null,g.W),N.K){Qy(g.h,N);var de=N,Ve=g.L;Ve&&(de.I=Ve),de.B&&(ad(de),ja(de)),g.g=N}else gv(g);0<h.i.length&&Wa(h)}else ie[0]!="stop"&&ie[0]!="close"||Dr(h,7);else h.G==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?Dr(h,7):hd(h):ie[0]!="noop"&&h.l&&h.l.ta(ie),h.v=0)}}zs(4)}catch{}}var _S=class{constructor(a,d){this.g=a,this.map=d}};function Gy(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ky(a){return a.h?1:a.g?a.g.size:0}function ud(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ld(a,d){a.g?a.g.add(d):a.h=d}function Qy(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Gy.prototype.cancel=function(){if(this.i=Yy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Yy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return R(a.i)}function wS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function IS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function Jy(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=IS(a),g=wS(a),C=g.length,S=0;S<C;S++)d.call(void 0,g[S],h&&h[S],a)}var Zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ES(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),C=null;if(0<=g){var S=a[h].substring(0,g);C=a[h].substring(g+1)}else S=a[h];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Cr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Cr){this.h=a.h,Ba(this,a.j),this.o=a.o,this.g=a.g,$a(this,a.s),this.l=a.l;var d=a.i,h=new Js;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Xy(this,h),this.m=a.m}else a&&(d=String(a).match(Zy))?(this.h=!1,Ba(this,d[1]||"",!0),this.o=Qs(d[2]||""),this.g=Qs(d[3]||"",!0),$a(this,d[4]),this.l=Qs(d[5]||"",!0),Xy(this,d[6]||"",!0),this.m=Qs(d[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}Cr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ys(d,ev,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ys(d,ev,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ys(h,h.charAt(0)=="/"?DS:CS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ys(h,SS)),a.join("")};function wn(a){return new Cr(a)}function Ba(a,d,h){a.j=h?Qs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function $a(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Xy(a,d,h){d instanceof Js?(a.i=d,AS(a.i,a.h)):(h||(d=Ys(d,bS)),a.i=new Js(d,a.h))}function ge(a,d,h){a.i.set(d,h)}function Ha(a){return ge(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Qs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ys(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,TS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function TS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ev=/[#\/\?@]/g,CS=/[#\?:]/g,DS=/[#\?]/g,bS=/[#\?@]/g,SS=/#/g;function Js(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function qn(a){a.g||(a.g=new Map,a.h=0,a.i&&ES(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Js.prototype,t.add=function(a,d){qn(this),this.i=null,a=pi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function tv(a,d){qn(a),d=pi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function nv(a,d){return qn(a),d=pi(a,d),a.g.has(d)}t.forEach=function(a,d){qn(this),this.g.forEach(function(h,g){h.forEach(function(C){a.call(d,C,g,this)},this)},this)},t.na=function(){qn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let C=a[g];for(let S=0;S<C.length;S++)h.push(d[g])}return h},t.V=function(a){qn(this);let d=[];if(typeof a=="string")nv(this,a)&&(d=d.concat(this.g.get(pi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return qn(this),this.i=null,a=pi(this,a),nv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function rv(a,d,h){tv(a,d),0<h.length&&(a.i=null,a.g.set(pi(a,d),R(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),N=this.V(g);for(g=0;g<N.length;g++){var C=S;N[g]!==""&&(C+="="+encodeURIComponent(String(N[g]))),a.push(C)}}return this.i=a.join("&")};function pi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function AS(a,d){d&&!a.j&&(qn(a),a.i=null,a.g.forEach(function(h,g){var C=g.toLowerCase();g!=C&&(tv(this,g),rv(this,C,h))},a)),a.j=d}function RS(a,d){let h=new Ws;if(c.Image){let g=new Image;g.onload=I(zn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=I(zn,h,"TestLoadImage: error",!1,d,g),g.onabort=I(zn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(zn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function NS(a,d){let h=new Ws,g=new AbortController,C=setTimeout(()=>{g.abort(),zn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(C),S.ok?zn(h,"TestPingServer: ok",!0,d):zn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),zn(h,"TestPingServer: error",!1,d)})}function zn(a,d,h,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(h)}catch{}}function xS(){this.g=new fS}function MS(a,d,h){let g=h||"";try{Jy(a,function(C,S){let N=C;l(C)&&(N=ed(C)),d.push(g+S+"="+encodeURIComponent(N))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Zs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Zs,td),Zs.prototype.g=function(){return new qa(this.l,this.j)},Zs.prototype.i=function(a){return function(){return a}}({});function qa(a,d){He.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(qa,He),t=qa.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,eo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,eo(this)),this.g&&(this.readyState=3,eo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function iv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Xs(this):eo(this),this.readyState==3&&iv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Xs(this))},t.Qa=function(a){this.g&&(this.response=a,Xs(this))},t.ga=function(){this.g&&Xs(this)};function Xs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,eo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function eo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function sv(a){let d="";return pe(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function dd(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=sv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):ge(a,d,h))}function Ee(a){He.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ee,He);var PS=/^https?$/i,kS=["POST","PUT"];t=Ee.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():id.g(),this.v=this.o?ky(this.o):ky(id),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){ov(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)h.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(kS,d,void 0))||g||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,N]of h)this.g.setRequestHeader(S,N);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uv(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){ov(this,S)}};function ov(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,av(a),za(a)}function av(a){a.A||(a.A=!0,Ye(a,"complete"),Ye(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ye(this,"complete"),Ye(this,"abort"),za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),Ee.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cv(this):this.bb())},t.bb=function(){cv(this)};function cv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||In(a)!=4||a.Z()!=2)){if(a.u&&In(a)==4)Ny(a.Ea,0,a);else if(Ye(a,"readystatechange"),In(a)==4){a.h=!1;try{let N=a.Z();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=N===0){var C=String(a.D).match(Zy)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!PS.test(C?C.toLowerCase():"")}h=g}if(h)Ye(a,"complete"),Ye(a,"success");else{a.m=6;try{var S=2<In(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",av(a)}}finally{za(a)}}}}function za(a,d){if(a.g){uv(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Ye(a,"ready");try{h.onreadystatechange=g}catch{}}}function uv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function In(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),hS(d)}};function lv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function OS(a){let d={};a=(a.g&&2<=In(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(oe(a[g]))continue;var h=T(a[g]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[C]||[];d[C]=S,S.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function to(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function dv(a){this.Aa=0,this.i=[],this.j=new Ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=to("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=to("baseRetryDelayMs",5e3,a),this.cb=to("retryDelaySeedMs",1e4,a),this.Wa=to("forwardChannelMaxRetries",2,a),this.wa=to("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Gy(a&&a.concurrentRequestLimit),this.Da=new xS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dv.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){Je(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=wv(this,null,this.W),Wa(this)};function hd(a){if(hv(a),a.G==3){var d=a.U++,h=wn(a.I);if(ge(h,"SID",a.K),ge(h,"RID",d),ge(h,"TYPE","terminate"),no(a,h),d=new Hn(a,a.j,d),d.L=2,d.v=Ha(wn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Iv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ja(d)}_v(a)}function Ga(a){a.g&&(pd(a),a.g.cancel(),a.g=null)}function hv(a){Ga(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ka(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Wa(a){if(!Wy(a.h)&&!a.s){a.s=!0;var d=a.Ga;Us||Cy(),js||(Us(),js=!0),zl.add(d,a),a.B=0}}function LS(a,d){return Ky(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Gs(y(a.Ga,a,d),vv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Hn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=pv(this,C,d),h=wn(this.I),ge(h,"RID",a),ge(h,"CVER",22),this.D&&ge(h,"X-HTTP-Session-Id",this.D),no(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(sv(S)))+"&"+d:this.m&&dd(h,this.m,S)),ld(this.h,C),this.Ua&&ge(h,"TYPE","init"),this.P?(ge(h,"$req",d),ge(h,"SID","null"),C.T=!0,od(C,h,null)):od(C,h,d),this.G=2}}else this.G==3&&(a?fv(this,a):this.i.length==0||Wy(this.h)||fv(this))};function fv(a,d){var h;d?h=d.l:h=a.U++;let g=wn(a.I);ge(g,"SID",a.K),ge(g,"RID",h),ge(g,"AID",a.T),no(a,g),a.m&&a.o&&dd(g,a.m,a.o),h=new Hn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=pv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ld(a.h,h),od(h,g,d)}function no(a,d){a.H&&pe(a.H,function(h,g){ge(d,g,h)}),a.l&&Jy({},function(h,g){ge(d,g,h)})}function pv(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let N=["count="+h];S==-1?0<h?(S=C[0].g,N.push("ofs="+S)):S=0:N.push("ofs="+S);let de=!0;for(let Ve=0;Ve<h;Ve++){let ie=C[Ve].g,qe=C[Ve].map;if(ie-=S,0>ie)S=Math.max(0,C[Ve].g-100),de=!1;else try{MS(qe,N,"req"+ie+"_")}catch{g&&g(qe)}}if(de){g=N.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function gv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Us||Cy(),js||(Us(),js=!0),zl.add(d,a),a.v=0}}function fd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Gs(y(a.Fa,a),vv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,mv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Gs(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),Ga(this),mv(this))};function pd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function mv(a){a.g=new Hn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=wn(a.qa);ge(d,"RID","rpc"),ge(d,"SID",a.K),ge(d,"AID",a.T),ge(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&ge(d,"TO",a.ja),ge(d,"TYPE","xmlhttp"),no(a,d),a.m&&a.o&&dd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ha(wn(d)),h.m=null,h.P=!0,Hy(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ga(this),fd(this),Je(19))};function Ka(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function yv(a,d){var h=null;if(a.g==d){Ka(a),pd(a),a.g=null;var g=2}else if(ud(a.h,d))h=d.D,Qy(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=Fa(),Ye(g,new Uy(g,h)),Wa(a)}else gv(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&LS(a,d)||g==2&&fd(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:Dr(a,5);break;case 4:Dr(a,10);break;case 3:Dr(a,6);break;default:Dr(a,2)}}}function vv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Dr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let C=!g;g=new Cr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ba(g,"https"),Ha(g),C?RS(g.toString(),h):NS(g.toString(),h)}else Je(2);a.G=0,a.l&&a.l.sa(d),_v(a),hv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function _v(a){if(a.G=0,a.ka=[],a.l){let d=Yy(a.h);(d.length!=0||a.i.length!=0)&&(P(a.ka,d),P(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function wv(a,d,h){var g=h instanceof Cr?wn(h):new Cr(h);if(g.g!="")d&&(g.g=d+"."+g.g),$a(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new Cr(null);g&&Ba(S,g),d&&(S.g=d),C&&$a(S,C),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&ge(g,h,d),ge(g,"VER",a.la),no(a,g),g}function Iv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ee(new Zs({eb:h})):new Ee(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ev(){}t=Ev.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qa(){}Qa.prototype.g=function(a,d){return new ht(a,d)};function ht(a,d){He.call(this),this.g=new dv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!oe(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!oe(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new gi(this)}A(ht,He),ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ht.prototype.close=function(){hd(this.g)},ht.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ed(a),a=h);d.i.push(new _S(d.Ya++,a)),d.G==3&&Wa(d)},ht.prototype.N=function(){this.g.l=null,delete this.j,hd(this.g),delete this.g,ht.aa.N.call(this)};function Tv(a){nd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(Tv,nd);function Cv(){rd.call(this),this.status=1}A(Cv,rd);function gi(a){this.g=a}A(gi,Ev),gi.prototype.ua=function(){Ye(this.g,"a")},gi.prototype.ta=function(a){Ye(this.g,new Tv(a))},gi.prototype.sa=function(a){Ye(this.g,new Cv)},gi.prototype.ra=function(){Ye(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,ht.prototype.send=ht.prototype.o,ht.prototype.open=ht.prototype.m,ht.prototype.close=ht.prototype.close,KC=Un.createWebChannelTransport=function(){return new Qa},WC=Un.getStatEventTarget=function(){return Fa()},GC=Un.Event=Er,zC=Un.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Va.NO_ERROR=0,Va.TIMEOUT=8,Va.HTTP_ERROR=6,qC=Un.ErrorCode=Va,jy.COMPLETE="complete",HC=Un.EventType=jy,Oy.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",He.prototype.listen=He.prototype.K,$C=Un.WebChannel=Oy,BC=Un.FetchXmlHttpFactory=Zs,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha,jC=Un.XhrIo=Ee}).apply(typeof _l<"u"?_l:typeof self<"u"?self:typeof window<"u"?window:{});var QC="@firebase/firestore";var Le=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Le.UNAUTHENTICATED=new Le(null),Le.GOOGLE_CREDENTIALS=new Le("google-credentials-uid"),Le.FIRST_PARTY=new Le("first-party-uid"),Le.MOCK_USER=new Le("mock-user");var pa="10.12.3";var Is=new ln("@firebase/firestore");function wt(t,...e){if(Is.logLevel<=re.DEBUG){let n=e.map(um);Is.debug(`Firestore (${pa}): ${t}`,...n)}}function cm(t,...e){if(Is.logLevel<=re.ERROR){let n=e.map(um);Is.error(`Firestore (${pa}): ${t}`,...n)}}function jF(t,...e){if(Is.logLevel<=re.WARN){let n=e.map(um);Is.warn(`Firestore (${pa}): ${t}`,...n)}}function um(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function lt(t="Unexpected state"){let e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+t;throw cm(e),new Error(e)}function fa(t,e){t||lt()}var Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xe=class extends vt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _r=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var wl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},qg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Le.UNAUTHENTICATED))}shutdown(){}},zg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Gg=class{constructor(e){this.t=e,this.currentUser=Le.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _r,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _r)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fa(typeof r.accessToken=="string"),new wl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return fa(e===null||typeof e=="string"),new Le(e)}},Wg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Le.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Kg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Le.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Yg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,wt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fa(typeof n.token=="string"),this.R=n.token,new Qg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function BF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=BF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function eD(t,e){return t<e?-1:t>e?1:0}var Zg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&lt(),r===void 0?r=e.length-n:r>e.length-n&&lt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},vr=class t extends Zg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new xe(Be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var si=class t{constructor(e){this.path=e}static fromPath(e){return new t(vr.fromString(e))}static fromName(e){return new t(vr.fromString(e).popFirst(5))}static empty(){return new t(vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new vr(e.slice()))}};var Xg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Xg.UNKNOWN_ID=-1;function tD(t){return t.name==="IndexedDbTransactionError"}function $F(t){return t===0&&1/t==-1/0}var HF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],b3=[...HF,"documentOverlays"],qF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zF=qF,S3=[...zF,"indexConfiguration","indexState","indexEntries"];var Es=class t{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ws(this.root,e,this.comparator,!0)}},ws=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();let e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}};vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Il=class t{constructor(e){this.comparator=e,this.data=new Es(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new El(this.data.getIterator())}getIteratorFrom(e){return new El(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},El=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var em=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ts=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new em("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return eD(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ts.EMPTY_BYTE_STRING=new Ts("");var GF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function WF(t){if(fa(!!t),typeof t=="string"){let e=0,n=GF.exec(t);if(fa(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tl(t.seconds),nanos:Tl(t.nanos)}}function Tl(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function KF(t){return typeof t=="string"?Ts.fromBase64String(t):Ts.fromUint8Array(t)}var tm=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},nm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function QF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var R3=new Es(si.comparator);var N3=new Es(si.comparator);var x3=new Es(si.comparator),M3=new Il(si.comparator);var P3=new Il(eD);var YC,X;(X=YC||(YC={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";var k3=new $g([4294967295,4294967295],0);var Cl=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Tl(e.integerValue));else if("doubleValue"in e){let r=Tl(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),$F(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=WF(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(KF(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?QF(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):lt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),si.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Cl.bt=new Cl;var O3=new Uint8Array(0);var yn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);function Hg(){return typeof document<"u"?document:null}var rm=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&wt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var im=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function YF(t,e){if(cm("AsyncQueue",`${e}: ${t}`),tD(t))return new xe(Be.UNAVAILABLE,`${e}: ${t}`);throw t}var JC,ZC;(ZC=JC||(JC={})).J_="default",ZC.Cache="cache";var sm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Le.UNAUTHENTICATED,this.clientId=Jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>b(this,null,function*(){wt("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(wt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(Be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=YF(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function nD(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var XC=new Map;function JF(t,e,n,r){if(e===!0&&r===!0)throw new xe(Be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZF(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt()}function XF(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ZF(t);throw new xe(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Dl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xe(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xe(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xe(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bl=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new xe(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qg;switch(r.type){case"firstParty":return new Kg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=XC.get(n);r&&(wt("ComponentProvider","Removing Datastore"),XC.delete(n),r.terminate())}(this),Promise.resolve()}};function rD(t,e,n,r={}){var i;let s=(t=XF(t,bl))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&jF("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Le.MOCK_USER;else{c=Bu(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new xe(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Le(l)}t._authCredentials=new zg(new wl(c,u))}}var om=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new rm(this,"async_queue_retry"),this.hu=()=>{let n=Hg();n&&wt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Hg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new _r;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return b(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!tD(e))throw e;wt("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw cm("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=im.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&lt()}verifyOperationInProgress(){}du(){return b(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var am=class extends bl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new om}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eV(this),this._firestoreClient.terminate()}};function iD(t,e){let n=typeof t=="object"?t:fr(),r=typeof t=="string"?t:e||"(default)",i=Zr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ju("firestore");s&&rD(i,...s)}return i}function eV(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new tm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,nD(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sm(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var L3=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){pa=i})(pn),hn(new ut("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new am(new Gg(r.getProvider("auth-internal")),new Yg(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new xe(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nm(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ye(QC,"4.6.4",e),ye(QC,"4.6.4","esm2017")})();var ga=class{constructor(e){return e}},sD="firestore",lm=class{constructor(){return ri(sD)}};var dm=new L("angularfire2.firestore-instances");function tV(t,e){let n=_s(sD,t,e);return n&&new ga(n)}function nV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ga(r)}}var rV={provide:lm,deps:[[new Re,dm]]},iV={provide:ga,useFactory:tV,deps:[[new Re,dm],Wt]};function oD(t,...e){return ye("angularfire",Fn.full,"fst"),At([iV,rV,{provide:dm,useFactory:nV(t),multi:!0,deps:[ae,tt,mr,Vn,[new Re,ii],[new Re,gr],...e]}])}var aD=yr(iD,!0);var cD="@firebase/database",uD="1.0.6";var uy="";function sV(t){uy=t}var _m=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Oe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ps(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var wm=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var BD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _m(e)}}catch{}return new wm},ai=BD("localStorage"),Im=BD("sessionStorage");var Ss=new ln("@firebase/database"),oV=function(){let t=1;return function(){return t++}}(),$D=function(t){let e=NT(t),n=new Vu;n.update(e);let r=n.digest();return Uu.encodeByteArray(r)},Aa=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Aa.apply(null,r):typeof r=="object"?e+=Oe(r):e+=r,e+=" "}return e},ci=null,lD=!0,aV=function(t,e){x(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ss.logLevel=re.VERBOSE,ci=Ss.log.bind(Ss),e&&Im.set("logging_enabled",!0)):typeof t=="function"?ci=t:(ci=null,Im.remove("logging_enabled"))},We=function(...t){if(lD===!0&&(lD=!1,ci===null&&Im.get("logging_enabled")===!0&&aV(!0)),ci){let e=Aa.apply(null,t);ci(e)}},Ra=function(t){return function(...e){We(t,...e)}},Em=function(...t){let e="FIREBASE INTERNAL ERROR: "+Aa(...t);Ss.error(e)},Bn=function(...t){let e=`FIREBASE FATAL ERROR: ${Aa(...t)}`;throw Ss.error(e),new Error(e)},It=function(...t){let e="FIREBASE WARNING: "+Aa(...t);Ss.warn(e)},cV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},HD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},uV=function(t){if(cn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Rs="[MIN_NAME]",ui="[MAX_NAME]",Ls=function(t,e){if(t===e)return 0;if(t===Rs||e===ui)return-1;if(e===Rs||t===ui)return 1;{let n=dD(t),r=dD(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lV=function(t,e){return t===e?0:t<e?-1:1},ma=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Oe(e))},ly=function(t){if(typeof t!="object"||t===null)return Oe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Oe(e[r]),n+=":",n+=ly(t[e[r]]);return n+="}",n},qD=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ot(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var zD=function(t){x(!HD(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,c,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(u=n;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let f=l.join(""),p="";for(u=0;u<64;u+=8){let y=parseInt(f.substr(u,8),2).toString(16);y.length===1&&(y="0"+y),p=p+y}return p.toLowerCase()},dV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var fV=new RegExp("^-?(0*)\\d{1,10}$"),pV=-2147483648,gV=2147483647,dD=function(t){if(fV.test(t)){let e=Number(t);if(e>=pV&&e<=gV)return e}return null},Na=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw It("Exception was thrown by user callback.",n),e},Math.floor(0))}},mV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ia=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Tm=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Cm=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(We("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}},Ea=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Al="5",GD="v",WD="s",KD="r",QD="f",YD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,JD="ls",ZD="p",Dm="ac",XD="websocket",eb="long_polling";var Rl=class{constructor(e,n,r,i,s=!1,o="",c=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ai.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ai.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function yV(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function tb(t,e,n){x(typeof e=="string","typeof type must == string"),x(typeof n=="object","typeof params must == object");let r;if(e===XD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===eb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yV(t)&&(n.ns=t.namespace);let i=[];return Ot(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var bm=class{constructor(){this.counters_={}}incrementCounter(e,n=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return wT(this.counters_)}};var hm={},fm={};function dy(t){let e=t.toString();return hm[e]||(hm[e]=new bm),hm[e]}function vV(t,e){let n=t.toString();return fm[n]||(fm[n]=e()),fm[n]}var Sm=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Na(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var hD="start",_V="close",wV="pLPCommand",IV="pRTLPCB",nb="id",rb="pw",ib="ser",EV="cb",TV="seg",CV="ts",DV="d",bV="dframe",sb=1870,ob=30,SV=sb-ob,AV=25e3,RV=3e4,Am=class t{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ra(e),this.stats_=dy(n),this.urlFn=u=>(this.appCheckToken&&(u[Dm]=this.appCheckToken),tb(n,eb,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Sm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(RV)),uV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rm((...s)=>{let[o,c,u,l,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===hD)this.id=c,this.password=u;else if(o===_V)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);let r={};r[hD]="t",r[ib]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[EV]=this.scriptTagHolder.uniqueCallbackIdentifier),r[GD]=Al,this.transportSessionId&&(r[WD]=this.transportSessionId),this.lastSessionId&&(r[JD]=this.lastSessionId),this.applicationId&&(r[ZD]=this.applicationId),this.appCheckToken&&(r[Dm]=this.appCheckToken),typeof location<"u"&&location.hostname&&YD.test(location.hostname)&&(r[KD]=QD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return cn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dV()&&!hV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Oe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=jp(n),i=qD(r,SV);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(cn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[bV]="t",r[nb]=e,r[rb]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Oe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Rm=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,cn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=oV(),window[wV+this.uniqueCallbackIdentifier]=e,window[IV+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){We("frame writing exception"),c.stack&&We(c.stack),We(c)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||We("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[nb]=this.myID,e[rb]=this.myPW,e[ib]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ob+r.length<=sb;){let o=this.pendingSegs.shift();r=r+"&"+TV+i+"="+o.seg+"&"+CV+i+"="+o.ts+"&"+DV+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(AV)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){cn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{We("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var NV=16384,xV=45e3,Nl=null;typeof MozWebSocket<"u"?Nl=MozWebSocket:typeof WebSocket<"u"&&(Nl=WebSocket);var ya=(()=>{class t{constructor(n,r,i,s,o,c,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ra(this.connId),this.stats_=dy(r),this.connURL=t.connectionURL_(r,c,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let c={};return c[GD]=Al,!cn()&&typeof location<"u"&&location.hostname&&YD.test(location.hostname)&&(c[KD]=QD),r&&(c[WD]=r),i&&(c[JD]=i),s&&(c[Dm]=s),o&&(c[ZD]=o),tb(n,XD,c)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ai.set("previous_websocket_failure",!0);try{let i;if(cn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Al}/${uy}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,c=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(i.proxy={origin:c})}this.mySock=new Nl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Nl!==null&&!t.forceDisallow_}static previouslyFailed(){return ai.isInMemoryStorage||ai.get("previous_websocket_failure")===!0}markConnectionHealthy(){ai.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ps(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(x(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Oe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=qD(r,NV);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xV))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),MV=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Am,ya]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ya&&ya.isAvailable(),i=r&&!ya.previouslyFailed();if(n.webSocketOnly&&(r||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ya];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),PV=6e4,kV=5e3,OV=10*1024,LV=100*1024,pm="t",fD="d",FV="s",pD="r",VV="e",gD="o",mD="a",yD="n",vD="p",UV="h",Nm=class{constructor(e,n,r,i,s,o,c,u,l,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ra("c:"+this.id+":"),this.transportManager_=new MV(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>OV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pm in e){let n=e[pm];n===mD?this.upgradeIfSecondaryHealthy_():n===pD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ma("t",e),r=ma("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ma("t",e),r=ma("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ma(pm,e);if(fD in e){let r=e[fD];if(n===UV){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===yD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===FV?this.onConnectionShutdown_(r):n===pD?this.onReset_(r):n===VV?Em("Server Error: "+r):n===gD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Em("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Al!==r&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vD,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var xl=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Ml=class{constructor(e){this.allowedEvents_=e,this.listeners_={},x(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){x(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Pl=class t extends Ml{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return x(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var _D=32,wD=768,fe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function le(){return new fe("")}function ee(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ir(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new fe(t.pieces_,e)}function ab(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jV(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function cb(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ub(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new fe(e,0)}function Fe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new fe(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function Pt(t,e){let n=ee(t),r=ee(e);if(n===null)return e;if(n===r)return Pt(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lb(t,e){if(Ir(t)!==Ir(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Qt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ir(t)>Ir(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var xm=class{constructor(e,n){this.errorPrefix_=n,this.parts_=cb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ta(this.parts_[r]);db(this)}};function BV(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ta(e),db(t)}function $V(t){let e=t.parts_.pop();t.byteLength_-=ta(e),t.parts_.length>0&&(t.byteLength_-=1)}function db(t){if(t.byteLength_>wD)throw new Error(t.errorPrefix_+"has a key path longer than "+wD+" bytes ("+t.byteLength_+").");if(t.parts_.length>_D)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_D+") or object contains a cycle "+oi(t))}function oi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Mm=class t extends Ml{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return x(e==="visible","Unknown event type: "+e),[this.visible_]}};var va=1e3,HV=60*5*1e3,ID=30*1e3,qV=1.3,zV=3e4,GV="server_kill",ED=3,hy=(()=>{class t extends xl{constructor(n,r,i,s,o,c,u,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Ra("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=va,this.maxReconnectDelay_=HV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!cn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Pl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Oe(o)),x(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Gr,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:c=>{let u=c.d;c.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),x(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");let u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},c="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(c,o,u=>{let l=u.d,f=u.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(f,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&un(n,"w")){let i=Kr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ST(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ID)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=bT(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,c=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},c="n";s&&(o.q=i,o.t=s),this.sendRequest(c,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let c={p:r,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;let u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Oe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Em("Unrecognized action received from server: "+Oe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){x(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=va,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=va,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zV&&(this.reconnectDelay_=va),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qV)}this.onConnectStatus_(!1)}establishConnection_(){return b(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,c=!1,u=null,l=function(){u?u.close():(c=!0,i())},f=function(y){x(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(y)};this.realtime_={close:l,sendRequest:f};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[y,I]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?We("getToken() completed but was canceled"):(We("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=I&&I.token,u=new Nm(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,A=>{It(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(GV)},o))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&It(y),l())}}})}interrupt(n){We("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){We("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Xo(this.interruptReasons_)&&(this.reconnectDelay_=va,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>ly(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new fe(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){We("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ED&&(this.reconnectDelay_=ID,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){We("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ED&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";cn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+uy.replace(/\./g,"-")]=1,Zo()?n["framework.cordova"]=1:$u()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Pl.getInstance().currentlyOnline();return Xo(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),te=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ns=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new te(Rs,e),i=new te(Rs,n);return this.compare(r,i)!==0}minPost(){return te.MIN}};var Sl,kl=class extends Ns{static get __EMPTY_NODE(){return Sl}static set __EMPTY_NODE(e){Sl=e}compare(e,n){return Ls(e.name,n.name)}isDefinedOn(e){throw Wr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return te.MIN}maxPost(){return new te(ui,Sl)}makePost(e,n){return x(typeof e=="string","KeyIndex indexValue must always be a string."),new te(e,Sl)}toString(){return".key"}},As=new kl;var Ds=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Kt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??kt.EMPTY_NODE,this.right=o??kt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return kt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return kt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Pm=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},kt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Kt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ds(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ds(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ds(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ds(this.root_,null,this.comparator_,!0,e)}};kt.EMPTY_NODE=new Pm;function WV(t,e){return Ls(t.name,e.name)}function fy(t,e){return Ls(t,e)}var km;function KV(t){km=t}var hb=function(t){return typeof t=="number"?"number:"+zD(t):"string:"+t},fb=function(t){if(t.isLeafNode()){let e=t.val();x(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else x(t===km||t.isEmpty(),"priority of unexpected type.");x(t===km||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var TD,xs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,x(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fb(this.priorityNode_)}static set __childrenNodeConstructor(n){TD=n}static get __childrenNodeConstructor(){return TD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Y(n)?this:ee(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=ee(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(x(i!==".priority"||Ir(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hb(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=zD(this.value_):n+=this.value_,this.lazyHash_=$D(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(x(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return x(s>=0,"Unknown leaf type: "+r),x(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),pb,gb;function QV(t){pb=t}function YV(t){gb=t}var Om=class extends Ns{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ls(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te(ui,new xs("[PRIORITY-POST]",gb))}makePost(e,n){let r=pb(e);return new te(n,new xs("[PRIORITY-POST]",r))}toString(){return".priority"}},Qe=new Om;var JV=Math.log(2),Lm=class{constructor(e){let n=s=>parseInt(Math.log(s)/JV,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Ol=function(t,e,n,r){t.sort(e);let i=function(u,l){let f=l-u,p,y;if(f===0)return null;if(f===1)return p=t[u],y=n?n(p):p,new Kt(y,p.node,Kt.BLACK,null,null);{let I=parseInt(f/2,10)+u,A=i(u,I),R=i(I+1,l);return p=t[I],y=n?n(p):p,new Kt(y,p.node,Kt.BLACK,A,R)}},s=function(u){let l=null,f=null,p=t.length,y=function(A,R){let P=p-A,W=p;p-=A;let oe=i(P+1,W),q=t[P],ve=n?n(q):q;I(new Kt(ve,q.node,R,null,oe))},I=function(A){l?(l.left=A,l=A):(f=A,l=A)};for(let A=0;A<u.count;++A){let R=u.nextBitIsOne(),P=Math.pow(2,u.count-(A+1));R?y(P,Kt.BLACK):(y(P,Kt.BLACK),y(P,Kt.RED))}return f},o=new Lm(t.length),c=s(o);return new kt(r||e,c)};var gm,Cs={},Ms=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return x(Cs&&Qe,"ChildrenNode.ts has not been loaded"),gm=gm||new t({".priority":Cs},{".priority":Qe}),gm}get(e){let n=Kr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof kt?n:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,n){x(e!==As,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(te.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Ol(r,e.getCompare()):c=Cs;let u=e.toString(),l=Object.assign({},this.indexSet_);l[u]=e;let f=Object.assign({},this.indexes_);return f[u]=c,new t(f,l)}addToIndexes(e,n){let r=ea(this.indexes_,(i,s)=>{let o=Kr(this.indexSet_,s);if(x(o,"Missing index implementation for "+s),i===Cs)if(o.isDefinedOn(e.node)){let c=[],u=n.getIterator(te.Wrap),l=u.getNext();for(;l;)l.name!==e.name&&c.push(l),l=u.getNext();return c.push(e),Ol(c,o.getCompare())}else return Cs;else{let c=n.get(e.name),u=i;return c&&(u=u.remove(new te(e.name,c))),u.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=ea(this.indexes_,i=>{if(i===Cs)return i;{let s=n.get(e.name);return s?i.remove(new te(e.name,s)):i}});return new t(r,this.indexSet_)}};var _a,Ie=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&fb(this.priorityNode_),this.children_.isEmpty()&&x(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _a||(_a=new t(new kt(fy),null,Ms.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_a}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?_a:r}}getChild(n){let r=ee(n);return r===null?this:this.getImmediateChild(r).getChild(me(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(x(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new te(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let c=s.isEmpty()?_a:this.priorityNode_;return new t(s,c,o)}}updateChild(n,r){let i=ee(n);if(i===null)return r;{x(ee(n)!==".priority"||Ir(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(me(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Qe,(c,u)=>{r[c]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!n&&o&&s<2*i){let c=[];for(let u in r)c[u]=r[u];return c}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+hb(this.getPriority().val())+":"),this.forEachChild(Qe,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":$D(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new te(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new te(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new te(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,te.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,te.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===xa?-1:0}withIndex(n){if(n===As||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===As||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Qe),s=r.getIterator(Qe),o=i.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=s.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(n){return n===As?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Fm=class extends Ie{constructor(){super(new kt(fy),Ie.EMPTY_NODE,Ms.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ie.EMPTY_NODE}isEmpty(){return!1}},xa=new Fm;Object.defineProperties(te,{MIN:{value:new te(Rs,Ie.EMPTY_NODE)},MAX:{value:new te(ui,xa)}});kl.__EMPTY_NODE=Ie.EMPTY_NODE;xs.__childrenNodeConstructor=Ie;KV(xa);YV(xa);var ZV=!0;function Ke(t,e=null){if(t===null)return Ie.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),x(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new xs(n,Ke(e))}if(!(t instanceof Array)&&ZV){let n=[],r=!1;if(Ot(t,(o,c)=>{if(o.substring(0,1)!=="."){let u=Ke(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new te(o,u)))}}),n.length===0)return Ie.EMPTY_NODE;let s=Ol(n,WV,o=>o.name,fy);if(r){let o=Ol(n,Qe.getCompare());return new Ie(s,Ke(e),new Ms({".priority":o},{".priority":Qe}))}else return new Ie(s,Ke(e),Ms.Default)}else{let n=Ie.EMPTY_NODE;return Ot(t,(r,i)=>{if(un(t,r)&&r.substring(0,1)!=="."){let s=Ke(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ke(e))}}QV(Ke);var Vm=class extends Ns{constructor(e){super(),this.indexPath_=e,x(!Y(e)&&ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ls(e.name,n.name):s}makePost(e,n){let r=Ke(e),i=Ie.EMPTY_NODE.updateChild(this.indexPath_,r);return new te(n,i)}maxPost(){let e=Ie.EMPTY_NODE.updateChild(this.indexPath_,xa);return new te(ui,e)}toString(){return cb(this.indexPath_,0).join("/")}};var Um=class extends Ns{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ls(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(e,n){let r=Ke(e);return new te(n,r)}toString(){return".value"}},XV=new Um;function eU(t){return{type:"value",snapshotNode:t}}function tU(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function nU(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function CD(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function rU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var jm=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return x(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return x(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rs}hasEnd(){return this.endSet_}getIndexEndValue(){return x(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return x(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ui}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return x(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qe}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function DD(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Qe?n="$priority":t.index_===XV?n="$value":t.index_===As?n="$key":(x(t.index_ instanceof Vm,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Oe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Oe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Oe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Oe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Oe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function bD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qe&&(e.i=t.index_.toString()),e}var Bm=class t extends xl{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ra("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(x(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),c={};this.listens_[o]=c;let u=DD(e._queryParams);this.restRequest_(s+".json",u,(l,f)=>{let p=f;if(l===404&&(p=null,l=null),l===null&&this.onDataUpdate_(s,p,!1,r),Kr(this.listens_,o)===c){let y;l?l===401?y="permission_denied":y="rest_error:"+l:y="ok",i(y,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=DD(e._queryParams),r=e._path.toString(),i=new Gr;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+dr(n);this.log_("Sending REST request for "+o);let c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=ps(c.responseText)}catch{It("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&It("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}};var $m=class{constructor(){this.rootNode_=Ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ll(){return{value:null,children:new Map}}function mb(t,e,n){if(Y(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=ee(e);t.children.has(r)||t.children.set(r,Ll());let i=t.children.get(r);e=me(e),mb(i,e,n)}}function Hm(t,e,n){t.value!==null?n(e,t.value):iU(t,(r,i)=>{let s=new fe(e.toString()+"/"+r);Hm(i,s,n)})}function iU(t,e){t.children.forEach((n,r)=>{e(r,n)})}var qm=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ot(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var SD=10*1e3,sU=30*1e3,oU=5*60*1e3,zm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qm(e);let r=SD+(sU-SD)*Math.random();Ia(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Ot(e,(i,s)=>{s>0&&un(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*oU))}};var jn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(jn||{});function yb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _b(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Gm=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=jn.ACK_USER_WRITE,this.source=yb()}operationForChild(e){if(Y(this.path)){if(this.affectedTree.value!=null)return x(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new fe(e));return new t(le(),n,this.revert)}}else return x(ee(this.path)===e,"operationForChild called for unrelated child."),new t(me(this.path),this.affectedTree,this.revert)}};var Ps=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=jn.OVERWRITE}operationForChild(e){return Y(this.path)?new t(this.source,le(),this.snap.getImmediateChild(e)):new t(this.source,me(this.path),this.snap)}};var Fl=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=jn.MERGE}operationForChild(e){if(Y(this.path)){let n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new Ps(this.source,le(),n.value):new t(this.source,le(),n)}else return x(ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Da=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;let n=ee(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function aU(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(rU(o.childName,o.snapshotNode))}),wa(t,i,"child_removed",e,r,n),wa(t,i,"child_added",e,r,n),wa(t,i,"child_moved",s,r,n),wa(t,i,"child_changed",e,r,n),wa(t,i,"value",e,r,n),i}function wa(t,e,n,r,i,s){let o=r.filter(c=>c.type===n);o.sort((c,u)=>uU(t,c,u)),o.forEach(c=>{let u=cU(t,c,s);i.forEach(l=>{l.respondsTo(c.type)&&e.push(l.createEvent(u,t.query_))})})}function cU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function uU(t,e,n){if(e.childName==null||n.childName==null)throw Wr("Should only compare child_ events.");let r=new te(e.childName,e.snapshotNode),i=new te(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function wb(t,e){return{eventCache:t,serverCache:e}}function Ta(t,e,n,r){return wb(new Da(e,n,r),t.serverCache)}function Ib(t,e,n,r){return wb(t.eventCache,new Da(e,n,r))}function Wm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function li(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var mm,lU=()=>(mm||(mm=new kt(lV)),mm),dt=class t{constructor(e,n=lU()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ot(e,(r,i)=>{n=n.set(new fe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(Y(e))return null;{let r=ee(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(me(e),n);return s!=null?{path:Fe(new fe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{let n=ee(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new t(null)}}set(e,n){if(Y(e))return new t(n,this.children);{let r=ee(e),s=(this.children.get(r)||new t(null)).set(me(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Y(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=ee(e),r=this.children.get(n);if(r){let i=r.remove(me(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Y(e))return this.value;{let n=ee(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(Y(e))return n;{let r=ee(e),s=(this.children.get(r)||new t(null)).setTree(me(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(le(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Fe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Y(e))return null;{let s=ee(e),o=this.children.get(s);return o?o.findOnPath_(me(e),Fe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,r){if(Y(e))return this;{this.value&&r(n,this.value);let i=ee(e),s=this.children.get(i);return s?s.foreachOnPath_(me(e),Fe(n,i),r):new t(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Yt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new dt(null))}};function Ca(t,e,n){if(Y(e))return new Yt(new dt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Pt(i,e);return s=s.updateChild(o,n),new Yt(t.writeTree_.set(i,s))}else{let i=new dt(n),s=t.writeTree_.setTree(e,i);return new Yt(s)}}}function AD(t,e,n){let r=t;return Ot(n,(i,s)=>{r=Ca(r,Fe(e,i),s)}),r}function RD(t,e){if(Y(e))return Yt.empty();{let n=t.writeTree_.setTree(e,new dt(null));return new Yt(n)}}function Km(t,e){return di(t,e)!=null}function di(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pt(n.path,e)):null}function ND(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qe,(r,i)=>{e.push(new te(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new te(r,i.value))}),e}function wr(t,e){if(Y(e))return t;{let n=di(t,e);return n!=null?new Yt(new dt(n)):new Yt(t.writeTree_.subtree(e))}}function Qm(t){return t.writeTree_.isEmpty()}function ks(t,e){return Eb(le(),t.writeTree_,e)}function Eb(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(x(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Eb(Fe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Fe(t,".priority"),r)),n}}function Tb(t,e){return Ab(e,t)}function dU(t,e,n,r,i){x(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ca(t.visibleWrites,e,n)),t.lastWriteId=r}function hU(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function fU(t,e){let n=t.allWrites.findIndex(c=>c.writeId===e);x(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let c=t.allWrites[o];c.visible&&(o>=n&&pU(c,r.path)?i=!1:Qt(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return gU(t),!0;if(r.snap)t.visibleWrites=RD(t.visibleWrites,r.path);else{let c=r.children;Ot(c,u=>{t.visibleWrites=RD(t.visibleWrites,Fe(r.path,u))})}return!0}else return!1}function pU(t,e){if(t.snap)return Qt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Qt(Fe(t.path,n),e))return!0;return!1}function gU(t){t.visibleWrites=Cb(t.allWrites,mU,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mU(t){return t.visible}function Cb(t,e,n){let r=Yt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,c;if(s.snap)Qt(n,o)?(c=Pt(n,o),r=Ca(r,c,s.snap)):Qt(o,n)&&(c=Pt(o,n),r=Ca(r,le(),s.snap.getChild(c)));else if(s.children){if(Qt(n,o))c=Pt(n,o),r=AD(r,c,s.children);else if(Qt(o,n))if(c=Pt(o,n),Y(c))r=AD(r,le(),s.children);else{let u=Kr(s.children,ee(c));if(u){let l=u.getChild(me(c));r=Ca(r,le(),l)}}}else throw Wr("WriteRecord should have .snap or .children")}}return r}function Db(t,e,n,r,i){if(!r&&!i){let s=di(t.visibleWrites,e);if(s!=null)return s;{let o=wr(t.visibleWrites,e);if(Qm(o))return n;if(n==null&&!Km(o,le()))return null;{let c=n||Ie.EMPTY_NODE;return ks(o,c)}}}else{let s=wr(t.visibleWrites,e);if(!i&&Qm(s))return n;if(!i&&n==null&&!Km(s,le()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Qt(l.path,e)||Qt(e,l.path))},c=Cb(t.allWrites,o,e),u=n||Ie.EMPTY_NODE;return ks(c,u)}}}function yU(t,e,n){let r=Ie.EMPTY_NODE,i=di(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Qe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=wr(t.visibleWrites,e);return n.forEachChild(Qe,(o,c)=>{let u=ks(wr(s,new fe(o)),c);r=r.updateImmediateChild(o,u)}),ND(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=wr(t.visibleWrites,e);return ND(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function vU(t,e,n,r,i){x(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Fe(e,n);if(Km(t.visibleWrites,s))return null;{let o=wr(t.visibleWrites,s);return Qm(o)?i.getChild(n):ks(o,i.getChild(n))}}function _U(t,e,n,r){let i=Fe(e,n),s=di(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=wr(t.visibleWrites,i);return ks(o,r.getNode().getImmediateChild(n))}else return null}function wU(t,e){return di(t.visibleWrites,e)}function IU(t,e,n,r,i,s,o){let c,u=wr(t.visibleWrites,e),l=di(u,le());if(l!=null)c=l;else if(n!=null)c=ks(u,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){let f=[],p=o.getCompare(),y=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o),I=y.getNext();for(;I&&f.length<i;)p(I,r)!==0&&f.push(I),I=y.getNext();return f}else return[]}function EU(){return{visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1}}function Ym(t,e,n,r){return Db(t.writeTree,t.treePath,e,n,r)}function bb(t,e){return yU(t.writeTree,t.treePath,e)}function xD(t,e,n,r){return vU(t.writeTree,t.treePath,e,n,r)}function Vl(t,e){return wU(t.writeTree,Fe(t.treePath,e))}function TU(t,e,n,r,i,s){return IU(t.writeTree,t.treePath,e,n,r,i,s)}function py(t,e,n){return _U(t.writeTree,t.treePath,e,n)}function Sb(t,e){return Ab(Fe(t.treePath,e),t.writeTree)}function Ab(t,e){return{treePath:t,writeTree:e}}var Jm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;x(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),x(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,CD(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,nU(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,tU(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,CD(r,e.snapshotNode,i.oldSnap));else throw Wr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Zm=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},Rb=new Zm,ba=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Da(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return py(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:li(this.viewCache_),s=TU(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function CU(t,e){x(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),x(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function DU(t,e,n,r,i){let s=new Jm,o,c;if(n.type===jn.OVERWRITE){let l=n;l.source.fromUser?o=Xm(t,e,l.path,l.snap,r,i,s):(x(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered()&&!Y(l.path),o=Ul(t,e,l.path,l.snap,r,i,c,s))}else if(n.type===jn.MERGE){let l=n;l.source.fromUser?o=SU(t,e,l.path,l.children,r,i,s):(x(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered(),o=ey(t,e,l.path,l.children,r,i,c,s))}else if(n.type===jn.ACK_USER_WRITE){let l=n;l.revert?o=NU(t,e,l.path,r,i,s):o=AU(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===jn.LISTEN_COMPLETE)o=RU(t,e,n.path,r,s);else throw Wr("Unknown operation type: "+n.type);let u=s.getChanges();return bU(e,o,u),{viewCache:o,changes:u}}function bU(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Wm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(eU(Wm(e)))}}function Nb(t,e,n,r,i,s){let o=e.eventCache;if(Vl(r,n)!=null)return e;{let c,u;if(Y(n))if(x(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=li(e),f=l instanceof Ie?l:Ie.EMPTY_NODE,p=bb(r,f);c=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{let l=Ym(r,li(e));c=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=ee(n);if(l===".priority"){x(Ir(n)===1,"Can't have a priority with additional path components");let f=o.getNode();u=e.serverCache.getNode();let p=xD(r,n,f,u);p!=null?c=t.filter.updatePriority(f,p):c=o.getNode()}else{let f=me(n),p;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();let y=xD(r,n,o.getNode(),u);y!=null?p=o.getNode().getImmediateChild(l).updateChild(f,y):p=o.getNode().getImmediateChild(l)}else p=py(r,l,e.serverCache);p!=null?c=t.filter.updateChild(o.getNode(),l,p,f,i,s):c=o.getNode()}}return Ta(e,c,o.isFullyInitialized()||Y(n),t.filter.filtersNodes())}}function Ul(t,e,n,r,i,s,o,c){let u=e.serverCache,l,f=o?t.filter:t.filter.getIndexedFilter();if(Y(n))l=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){let I=u.getNode().updateChild(n,r);l=f.updateFullNode(u.getNode(),I,null)}else{let I=ee(n);if(!u.isCompleteForPath(n)&&Ir(n)>1)return e;let A=me(n),P=u.getNode().getImmediateChild(I).updateChild(A,r);I===".priority"?l=f.updatePriority(u.getNode(),P):l=f.updateChild(u.getNode(),I,P,A,Rb,null)}let p=Ib(e,l,u.isFullyInitialized()||Y(n),f.filtersNodes()),y=new ba(i,p,s);return Nb(t,p,n,i,y,c)}function Xm(t,e,n,r,i,s,o){let c=e.eventCache,u,l,f=new ba(i,e,s);if(Y(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Ta(e,l,!0,t.filter.filtersNodes());else{let p=ee(n);if(p===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),u=Ta(e,l,c.isFullyInitialized(),c.isFiltered());else{let y=me(n),I=c.getNode().getImmediateChild(p),A;if(Y(y))A=r;else{let R=f.getCompleteChild(p);R!=null?ab(y)===".priority"&&R.getChild(ub(y)).isEmpty()?A=R:A=R.updateChild(y,r):A=Ie.EMPTY_NODE}if(I.equals(A))u=e;else{let R=t.filter.updateChild(c.getNode(),p,A,y,f,o);u=Ta(e,R,c.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function MD(t,e){return t.eventCache.isCompleteForChild(e)}function SU(t,e,n,r,i,s,o){let c=e;return r.foreach((u,l)=>{let f=Fe(n,u);MD(e,ee(f))&&(c=Xm(t,c,f,l,i,s,o))}),r.foreach((u,l)=>{let f=Fe(n,u);MD(e,ee(f))||(c=Xm(t,c,f,l,i,s,o))}),c}function PD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ey(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,l;Y(n)?l=r:l=new dt(null).setTree(n,r);let f=e.serverCache.getNode();return l.children.inorderTraversal((p,y)=>{if(f.hasChild(p)){let I=e.serverCache.getNode().getImmediateChild(p),A=PD(t,I,y);u=Ul(t,u,new fe(p),A,i,s,o,c)}}),l.children.inorderTraversal((p,y)=>{let I=!e.serverCache.isCompleteForChild(p)&&y.value===null;if(!f.hasChild(p)&&!I){let A=e.serverCache.getNode().getImmediateChild(p),R=PD(t,A,y);u=Ul(t,u,new fe(p),R,i,s,o,c)}}),u}function AU(t,e,n,r,i,s,o){if(Vl(i,n)!=null)return e;let c=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(Y(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ul(t,e,n,u.getNode().getChild(n),i,s,c,o);if(Y(n)){let l=new dt(null);return u.getNode().forEachChild(As,(f,p)=>{l=l.set(new fe(f),p)}),ey(t,e,n,l,i,s,c,o)}else return e}else{let l=new dt(null);return r.foreach((f,p)=>{let y=Fe(n,f);u.isCompleteForPath(y)&&(l=l.set(f,u.getNode().getChild(y)))}),ey(t,e,n,l,i,s,c,o)}}function RU(t,e,n,r,i){let s=e.serverCache,o=Ib(e,s.getNode(),s.isFullyInitialized()||Y(n),s.isFiltered());return Nb(t,o,n,r,Rb,i)}function NU(t,e,n,r,i,s){let o;if(Vl(r,n)!=null)return e;{let c=new ba(r,e,i),u=e.eventCache.getNode(),l;if(Y(n)||ee(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Ym(r,li(e));else{let p=e.serverCache.getNode();x(p instanceof Ie,"serverChildren would be complete if leaf node"),f=bb(r,p)}f=f,l=t.filter.updateFullNode(u,f,s)}else{let f=ee(n),p=py(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),p!=null?l=t.filter.updateChild(u,f,p,me(n),c,s):e.eventCache.getNode().hasChild(f)?l=t.filter.updateChild(u,f,Ie.EMPTY_NODE,me(n),c,s):l=u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ym(r,li(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||Vl(r,le())!=null,Ta(e,l,o,t.filter.filtersNodes())}}function xU(t,e){let n=li(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Y(e)&&!n.getImmediateChild(ee(e)).isEmpty())?n.getChild(e):null}function kD(t,e,n,r){e.type===jn.MERGE&&e.source.queryId!==null&&(x(li(t.viewCache_),"We should always have a full cache before handling merges"),x(Wm(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=DU(t.processor_,i,e,n,r);return CU(t.processor_,s.viewCache),x(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,MU(t,s.changes,s.viewCache.eventCache.getNode(),null)}function MU(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return aU(t.eventGenerator_,e,n,i)}var OD;function PU(t){x(!OD,"__referenceConstructor has already been defined"),OD=t}function gy(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return x(s!=null,"SyncTree gave us an op for an invalid query."),kD(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(kD(o,e,n,r));return s}}function my(t,e){let n=null;for(let r of t.views.values())n=n||xU(r,e);return n}var LD;function kU(t){x(!LD,"__referenceConstructor has already been defined"),LD=t}var jl=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dt(null),this.pendingWriteTree_=EU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function OU(t,e,n,r,i){return dU(t.pendingWriteTree_,e,n,r,i),i?$l(t,new Ps(yb(),e,n)):[]}function bs(t,e,n=!1){let r=hU(t.pendingWriteTree_,e);if(fU(t.pendingWriteTree_,e)){let s=new dt(null);return r.snap!=null?s=s.set(le(),!0):Ot(r.children,o=>{s=s.set(new fe(o),!0)}),$l(t,new Gm(r.path,s,n))}else return[]}function Bl(t,e,n){return $l(t,new Ps(vb(),e,n))}function LU(t,e,n){let r=dt.fromObject(n);return $l(t,new Fl(vb(),e,r))}function FU(t,e,n,r){let i=kb(t,r);if(i!=null){let s=Ob(i),o=s.path,c=s.queryId,u=Pt(o,e),l=new Ps(_b(c),u,n);return Lb(t,o,l)}else return[]}function VU(t,e,n,r){let i=kb(t,r);if(i){let s=Ob(i),o=s.path,c=s.queryId,u=Pt(o,e),l=dt.fromObject(n),f=new Fl(_b(c),u,l);return Lb(t,o,f)}else return[]}function xb(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{let u=Pt(o,e),l=my(c,u);if(l)return l});return Db(i,e,s,n,!0)}function $l(t,e){return Mb(e,t.syncPointTree_,null,Tb(t.pendingWriteTree_,le()))}function Mb(t,e,n,r){if(Y(t.path))return Pb(t,e,n,r);{let i=e.get(le());n==null&&i!=null&&(n=my(i,le()));let s=[],o=ee(t.path),c=t.operationForChild(o),u=e.children.get(o);if(u&&c){let l=n?n.getImmediateChild(o):null,f=Sb(r,o);s=s.concat(Mb(c,u,l,f))}return i&&(s=s.concat(gy(i,t,r,n))),s}}function Pb(t,e,n,r){let i=e.get(le());n==null&&i!=null&&(n=my(i,le()));let s=[];return e.children.inorderTraversal((o,c)=>{let u=n?n.getImmediateChild(o):null,l=Sb(r,o),f=t.operationForChild(o);f&&(s=s.concat(Pb(f,c,u,l)))}),i&&(s=s.concat(gy(i,t,r,n))),s}function kb(t,e){return t.tagToQueryMap.get(e)}function Ob(t){let e=t.indexOf("$");return x(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new fe(t.substr(0,e))}}function Lb(t,e,n){let r=t.syncPointTree_.get(e);x(r,"Missing sync point for query tag that we're tracking");let i=Tb(t.pendingWriteTree_,e);return gy(r,n,i,null)}var ty=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},ny=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Fe(this.path_,e);return new t(this.syncTree_,n)}node(){return xb(this.syncTree_,this.path_)}},UU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},FD=function(t,e,n){if(!t||typeof t!="object")return t;if(x(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return jU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return BU(t[".sv"],e);x(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},jU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:x(!1,"Unexpected server value: "+t)}},BU=function(t,e,n){t.hasOwnProperty("increment")||x(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&x(!1,"Unexpected increment value: "+r);let i=e.node();if(x(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},$U=function(t,e,n,r){return yy(e,new ny(n,t),r)},HU=function(t,e,n){return yy(t,new ty(e),n)};function yy(t,e,n){let r=t.getPriority().val(),i=FD(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,c=FD(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new xs(c,Ke(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new xs(i))),o.forEachChild(Qe,(c,u)=>{let l=yy(u,e.getImmediateChild(c),n);l!==u&&(s=s.updateImmediateChild(c,l))}),s}}var Sa=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function vy(t,e){let n=e instanceof fe?e:new fe(e),r=t,i=ee(n);for(;i!==null;){let s=Kr(r.node.children,i)||{children:{},childCount:0};r=new Sa(i,r,s),n=me(n),i=ee(n)}return r}function Fs(t){return t.node.value}function Fb(t,e){t.node.value=e,ry(t)}function Vb(t){return t.node.childCount>0}function qU(t){return Fs(t)===void 0&&!Vb(t)}function Hl(t,e){Ot(t.node.children,(n,r)=>{e(new Sa(n,t,r))})}function Ub(t,e,n,r){n&&!r&&e(t),Hl(t,i=>{Ub(i,e,!0,r)}),n&&r&&e(t)}function zU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ma(t){return new fe(t.parent===null?t.name:Ma(t.parent)+"/"+t.name)}function ry(t){t.parent!==null&&GU(t.parent,t.name,t)}function GU(t,e,n){let r=qU(n),i=un(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ry(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ry(t))}var WU=/[\[\].#$\/\u0000-\u001F\u007F]/,KU=/[\[\].#$\u0000-\u001F\u007F]/,ym=10*1024*1024,jb=function(t){return typeof t=="string"&&t.length!==0&&!WU.test(t)},QU=function(t){return typeof t=="string"&&t.length!==0&&!KU.test(t)},YU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),QU(t)};var Bb=function(t,e,n){let r=n instanceof fe?new xm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+oi(r));if(typeof e=="function")throw new Error(t+"contains a function "+oi(r)+" with contents = "+e.toString());if(HD(e))throw new Error(t+"contains "+e.toString()+" "+oi(r));if(typeof e=="string"&&e.length>ym/3&&ta(e)>ym)throw new Error(t+"contains a string greater than "+ym+" utf8 bytes "+oi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ot(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!jb(o)))throw new Error(t+" contains an invalid key ("+o+") "+oi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);BV(r,o),Bb(t,c,r),$V(r)}),i&&s)throw new Error(t+' contains ".value" child '+oi(r)+" in addition to actual children.")}};var JU=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!jb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!YU(n))throw new Error(RT(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var iy=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function ZU(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!lb(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function hi(t,e,n){ZU(t,n),XU(t,r=>Qt(r,e)||Qt(e,r))}function XU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(ej(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ej(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();ci&&We("event: "+n.toString()),Na(r)}}}var tj="repo_interrupt",nj=25,sy=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ll(),this.transactionQueueTree_=new Sa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function rj(t,e,n){if(t.stats_=dy(t.repoInfo_),t.forceRestClient_||mV())t.server_=new Bm(t.repoInfo_,(r,i,s,o)=>{VD(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>UD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new hy(t.repoInfo_,e,(r,i,s,o)=>{VD(t,r,i,s,o)},r=>{UD(t,r)},r=>{sj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=vV(t.repoInfo_,()=>new zm(t.stats_,t.server_)),t.infoData_=new $m,t.infoSyncTree_=new jl({startListening:(r,i,s,o)=>{let c=[],u=t.infoData_.getNode(r._path);return u.isEmpty()||(c=Bl(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),_y(t,"connected",!1),t.serverSyncTree_=new jl({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,u)=>{let l=o(c,u);hi(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function ij(t){let n=t.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $b(t){return UU({timestamp:ij(t)})}function VD(t,e,n,r,i){t.dataUpdateCount++;let s=new fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let u=ea(n,l=>Ke(l));o=VU(t.serverSyncTree_,s,u,i)}else{let u=Ke(n);o=FU(t.serverSyncTree_,s,u,i)}else if(r){let u=ea(n,l=>Ke(l));o=LU(t.serverSyncTree_,s,u)}else{let u=Ke(n);o=Bl(t.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=Iy(t,s)),hi(t.eventQueue_,c,o)}function UD(t,e){_y(t,"connected",e),e===!1&&aj(t)}function sj(t,e){Ot(e,(n,r)=>{_y(t,n,r)})}function _y(t,e,n){let r=new fe("/.info/"+e),i=Ke(n);t.infoData_.updateSnapshot(r,i);let s=Bl(t.infoSyncTree_,r,i);hi(t.eventQueue_,r,s)}function oj(t){return t.nextWriteId_++}function aj(t){Hb(t,"onDisconnectEvents");let e=$b(t),n=Ll();Hm(t.onDisconnect_,le(),(i,s)=>{let o=$U(i,s,t.serverSyncTree_,e);mb(n,i,o)});let r=[];Hm(n,le(),(i,s)=>{r=r.concat(Bl(t.serverSyncTree_,i,s));let o=dj(t,i);Iy(t,o)}),t.onDisconnect_=Ll(),hi(t.eventQueue_,le(),r)}function cj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tj)}function Hb(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),We(n,...e)}function qb(t,e,n){return xb(t.serverSyncTree_,e,n)||Ie.EMPTY_NODE}function wy(t,e=t.transactionQueueTree_){if(e||ql(t,e),Fs(e)){let n=Gb(t,e);x(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&uj(t,Ma(e),n)}else Vb(e)&&Hl(e,n=>{wy(t,n)})}function uj(t,e,n){let r=n.map(l=>l.currentWriteId),i=qb(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let f=n[l];x(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;let p=Pt(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}let c=s.val(!0),u=e;t.server_.put(u.toString(),c,l=>{Hb(t,"transaction put response",{path:u.toString(),status:l});let f=[];if(l==="ok"){let p=[];for(let y=0;y<n.length;y++)n[y].status=2,f=f.concat(bs(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&p.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();ql(t,vy(t.transactionQueueTree_,e)),wy(t,t.transactionQueueTree_),hi(t.eventQueue_,e,f);for(let y=0;y<p.length;y++)Na(p[y])}else{if(l==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{It("transaction at "+u.toString()+" failed: "+l);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=l}Iy(t,e)}},o)}function Iy(t,e){let n=zb(t,e),r=Ma(n),i=Gb(t,n);return lj(t,i,r),r}function lj(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){let u=e[c],l=Pt(n,u.path),f=!1,p;if(x(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,p=u.abortReason,i=i.concat(bs(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=nj)f=!0,p="maxretry",i=i.concat(bs(t.serverSyncTree_,u.currentWriteId,!0));else{let y=qb(t,u.path,o);u.currentInputSnapshot=y;let I=e[c].update(y.val());if(I!==void 0){Bb("transaction failed: Data returned ",I,u.path);let A=Ke(I);typeof I=="object"&&I!=null&&un(I,".priority")||(A=A.updatePriority(y.getPriority()));let P=u.currentWriteId,W=$b(t),oe=HU(A,y,W);u.currentOutputSnapshotRaw=A,u.currentOutputSnapshotResolved=oe,u.currentWriteId=oj(t),o.splice(o.indexOf(P),1),i=i.concat(OU(t.serverSyncTree_,u.path,oe,u.currentWriteId,u.applyLocally)),i=i.concat(bs(t.serverSyncTree_,P,!0))}else f=!0,p="nodata",i=i.concat(bs(t.serverSyncTree_,u.currentWriteId,!0))}hi(t.eventQueue_,n,i),i=[],f&&(e[c].status=2,function(y){setTimeout(y,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(p),!1,null))))}ql(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)Na(r[c]);wy(t,t.transactionQueueTree_)}function zb(t,e){let n,r=t.transactionQueueTree_;for(n=ee(e);n!==null&&Fs(r)===void 0;)r=vy(r,n),e=me(e),n=ee(e);return r}function Gb(t,e){let n=[];return Wb(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Wb(t,e,n){let r=Fs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Hl(e,i=>{Wb(t,i,n)})}function ql(t,e){let n=Fs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Fb(e,n.length>0?n:void 0)}Hl(e,r=>{ql(t,r)})}function dj(t,e){let n=Ma(zb(t,e)),r=vy(t.transactionQueueTree_,e);return zU(r,i=>{vm(t,i)}),vm(t,r),Ub(r,i=>{vm(t,i)}),n}function vm(t,e){let n=Fs(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(x(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(x(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Fb(e,void 0):n.length=s+1,hi(t.eventQueue_,Ma(e),i);for(let o=0;o<r.length;o++)Na(r[o])}}function hj(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function fj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):It(`Invalid query segment '${n}' in query '${t}'`)}return e}var jD=function(t,e){let n=pj(t),r=n.namespace;n.domain==="firebase.com"&&Bn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||cV();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Rl(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new fe(n.pathString)}},pj=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",u=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=hj(t.substring(f,p)));let y=fj(t.substring(Math.min(t.length,p)));l=e.indexOf(":"),l>=0?(o=c==="https"||c==="wss",u=parseInt(e.substring(l+1),10)):l=e.length;let I=e.slice(0,l);if(I.toLowerCase()==="localhost")n="localhost";else if(I.split(".").length<=2)n=I;else{let A=e.indexOf(".");r=e.substring(0,A).toLowerCase(),n=e.substring(A+1),s=r}"ns"in y&&(s=y.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};var oy=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:ab(this._path)}get ref(){return new Os(this._repo,this._path)}get _queryIdentifier(){let e=bD(this._queryParams),n=ly(e);return n==="{}"?"default":n}get _queryObject(){return bD(this._queryParams)}isEqual(e){if(e=zt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=lb(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+jV(this._path)}};var Os=class t extends oy{constructor(e,n){super(e,n,new jm,!1)}get parent(){let e=ub(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};PU(Os);kU(Os);var gj="FIREBASE_DATABASE_EMULATOR_HOST",ay={},mj=!1;function yj(t,e,n,r){t.repoInfo_=new Rl(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function vj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),We("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=jD(s,i),c=o.repoInfo,u,l;typeof process<"u"&&process.env&&(l=process.env[gj]),l?(u=!0,s=`http://${l}?ns=${c.namespace}`,o=jD(s,i),c=o.repoInfo):u=!o.repoInfo.secure;let f=i&&u?new Ea(Ea.OWNER):new Cm(t.name,t.options,e);JU("Invalid Firebase Database URL",o),Y(o.path)||Bn("Database URL must point to the root of a Firebase Database (not including a child path).");let p=wj(c,t,f,new Tm(t.name,n));return new cy(p,t)}function _j(t,e){let n=ay[e];(!n||n[t.key]!==t)&&Bn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),cj(t),delete n[t.key]}function wj(t,e,n,r){let i=ay[e.name];i||(i={},ay[e.name]=i);let s=i[t.toURLString()];return s&&Bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sy(t,mj,n,r),i[t.toURLString()]=s,s}var cy=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Os(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_j(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Bn("Cannot call "+e+" on a deleted database.")}};function Kb(t=fr(),e){let n=Zr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=ju("database");r&&Qb(n,...r)}return n}function Qb(t,e,n,r={}){t=zt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Bn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Bn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ea(Ea.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Bu(r.mockUserToken,t.app.options.projectId);s=new Ea(o)}yj(i,e,n,s)}function Ij(t){sV(pn),hn(new ut("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return vj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ye(cD,uD,t),ye(cD,uD,"esm2017")}hy.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};hy.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Ij();var Pa=class{constructor(e){return e}},Yb="database",Ey=class{constructor(){return ri(Yb)}};var Ty=new L("angularfire2.database-instances");function Ej(t,e){let n=_s(Yb,t,e);return n&&new Pa(n)}function Tj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pa(r)}}var Cj={provide:Ey,deps:[[new Re,Ty]]},Dj={provide:Pa,useFactory:Ej,deps:[[new Re,Ty],Wt]};function Jb(t,...e){return ye("angularfire",Fn.full,"rtdb"),At([Dj,Cj,{provide:Ty,useFactory:Tj(t),multi:!0,deps:[ae,tt,mr,Vn,[new Re,ii],[new Re,gr],...e]}])}var Zb=yr(Kb,!0);var Xb={providers:[sE({eventCoalescing:!0}),gT(LC),NC(()=>xC({projectId:"cash-flow-db",appId:"1:481096687680:web:117e652208ed20618cbfa5",storageBucket:"cash-flow-db.appspot.com",apiKey:"AIzaSyCW7iTT8vYRMkiae80SstcZzxF2nqdH_WI",authDomain:"cash-flow-db.firebaseapp.com",messagingSenderId:"481096687680"})),PC(()=>kC()),oD(()=>aD()),Jb(()=>Zb()),vl,yl]};var bj=["*"],eS=(()=>{let e=class e{constructor(){this.type="box",this.priority="primary",this.disable=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=St({type:e,selectors:[["ui-button"]],inputs:{type:"type",priority:"priority",disable:"disable"},standalone:!0,features:[Nt],ngContentSelectors:bj,decls:2,vars:7,consts:[[3,"disabled"]],template:function(i,s){i&1&&(fu(),we(0,"button",0),pu(1),De()),i&2&&(QI("button button--",s.type," button--",s.priority,""),Rf("button-disabled",s.disable),sn("disabled",s.disable))},styles:[".button[_ngcontent-%COMP%]{color:var(--theme-text);border:none;font-size:16px;border-radius:8px;padding:5px 2px;text-align:center;vertical-align:middle;height:36px;cursor:pointer}.button--box[_ngcontent-%COMP%]{width:36px}.button--wide[_ngcontent-%COMP%]{padding:5px 14px;width:auto}.button--primary[_ngcontent-%COMP%]{background-color:var(--theme-bg)}.button--primary[_ngcontent-%COMP%]:hover, .button--primary[_ngcontent-%COMP%]:active{background-color:var(--theme-bg-hover)}.button--primary[disabled][_ngcontent-%COMP%], .button--primary.button-disabled[_ngcontent-%COMP%]{background-color:var(--theme-bg);cursor:default;pointer-events:none}.button--secondary[_ngcontent-%COMP%]{background-color:var(--theme-bg-hover)}.button--secondary[_ngcontent-%COMP%]:hover, .button--secondary[_ngcontent-%COMP%]:active{background-color:var(--theme-bg)}.button--secondary[disabled][_ngcontent-%COMP%], .button--secondary.button-disabled[_ngcontent-%COMP%]{background-color:var(--theme-bg-hover);cursor:default;pointer-events:none}.button[_ngcontent-%COMP%]:focus{box-shadow:1px 4px 8px #33334e1a}"]});let t=e;return t})();var tS=(()=>{let e=class e{transform(r){return r?r.split(" ").map(i=>i[0]).join("").toUpperCase():"?"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Yc({name:"userInitials",type:e,pure:!0,standalone:!0});let t=e;return t})();function Sj(t,e){t&1&&hu(0)}function Aj(t,e){if(t&1&&(we(0,"nav",3)(1,"div",4)(2,"ui-button",5)(3,"span",6),Ge(4,"home"),De()(),on(5,"div",7),we(6,"h2",8),Ge(7,"Cash Flow"),De()(),we(8,"div",9),Xi(9,Sj,1,0,"ng-container",10),we(10,"ui-button",11)(11,"span"),Ge(12),Nf(13,"userInitials"),De()()()()),t&2){let n=e.ngIf;Co();let r=gu(6);ar(9),sn("ngTemplateOutlet",r),ar(),sn("disable",!0),ar(2),mu(xf(13,3,n==null?null:n.displayName))}}function Rj(t,e){t&1&&hu(0)}function Nj(t,e){if(t&1&&(we(0,"nav",3)(1,"div",4)(2,"ui-button",12)(3,"span",6),Ge(4,"lock"),De()(),on(5,"div",7),we(6,"h2",8),Ge(7,"Welcome"),De()(),we(8,"div",9),Xi(9,Rj,1,0,"ng-container",10),we(10,"ui-button",11)(11,"span",6),Ge(12,"person"),De()()()()),t&2){Co();let n=gu(6);ar(2),sn("disable",!0),ar(7),sn("ngTemplateOutlet",n),ar(),sn("disable",!0)}}function xj(t,e){if(t&1){let n=ZI();we(0,"ui-button",13),Br("click",function(){Cw(n);let i=Co();return Dw(i.toggleTheme())}),we(1,"span",6),Ge(2),De()()}if(t&2){let n=Co();ar(2),mu(n.isDarkTheme?"brightness_5":"brightness_2")}}var nS=(()=>{let e=class e{constructor(r){this.auth=r,this.isDarkTheme=!0,this.currentUser$=new Me,this.loadCurrentUser(),this.auth.onAuthStateChanged(()=>this.loadCurrentUser())}loadCurrentUser(){return b(this,null,function*(){yield this.auth.authStateReady();let r=yield this.auth.currentUser;this.currentUser$.next(r)})}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,document.body.setAttribute("data-theme",this.isDarkTheme?"dark":"light")}};e.\u0275fac=function(i){return new(i||e)(Ne(_t))},e.\u0275cmp=St({type:e,selectors:[["app-root"]],standalone:!0,features:[Nt],decls:7,vars:4,consts:[["welcome",""],["themeSwitcher",""],["class","top-nav",4,"ngIf","ngIfElse"],[1,"top-nav"],[1,"top-nav__left"],["routerLink","/","priority","primary"],[1,"material-icons"],[1,"top-nav__separator"],[1,"top-nav__title"],[1,"top-nav__right"],[4,"ngTemplateOutlet"],["priority","secondary",3,"disable"],["priority","primary",3,"disable"],["priority","primary",3,"click"]],template:function(i,s){if(i&1&&(Xi(0,Aj,14,5,"nav",2),Nf(1,"async"),on(2,"router-outlet"),Xi(3,Nj,13,3,"ng-template",null,0,Mf)(5,xj,3,1,"ng-template",null,1,Mf)),i&2){let o=gu(4);sn("ngIf",xf(1,2,s.currentUser$))("ngIfElse",o)}},dependencies:[Ap,eS,TE,IE,pT,tS,EE],styles:["[_nghost-%COMP%]{background-color:var(--theme-bg-hover);height:100vh}.top-nav[_ngcontent-%COMP%]{padding:12px;background-color:var(--theme-bg);border-bottom:1px solid var(--theme-bg-hover);display:flex;justify-content:space-between}.top-nav__left[_ngcontent-%COMP%], .top-nav__right[_ngcontent-%COMP%]{display:flex;align-items:start;gap:10px}.top-nav__separator[_ngcontent-%COMP%]{width:1px;border-right:1px solid var(--theme-bg-hover);margin:-10px 0;height:60px}.top-nav__title[_ngcontent-%COMP%]{margin:0;line-height:38px;padding:0 10px}"]});let t=e;return t})();ME(nS,Xb).catch(t=>console.error(t));
